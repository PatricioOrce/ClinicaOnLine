"use strict";(self.webpackChunkclinica=self.webpackChunkclinica||[]).push([[637],{9637:(vo,Y,p)=>{p.r(Y),p.d(Y,{IntranetModule:()=>xo});var h=p(6895),E=p(8471),t=p(4650),P=p(7938),H=p(6534),I=p(5798),G=p(9936);function B(o,a){1&o&&t._UZ(0,"th")}function X(o,a){if(1&o&&(t.TgZ(0,"li",18),t._uU(1),t.TgZ(2,"b"),t._uU(3),t.qZA()()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.AsE(" ",e.fecha," - ",e.hora," - "),t.xp6(2),t.Oqu(e.especialidad.descripcion)}}function K(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",16),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.enviarTurno(r))}),t.YNc(1,X,4,3,"li",17),t.qZA()}if(2&o){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf",""!=e)}}function W(o,a){if(1&o&&(t.TgZ(0,"td")(1,"div",6)(2,"div",7)(3,"div",8),t._UZ(4,"img",9),t.qZA(),t.TgZ(5,"div",10)(6,"div",11)(7,"h5",12),t._uU(8),t.qZA(),t.TgZ(9,"div",13)(10,"ul",14),t.YNc(11,K,2,1,"div",15),t.qZA()()()()()()()),2&o){const e=a.$implicit;t.xp6(4),t.Q6J("src",e.urlFotos[0],t.LSH),t.xp6(4),t.AsE(" ",e.apellido,", ",e.nombre," "),t.xp6(3),t.Q6J("ngForOf",e.ultimosTresTurnos)}}function z(o,a){if(1&o&&(t.TgZ(0,"div"),t._UZ(1,"app-historia-clinica-detalle",19),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("turnoDetalle",e.turnoSeleccionado)}}let tt=(()=>{class o{constructor(e,i){this.turnoSvc=e,this.authSvc=i,this.turnosEspecialista=[],this.pacientesEspecialista=[],this.turnosPacienteSeleccionado=[],this.turnosPacientesAtendidos=[],this.turnoSvc.getTurnos().subscribe(n=>{if(this.turnos=n,null!=this.turnos&&this.authSvc.usuarioLogeado&&(this.turnosEspecialista=this.turnos.filter(s=>s.especialista.email==this.authSvc.usuarioLogeado.email&&"RECHAZADO"!=s.estado&&"CANCELADO"!=s.estado&&"PENDIENTE"!=s.estado)),null!=this.turnosEspecialista){const s=[""];for(var r=0;r<this.turnosEspecialista.length;r++){const l=this.turnosEspecialista[r].paciente.email;s.includes(l)||(s.push(l),this.pacientesEspecialista.push({email:this.turnosEspecialista[r].paciente.email,nombre:this.turnosEspecialista[r].paciente.nombre,apellido:this.turnosEspecialista[r].paciente.apellido,urlFotos:this.turnosEspecialista[r].paciente.urlFotos,ultimosTresTurnos:[""]}))}console.log("this.turnosEspecialista -> ",this.turnosEspecialista),console.log("emailUnicos -> ",s),console.log("this.pacientesEspecialista -> ",this.pacientesEspecialista),this.pacientesEspecialista.forEach(l=>{for(var u=0;u<this.turnosEspecialista.length;u++)this.turnosEspecialista[u].paciente.email==l.email&&l.ultimosTresTurnos.push(this.turnosEspecialista[u])}),this.pacientesEspecialista.forEach(l=>{let d=l.ultimosTresTurnos.length;if(d>3){let v=l.ultimosTresTurnos[d-1],Z=l.ultimosTresTurnos[d-2],g=l.ultimosTresTurnos[d-3];l.ultimosTresTurnos=[""],l.ultimosTresTurnos.push(g),l.ultimosTresTurnos.push(Z),l.ultimosTresTurnos.push(v)}})}console.log(this.turnosPacientesAtendidos)})}ngOnInit(){}enviarTurno(e){this.turnoSeleccionado=e,console.log(e)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(P.D),t.Y36(H.e))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-mis-pacientes"]],decls:14,vars:3,consts:[[1,"container-general","mx-auto"],[1,"mx-auto"],[1,"col-md-12","mx-auto","table-responsive"],[1,"table","table-responsive","mx-auto"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"card","mb-3","card-paciente",2,"max-width","700px"],[1,"row","g-0"],[1,"col-md-4"],["appNotImage","","alt","...",1,"img-fluid","rounded-start",3,"src"],[1,"col-md-8"],[1,"card-body"],[1,"card-title"],[1,"card-text",2,"width","100%"],[1,"list-group","list-group-flush"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["class","list-group-item text-list-turno",4,"ngIf"],[1,"list-group-item","text-list-turno"],[3,"turnoDetalle"]],template:function(e,i){1&e&&(t.TgZ(0,"body")(1,"div",0)(2,"div",1)(3,"h2"),t._uU(4,"MIS PACIENTES"),t.qZA(),t.TgZ(5,"div",2)(6,"table",3)(7,"thead")(8,"tr"),t.YNc(9,B,1,0,"th",4),t.qZA()(),t.TgZ(10,"tbody")(11,"tr"),t.YNc(12,W,12,4,"td",4),t.qZA()()()(),t.YNc(13,z,2,1,"div",5),t.qZA()()()),2&e&&(t.xp6(9),t.Q6J("ngForOf",i.pacientesEspecialista),t.xp6(3),t.Q6J("ngForOf",i.pacientesEspecialista),t.xp6(1),t.Q6J("ngIf",i.turnoSeleccionado))},dependencies:[h.sg,h.O5,I.F,G.B],styles:["body[_ngcontent-%COMP%]{background-color:#f2f2f2;height:150em}@media only screen and (max-width: 769px){body[_ngcontent-%COMP%]{height:140em}}.containter-general[_ngcontent-%COMP%]{padding:20px}h2[_ngcontent-%COMP%]{color:#0086cf;border-radius:10px;padding:5px;text-transform:uppercase;text-align:center}h3[_ngcontent-%COMP%]{padding-top:10px}.table-responsive[_ngcontent-%COMP%]{position:relative;max-height:1000px!important;overflow:auto}.tr-data[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#b0fbff}td[_ngcontent-%COMP%]{padding:10px}img[_ngcontent-%COMP%]{width:190px;height:200px;border:1px solid black}.card-paciente[_ngcontent-%COMP%]{padding:10px}.card-paciente[_ngcontent-%COMP%]:hover{cursor:pointer;box-shadow:3px 3px 5px #8edfff}table[_ngcontent-%COMP%]{text-align:center;color:#4d4d4d;font-weight:400;margin-top:10px;padding:20px}.text-list-turno[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#6ff}"]}),o})();var w=p(4004),J=p(1082),c=p(433),et=p(3235);class D{}var ot=p(7566);let L=(()=>{class o{constructor(e,i){this.router=e,this.firestore=i,this.historis="historiaClinica",this.historias=this.firestore.collection("historiaClinica").snapshotChanges()}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(E.F0),t.LFG(ot.ST))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function it(o,a){1&o&&(t.TgZ(0,"span",46),t._uU(1,"La altura es requerida."),t.qZA())}function at(o,a){1&o&&(t.TgZ(0,"span",46),t._uU(1,"El peso es requerido."),t.qZA())}function nt(o,a){1&o&&(t.TgZ(0,"span",46),t._uU(1,"La Temperatura minima es 34."),t.qZA())}function rt(o,a){1&o&&(t.TgZ(0,"span",46),t._uU(1,"La Temperatura es requerida."),t.qZA())}function st(o,a){1&o&&(t.TgZ(0,"span",46),t._uU(1,"La Temperatura m\xe1xima es 42."),t.qZA())}function lt(o,a){1&o&&(t.TgZ(0,"span",46),t._uU(1,"La Presi\xf3n debe tener solo numeros. "),t.qZA())}function ct(o,a){1&o&&(t.TgZ(0,"span",46),t._uU(1,"La presion es requerida. "),t.qZA())}function pt(o,a){1&o&&(t.TgZ(0,"span",46),t._uU(1,"La presion debe tener solo 3 caracteres."),t.qZA())}function ut(o,a){1&o&&(t.TgZ(0,"span",46),t._uU(1,"Este campo es requerido"),t.qZA())}function dt(o,a){1&o&&(t.TgZ(0,"span",46),t._uU(1,"Este campo es requerido"),t.qZA())}function ht(o,a){1&o&&(t.TgZ(0,"span",46),t._uU(1,"Este campo es requerido"),t.qZA())}function mt(o,a){1&o&&(t.TgZ(0,"span",46),t._uU(1,"Este campo es requerido"),t.qZA())}function _t(o,a){1&o&&(t.TgZ(0,"span",46),t._uU(1,"Este campo es requerido"),t.qZA())}function gt(o,a){1&o&&(t.TgZ(0,"span",46),t._uU(1,"Este campo es requerido"),t.qZA())}function ft(o,a){1&o&&(t.TgZ(0,"span",46),t._uU(1,"Este campo es requerido"),t.qZA())}function xt(o,a){1&o&&(t.TgZ(0,"span",46),t._uU(1,"Este campo es requerido"),t.qZA())}function vt(o,a){1&o&&(t.TgZ(0,"span",46),t._uU(1,"Este campo es requerido"),t.qZA())}function Ct(o,a){1&o&&(t.TgZ(0,"span",46),t._uU(1,"Este campo es requerido"),t.qZA())}function Zt(o,a){1&o&&(t.TgZ(0,"span",46),t._uU(1,"Este campo es requerido"),t.qZA())}function Tt(o,a){1&o&&(t.TgZ(0,"span",46),t._uU(1,"Este campo es requerido"),t.qZA())}let At=(()=>{class o{constructor(e,i,n,r,s){this.fb=e,this.routeActivate=i,this.historiaClinicaService=n,this.route=r,this.turnoSvc=s,this.TurnoAMostrar="",this.formulario=e.group({Altura:["",c.kI.required],Peso:["",c.kI.required],Temperatura:["",[c.kI.required,c.kI.min(34),c.kI.max(45)]],Presion:["",[c.kI.required]],Clave1:["",c.kI.required],Valor1:["",c.kI.required],Clave2:["",c.kI.required],Valor2:["",c.kI.required],Clave3:[""],Valor3:[""],Clave4:[""],Valor4:[""],Clave5:[""],Valor5:[""],Clave6:[""],Valor6:[""]})}ngOnInit(){}aceptar(){const e=new D;e.altura=this.formulario.controls.Altura.value,e.peso=this.formulario.controls.Peso.value,e.temperatura=this.formulario.controls.Temperatura.value,e.presion=this.formulario.controls.Presion.value,e.clave1=this.formulario.controls.Clave1.value,e.valor1=this.formulario.controls.Valor1.value,e.clave2=this.formulario.controls.Clave2.value,e.valor2=this.formulario.controls.Valor2.value,e.clave3=this.formulario.controls.Clave3.value,e.valor3=this.formulario.controls.Valor3.value,e.clave4=this.formulario.controls.Clave4.value,e.valor4=this.formulario.controls.Valor4.value,e.clave5=this.formulario.controls.Clave5.value,e.valor5=this.formulario.controls.Valor5.value,e.clave6=this.formulario.controls.Clave6.value,e.valor6=this.formulario.controls.Valor6.value,console.log(this.formulario.value),this.turnoSvc.updateTurnoHistoriaClinica(e,this.turno.id).then(i=>{this.formulario.reset(),this.route.navigate(["/intranet/mis-pacientes"])})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(c.qu),t.Y36(E.gz),t.Y36(L),t.Y36(E.F0),t.Y36(P.D))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-historia-clinica-alta"]],inputs:{turno:"turno",TurnoAMostrar:"TurnoAMostrar"},decls:106,vars:28,consts:[[1,"container-general"],[3,"formGroup","ngSubmit"],[1,"container-general","container"],[1,""],[1,"form-control"],[1,"form-group"],[1,"row"],[1,"col-3"],["type","text","placeholder","Altura","formControlName","Altura",1,"form-control"],["class","text-danger",4,"ngIf"],["type","text","placeholder","Peso","formControlName","Peso",1,"form-control"],["type","number","placeholder","Temperatura","formControlName","Temperatura",1,"form-control"],["type","text","placeholder","Presi\xf3n","formControlName","Presion",1,"form-control"],[1,"text-muted"],["type","text","placeholder","Clave 1","formControlName","Clave1",1,"form-control"],["type","text","placeholder","Valor 1","formControlName","Valor1",1,"form-control"],["type","text","placeholder","Clave 2","formControlName","Clave2",1,"form-control"],["type","text","placeholder","Valor 2","formControlName","Valor2",1,"form-control"],["type","text","placeholder","Clave 3","formControlName","Clave3",1,"form-control"],["type","text","placeholder","Valor 3","formControlName","Valor3",1,"form-control"],["type","text","placeholder","Clave 4","formControlName","Clave4",1,"form-control"],[2,"margin-top","3px","margin-left","5px","margin-right","15px"],["type","range","placeholder","Valor 4","formControlName","Valor4","min","0","max","100","list","rango","step","5"],["id","rango"],["value","0","label","0"],["value","10"],["value","20"],["value","30"],["value","40"],["value","50","label","50"],["value","60"],["value","70"],["value","80"],["value","90"],["value","100","label","100"],["type","text","placeholder","Clave 5","formControlName","Clave5",1,"form-control"],["type","number","placeholder","Valor 5","formControlName","Valor5",1,"form-control"],["type","text","placeholder","Clave 6","formControlName","Clave6",1,"form-control"],[1,"form-check","form-switch"],["type","checkbox","role","switch","formControlName","Valor6","id","flexSwitchCheckDefault",1,"form-check-input"],["for","flexSwitchCheckDefault",1,"form-check-label"],["role","alert",1,"alert","alert-success"],[1,"alert-heading"],[1,"mb-0"],[1,"col-12"],["type","submit",1,"w-20","btn","btn-primary","btn-lg","mt-1",3,"disabled"],[1,"text-danger"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0)(1,"form",1),t.NdJ("ngSubmit",function(){return i.aceptar()}),t._UZ(2,"br"),t.TgZ(3,"div",2)(4,"h2",3),t._uU(5,"Carga de Historia Cl\xednica"),t.qZA(),t.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7),t._UZ(10,"input",8),t.YNc(11,it,2,0,"span",9),t.qZA(),t.TgZ(12,"div",7),t._UZ(13,"input",10),t.YNc(14,at,2,0,"span",9),t.qZA(),t.TgZ(15,"div",7),t._UZ(16,"input",11),t.YNc(17,nt,2,0,"span",9),t.YNc(18,rt,2,0,"span",9),t.YNc(19,st,2,0,"span",9),t.qZA(),t.TgZ(20,"div",7),t._UZ(21,"input",12),t.YNc(22,lt,2,0,"span",9),t.YNc(23,ct,2,0,"span",9),t.YNc(24,pt,2,0,"span",9),t.qZA()(),t._UZ(25,"br"),t.TgZ(26,"div",6)(27,"div",5)(28,"h4",13),t._uU(29,"Datos Din\xe1micos"),t.qZA(),t.TgZ(30,"div",7),t._UZ(31,"input",14),t.YNc(32,ut,2,0,"span",9),t._UZ(33,"input",15),t.YNc(34,dt,2,0,"span",9),t.qZA(),t._UZ(35,"br"),t.TgZ(36,"div",7),t._UZ(37,"input",16),t.YNc(38,ht,2,0,"span",9),t._UZ(39,"input",17),t.YNc(40,mt,2,0,"span",9),t.qZA(),t._UZ(41,"br"),t.TgZ(42,"div",7),t._UZ(43,"input",18),t.YNc(44,_t,2,0,"span",9),t._UZ(45,"input",19),t.YNc(46,gt,2,0,"span",9),t.qZA(),t._UZ(47,"br"),t.TgZ(48,"div",7),t._UZ(49,"input",20),t.YNc(50,ft,2,0,"span",9),t.TgZ(51,"label",21),t._uU(52,"Valor de 0 a 100 "),t.qZA(),t._UZ(53,"input",22),t.TgZ(54,"datalist",23),t._UZ(55,"option",24)(56,"option",25)(57,"option",26)(58,"option",27)(59,"option",28)(60,"option",29)(61,"option",30)(62,"option",31)(63,"option",32)(64,"option",33)(65,"option",34),t.qZA(),t.YNc(66,xt,2,0,"span",9),t.qZA(),t._UZ(67,"br"),t.TgZ(68,"div",7),t._UZ(69,"input",35),t.YNc(70,vt,2,0,"span",9),t._UZ(71,"input",36),t.YNc(72,Ct,2,0,"span",9),t.qZA(),t._UZ(73,"br"),t.TgZ(74,"div",7),t._UZ(75,"input",37),t.YNc(76,Zt,2,0,"span",9),t.TgZ(77,"div",38),t._UZ(78,"input",39),t.TgZ(79,"label",40),t._uU(80,"NO/SI "),t.qZA()(),t.YNc(81,Tt,2,0,"span",9),t.qZA(),t._UZ(82,"br"),t.TgZ(83,"div",41)(84,"h4",42),t._uU(85,"Turno"),t.qZA(),t.TgZ(86,"p"),t._uU(87," Paciente atendido: "),t.TgZ(88,"b"),t._uU(89),t.qZA(),t._uU(90,", para la especialidad: "),t.TgZ(91,"b"),t._uU(92),t.qZA(),t._uU(93,". "),t.qZA(),t.TgZ(94,"p"),t._uU(95," Rese\xf1a/Comentario al respecto: "),t.TgZ(96,"i"),t._uU(97),t.qZA()(),t._UZ(98,"hr"),t.TgZ(99,"p",43),t._uU(100," Fecha de la atenci\xf3n: "),t.TgZ(101,"b"),t._uU(102),t.qZA()()()(),t.TgZ(103,"div",44)(104,"button",45),t._uU(105," Enviar "),t.qZA()()()()()()()()),2&e){let n,r,s,l,u,d,v,Z,g,_,f,C,x,A,T,S,U,q,M,O;t.xp6(1),t.Q6J("formGroup",i.formulario),t.xp6(10),t.Q6J("ngIf",(null==(n=i.formulario.get("Altura"))?null:n.hasError("required"))&&(null==(n=i.formulario.get("Altura"))?null:n.touched)),t.xp6(3),t.Q6J("ngIf",(null==(r=i.formulario.get("Peso"))?null:r.hasError("required"))&&(null==(r=i.formulario.get("Peso"))?null:r.touched)),t.xp6(3),t.Q6J("ngIf",(null==(s=i.formulario.get("Temperatura"))?null:s.hasError("min"))&&(null==(s=i.formulario.get("Temperatura"))?null:s.touched)),t.xp6(1),t.Q6J("ngIf",(null==(l=i.formulario.get("Temperatura"))?null:l.hasError("required"))&&(null==(l=i.formulario.get("Temperatura"))?null:l.touched)),t.xp6(1),t.Q6J("ngIf",(null==(u=i.formulario.get("Temperatura"))?null:u.hasError("max"))&&(null==(u=i.formulario.get("Temperatura"))?null:u.touched)),t.xp6(3),t.Q6J("ngIf",(null==(d=i.formulario.get("Presion"))?null:d.hasError("estaMal"))&&(null==(d=i.formulario.get("Presion"))?null:d.touched)),t.xp6(1),t.Q6J("ngIf",(null==(v=i.formulario.get("Presion"))?null:v.hasError("required"))&&(null==(v=i.formulario.get("Presion"))?null:v.touched)),t.xp6(1),t.Q6J("ngIf",null==(Z=i.formulario.get("Presion"))?null:Z.hasError("Presion")),t.xp6(8),t.Q6J("ngIf",(null==(g=i.formulario.get("Clave1"))?null:g.hasError("required"))&&(null==(g=i.formulario.get("Clave1"))?null:g.touched)),t.xp6(2),t.Q6J("ngIf",(null==(_=i.formulario.get("Valor1"))?null:_.hasError("required"))&&(null==(_=i.formulario.get("Valor1"))?null:_.touched)),t.xp6(4),t.Q6J("ngIf",(null==(f=i.formulario.get("Clave2"))?null:f.hasError("required"))&&(null==(f=i.formulario.get("Clave2"))?null:f.touched)),t.xp6(2),t.Q6J("ngIf",(null==(C=i.formulario.get("Valor2"))?null:C.hasError("required"))&&(null==(C=i.formulario.get("Valor2"))?null:C.touched)),t.xp6(4),t.Q6J("ngIf",(null==(x=i.formulario.get("Clave3"))?null:x.hasError("required"))&&(null==(x=i.formulario.get("Clave3"))?null:x.touched)),t.xp6(2),t.Q6J("ngIf",(null==(A=i.formulario.get("Valor3"))?null:A.hasError("required"))&&(null==(A=i.formulario.get("Valor3"))?null:A.touched)),t.xp6(4),t.Q6J("ngIf",(null==(T=i.formulario.get("Clave4"))?null:T.hasError("required"))&&(null==(T=i.formulario.get("Clave4"))?null:T.touched)),t.xp6(16),t.Q6J("ngIf",(null==(S=i.formulario.get("Valor4"))?null:S.hasError("required"))&&(null==(S=i.formulario.get("Valor4"))?null:S.touched)),t.xp6(4),t.Q6J("ngIf",(null==(U=i.formulario.get("Clave5"))?null:U.hasError("required"))&&(null==(U=i.formulario.get("Clave5"))?null:U.touched)),t.xp6(2),t.Q6J("ngIf",(null==(q=i.formulario.get("Valor5"))?null:q.hasError("required"))&&(null==(q=i.formulario.get("Valor5"))?null:q.touched)),t.xp6(4),t.Q6J("ngIf",(null==(M=i.formulario.get("Clave6"))?null:M.hasError("required"))&&(null==(M=i.formulario.get("Clave6"))?null:M.touched)),t.xp6(5),t.Q6J("ngIf",(null==(O=i.formulario.get("Valor6"))?null:O.hasError("required"))&&(null==(O=i.formulario.get("Valor6"))?null:O.touched)),t.xp6(8),t.AsE("",i.turno.paciente.nombre," ",i.turno.paciente.apellido,""),t.xp6(3),t.Oqu(i.turno.especialidad.nombre),t.xp6(5),t.hij('"',i.turno.comentariosEspecialista,'" '),t.xp6(5),t.AsE("",i.turno.fecha," ",i.turno.hora,""),t.xp6(2),t.Q6J("disabled",i.formulario.invalid)}},dependencies:[h.O5,c._Y,c.YN,c.Kr,c.Fj,c.wV,c.eT,c.Wl,c.JJ,c.JL,c.sg,c.u],styles:[".containter-general[_ngcontent-%COMP%]{padding:20px}h2[_ngcontent-%COMP%]{box-shadow:1px 1px 3px #999;color:#53cf00;border-radius:10px;text-transform:uppercase;text-align:center;padding:10px;background-color:#fff}.form-control[_ngcontent-%COMP%]{padding:20px}"]}),o})(),bt=(()=>{class o{transform(e,i){const n=[];if(null!=i){for(const r of e)(r.especialidad.descripcion.toLowerCase().indexOf(i)>-1||r.paciente.nombre.toLowerCase().indexOf(i)>-1||r.paciente.apellido.toLowerCase().indexOf(i)>-1||""!=r.historiaClinica&&(r.historiaClinica.altura.toString().indexOf(i)>-1||r.historiaClinica.peso.toString().indexOf(i)>-1||r.historiaClinica.temperatura.toString().indexOf(i)>-1||r.historiaClinica.presion.indexOf(i)>-1||r.historiaClinica.clave1.indexOf(i)>-1||r.historiaClinica.clave3.indexOf(i)>-1||r.historiaClinica.clave2.indexOf(i)>-1||r.historiaClinica.clave4.indexOf(i)>-1||r.historiaClinica.clave5.indexOf(i)>-1||r.historiaClinica.clave6.indexOf(i)>-1))&&n.push(r);return n}return e}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275pipe=t.Yjl({name:"filterEspecialista",type:o,pure:!0}),o})();function Et(o,a){1&o&&(t.TgZ(0,"div",10)(1,"div",11)(2,"span",12),t._uU(3,"Loading..."),t.qZA()()())}function Ht(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"tr",15),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.asignarTurno(r))}),t.TgZ(1,"th"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td",16)(12,"b"),t._uU(13),t.qZA()()()}if(2&o){const e=a.$implicit,i=a.index;t.xp6(2),t.Oqu(i+1),t.xp6(2),t.AsE("",e.fecha," - ",e.hora,""),t.xp6(2),t.AsE("",e.paciente.nombre," ",e.paciente.apellido,""),t.xp6(2),t.AsE(" ",e.especialista.nombre," ",e.especialista.apellido," "),t.xp6(2),t.Oqu(e.especialidad.descripcion),t.xp6(1),t.Q6J("ngClass","ACEPTADO"==e.estado?"text-primary":"PENDIENTE"==e.estado?"text-warning":"FINALIZADO"==e.estado?"text-success":"text-danger"),t.xp6(2),t.Oqu(e.estado)}}function St(o,a){if(1&o&&(t.TgZ(0,"table",13)(1,"thead")(2,"tr"),t._UZ(3,"th"),t.TgZ(4,"th"),t._uU(5,"Fecha y Hora"),t.qZA(),t.TgZ(6,"th"),t._uU(7,"Paciente"),t.qZA(),t.TgZ(8,"th"),t._uU(9,"Especialista"),t.qZA(),t.TgZ(10,"th"),t._uU(11,"Especialidad"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"Estado"),t.qZA()()(),t.TgZ(14,"tbody"),t.YNc(15,Ht,14,10,"tr",14),t.ALo(16,"filterEspecialista"),t.qZA()()),2&o){const e=t.oxw();t.xp6(15),t.Q6J("ngForOf",t.xi3(16,1,e.turnosPaciente,e.filter))}}function Ut(o,a){if(1&o&&t._UZ(0,"app-turno-detalle",17),2&o){const e=t.oxw();t.Q6J("turnoDetalle",e.turnoSeleccionado)}}function qt(o,a){if(1&o&&t._UZ(0,"app-historia-clinica-alta",19),2&o){const e=t.oxw(2);t.Q6J("turno",e.turnoSeleccionado)}}function Mt(o,a){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,qt,1,1,"app-historia-clinica-alta",18),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf","FINALIZADO"==e.turnoSeleccionado.estado)}}let Ot=(()=>{class o{constructor(e,i){this.turnoSvc=e,this.authSvc=i,this.usuarios=[],this.mostrarAltaHistoria=!0,this.listadoHistoriaClinica=[],this.listaHistoriaClinica=[]}ngOnInit(){setTimeout(()=>{this.usuario=this.authSvc.usuario,console.log("--------------------------------------------"),console.log(this.usuario),console.log(this.authSvc.usuario),null!=this.usuario&&(this.turnosOcupados=this.turnoSvc.firestore.collection("turnos",e=>e.where("especialista.email","==",this.usuario.email)),console.log(this.turnosOcupados),this.cargarTurnos())},3e3)}cargarTurnos(){this.turnosOcupados.snapshotChanges().pipe((0,w.U)(e=>{this.turnosPaciente=new Array,e.map(i=>{var n=new J.v;n.id=i.payload.doc.id,n.estado=i.payload.doc.data().estado,n.paciente=i.payload.doc.data().paciente,n.especialista=i.payload.doc.data().especialista,n.especialidad=i.payload.doc.data().especialidad,n.fecha=i.payload.doc.data().fecha,n.hora=i.payload.doc.data().hora,n.comentariosPaciente=i.payload.doc.data().comentariosPaciente,n.comentariosEspecialista=i.payload.doc.data().comentariosEspecialista,n.comentariosAdmin=i.payload.doc.data().comentariosAdmin,n.historiaClinica=i.payload.doc.data().historiaClinica,n.encuesta=i.payload.doc.data().encuesta,n.calificacionAtencion=i.payload.doc.data().calificacionAtencion,this.turnosPaciente.push(n)}),console.log("turnos Especialista: ",this.turnosPaciente)})).subscribe()}asignarTurno(e){this.turnoSeleccionado=e,console.log(this.turnoSeleccionado.historiaClinica),console.log(e.historiaClinica),""!=e.historiaClinica?(console.log("oculto"),this.mostrarAltaHistoria=!1):(console.log("muestro"),this.mostrarAltaHistoria=!0)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(P.D),t.Y36(H.e))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-mis-turnos-especialista"]],decls:14,vars:5,consts:[[1,"containter-general"],[1,"text-center"],[1,"row"],[1,"form-group","col-md-6"],["ng-blur","ngBlur()",1,"form-control",3,"ngModel","ngModelChange"],["class","mx-auto text-center mt-5",4,"ngIf"],[1,"col-md-12","mx-auto","table-responsive","mt-3"],["class","table table-striped table-bordered",4,"ngIf"],[3,"turnoDetalle",4,"ngIf"],[4,"ngIf"],[1,"mx-auto","text-center","mt-5"],["role","status",1,"spinner-border","text-dark","mx-auto","text-center"],[1,"visually-hidden"],[1,"table","table-striped","table-bordered"],["class","tr-data",3,"click",4,"ngFor","ngForOf"],[1,"tr-data",3,"click"],[3,"ngClass"],[3,"turnoDetalle"],[3,"turno",4,"ngIf"],[3,"turno"]],template:function(e,i){1&e&&(t.TgZ(0,"body")(1,"div",0)(2,"h2",1),t._uU(3,"Mis Turnos"),t.qZA(),t.TgZ(4,"div",2)(5,"h4"),t._uU(6,"B\xfasqueda por Especialidad o Paciente"),t.qZA(),t.TgZ(7,"div",3)(8,"input",4),t.NdJ("ngModelChange",function(r){return i.filter=r}),t.qZA()()(),t.YNc(9,Et,4,0,"div",5),t.TgZ(10,"div",6),t.YNc(11,St,17,4,"table",7),t.qZA(),t.YNc(12,Ut,1,1,"app-turno-detalle",8),t.YNc(13,Mt,2,1,"div",9),t.qZA()()),2&e&&(t.xp6(8),t.Q6J("ngModel",i.filter),t.xp6(1),t.Q6J("ngIf",!i.turnosPaciente),t.xp6(2),t.Q6J("ngIf",i.turnosPaciente),t.xp6(1),t.Q6J("ngIf",i.turnoSeleccionado),t.xp6(1),t.Q6J("ngIf",i.turnoSeleccionado&&i.mostrarAltaHistoria))},dependencies:[h.mk,h.sg,h.O5,c.Fj,c.JJ,c.On,et.k,At,bt],styles:["body[_ngcontent-%COMP%]{background-color:#f2f2f2;height:150em}@media only screen and (max-width: 769px){body[_ngcontent-%COMP%]{height:140em}}.containter-general[_ngcontent-%COMP%]{padding:20px}.tr-data[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#b0fbff}h3[_ngcontent-%COMP%]{padding-top:10px}h2[_ngcontent-%COMP%]{color:#0086cf;border-radius:10px;text-transform:uppercase;text-align:center}img[_ngcontent-%COMP%]{width:100px;height:110px;box-shadow:0 0 5px #999;padding:10px;margin:0 10px}.table-responsive[_ngcontent-%COMP%]{position:relative;max-height:250px!important;overflow:auto}"]}),o})();var Pt=p(9466),It=p(6347);function yt(o,a){1&o&&t._UZ(0,"th")}function Nt(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"tr")(1,"td",8)(2,"div",9),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.exportExcel(r))}),t.TgZ(3,"div",10)(4,"div",11),t._UZ(5,"img",12),t.qZA(),t.TgZ(6,"div",13)(7,"div",14)(8,"h4",15),t._uU(9),t.qZA(),t.TgZ(10,"div",16)(11,"ul",17)(12,"li",18)(13,"b"),t._uU(14,"CORREO: "),t.qZA(),t._uU(15),t.qZA(),t.TgZ(16,"li",18)(17,"b"),t._uU(18,"DNI: "),t.qZA(),t._uU(19),t.qZA(),t.TgZ(20,"li",18)(21,"b"),t._uU(22,"OBRA SOCIAL: "),t.qZA(),t._uU(23),t.qZA(),t.TgZ(24,"li",18)(25,"b"),t._uU(26,"EDAD: "),t.qZA(),t._uU(27),t.qZA()()()()()()()()()}if(2&o){const e=a.$implicit;t.xp6(5),t.Q6J("src",e.urlFotos[0],t.LSH),t.xp6(4),t.AsE(" ",e.apellido,", ",e.nombre," "),t.xp6(6),t.hij(" ",e.email," "),t.xp6(4),t.hij(" ",e.dni," "),t.xp6(4),t.hij(" ",e.obraSocial," "),t.xp6(4),t.hij(" ",e.edad," ")}}let wt=(()=>{class o{constructor(e,i,n){this.excelExport=e,this.turnoSvc=i,this.authSvc=n,this.pacientes=[],this.turnosPacienteSeleccionado=[],this.turnosPacientesAtendidos=[]}ngOnInit(){this.turnoSvc.getTurnos().subscribe(e=>{if(this.turnos=e,null!=this.turnos&&this.authSvc.usuarioLogeado&&(this.turnos=this.turnos.filter(n=>"RECHAZADO"!=n.estado&&"CANCELADO"!=n.estado&&"PENDIENTE"!=n.estado)),null!=this.turnos){const n=[""];for(var i=0;i<this.turnos.length;i++){const r=this.turnos[i].paciente.email;n.includes(r)||(n.push(r),this.pacientes.push({email:this.turnos[i].paciente.email,nombre:this.turnos[i].paciente.nombre,apellido:this.turnos[i].paciente.apellido,dni:this.turnos[i].paciente.dni,edad:this.turnos[i].paciente.edad,obraSocial:this.turnos[i].paciente.obraSocial,urlFotos:this.turnos[i].paciente.urlFotos,turnos:[""]}))}console.log("this.turnos -> ",this.turnos),console.log("emailUnicos -> ",n),console.log("this.pacientes -> ",this.pacientes),this.pacientes.forEach(r=>{for(var s=0;s<this.turnos.length;s++)this.turnos[s].paciente.email==r.email&&r.turnos.push({fecha:this.turnos[s].fecha,hora:this.turnos[s].hora,estado:this.turnos[s].estado,especialista:this.turnos[s].especialista.apellido+", "+this.turnos[s].especialista.nombre,especialidad:this.turnos[s].especialidad.descripcion})})}console.log(this.turnosPacientesAtendidos)})}exportExcel(e){this.pacienteSeleccionado=e;let i=[];this.pacienteSeleccionado.turnos.forEach(n=>{i.push({fecha:n.fecha,hora:n.hora,estado:n.estado,especialista:n.especialista,especialidad:n.especialidad})}),console.log("ARR POR EXPORTAR EXCEL -> ",i),this.excelExport.exportar_ArrayObjetos_toExcel(i,this.pacienteSeleccionado.apellido+"-"+this.pacienteSeleccionado.nombre+"-turnos","turnos detalle")}exportExcelAll(){this.excelExport.exportar_ArrayObjetos_toExcel(this.pacientes,"turnos","hoja 1")}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(It.U),t.Y36(P.D),t.Y36(H.e))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-usuarios"]],decls:16,vars:2,consts:[[1,"container-general","mx-auto"],[1,"mx-auto"],[1,"mb-1"],["type","button","appPosicion","",1,"btn","btn-success","container",2,"margin-top","10px","width","15%","font-size","20px",3,"click"],["src","../../../../../assets/logo-excel.png",2,"height","40px","width","40px","margin-left","10px"],[1,"col-md-12","mx-auto","table-responsive"],[1,"table","mx-auto"],[4,"ngFor","ngForOf"],[1,"mx-auto",2,"text-align","center"],[1,"card","mb-3","card-paciente",2,"max-width","70%",3,"click"],[1,"row","g-0"],[1,"col-md-3"],["appNotImage","","alt","...",1,"img-fluid","rounded-start",3,"src"],[1,"col-md-8","mx-auto"],[1,"card-body"],[1,"card-title"],[1,"card-text",2,"width","100%"],[1,"list-group","list-group-flush"],[1,"list-group-item","text-list-turno"]],template:function(e,i){1&e&&(t.TgZ(0,"body")(1,"div",0)(2,"div",1)(3,"h2"),t._uU(4,"USUARIOS"),t.qZA(),t.TgZ(5,"div",2)(6,"button",3),t.NdJ("click",function(){return i.exportExcelAll()}),t._uU(7," DESCARGAR"),t._UZ(8,"img",4),t.qZA()(),t.TgZ(9,"div",5)(10,"table",6)(11,"thead")(12,"tr"),t.YNc(13,yt,1,0,"th",7),t.qZA()(),t.TgZ(14,"tbody"),t.YNc(15,Nt,28,7,"tr",7),t.qZA()()()()()()),2&e&&(t.xp6(13),t.Q6J("ngForOf",i.pacientes),t.xp6(2),t.Q6J("ngForOf",i.pacientes))},dependencies:[h.sg,I.F],styles:["body[_ngcontent-%COMP%]{background-color:#f2f2f2;height:150em}@media only screen and (max-width: 769px){body[_ngcontent-%COMP%]{height:140em}}.containter-general[_ngcontent-%COMP%]{padding:20px;width:90%}h4[_ngcontent-%COMP%]{text-transform:uppercase;color:#180090}h2[_ngcontent-%COMP%]{color:#0086cf;border-radius:10px;padding-top:15px;text-transform:uppercase;text-align:center}h3[_ngcontent-%COMP%]{padding-top:10px}.table-responsive[_ngcontent-%COMP%]{position:relative;max-height:800px!important;overflow:auto}.tr-data[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#b0fbff}td[_ngcontent-%COMP%]{padding:10px}img[_ngcontent-%COMP%]{width:190px;height:200px;border-radius:50%}.card-paciente[_ngcontent-%COMP%]{padding:10px}.card-paciente[_ngcontent-%COMP%]:hover{cursor:pointer;box-shadow:3px 3px 5px #8edfff}table[_ngcontent-%COMP%]{text-align:center;color:#4d4d4d;font-weight:400;margin-top:10px;padding:20px}"]}),o})();var y=p(8005),N=p(406),Jt=p(2766);let Dt=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-intranet"]],decls:5,vars:0,consts:[[1,"text-center","text-lg-start"],[1,"text-center","p-3",2,"background-color","rgba(0, 0, 0, 0.2)"]],template:function(e,i){1&e&&(t._UZ(0,"app-navbar")(1,"router-outlet"),t.TgZ(2,"footer",0)(3,"div",1),t._uU(4," \xa9 2022 Copyright: Patricio Orce "),t.qZA()())},dependencies:[E.lC,Jt.S],styles:["footer[_ngcontent-%COMP%]{background-color:#1a1a1a;color:#f5f5f5}"]}),o})();var m=p(7340),Yt=p(4159),Lt=p.n(Yt),Ft=p(4030);function Qt(o,a){if(1&o&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.comentariosPaciente," ")}}function kt(o,a){if(1&o&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.comentariosEspecialista," ")}}function Vt(o,a){if(1&o&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.comentariosAdmin," ")}}function jt(o,a){if(1&o&&(t.TgZ(0,"div",17)(1,"table",18)(2,"tr",19)(3,"th"),t._uU(4,"Altura"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Peso"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Temperatura"),t.qZA(),t.TgZ(9,"th"),t._uU(10),t.qZA(),t.TgZ(11,"th"),t._uU(12),t.qZA(),t.TgZ(13,"th"),t._uU(14),t.qZA(),t.TgZ(15,"th"),t._uU(16),t.qZA(),t.TgZ(17,"th"),t._uU(18),t.qZA(),t.TgZ(19,"th"),t._uU(20),t.qZA()(),t.TgZ(21,"tr")(22,"td"),t._uU(23),t.qZA(),t.TgZ(24,"td"),t._uU(25),t.qZA(),t.TgZ(26,"td"),t._uU(27),t.qZA(),t.TgZ(28,"td"),t._uU(29),t.qZA(),t.TgZ(30,"td"),t._uU(31),t.qZA(),t.TgZ(32,"td"),t._uU(33),t.qZA(),t.TgZ(34,"td"),t._uU(35),t.qZA(),t.TgZ(36,"td"),t._uU(37),t.qZA(),t.TgZ(38,"td"),t._uU(39),t.qZA()()()()),2&o){const e=t.oxw().$implicit;t.xp6(10),t.Oqu(e.historiaClinica.clave1),t.xp6(2),t.Oqu(e.historiaClinica.clave2),t.xp6(2),t.Oqu(e.historiaClinica.clave3),t.xp6(2),t.Oqu(e.historiaClinica.clave4),t.xp6(2),t.Oqu(e.historiaClinica.clave5),t.xp6(2),t.Oqu(e.historiaClinica.clave6),t.xp6(3),t.Oqu(e.historiaClinica.altura),t.xp6(2),t.Oqu(e.historiaClinica.peso),t.xp6(2),t.Oqu(e.historiaClinica.temperatura),t.xp6(2),t.Oqu(e.historiaClinica.valor1),t.xp6(2),t.Oqu(e.historiaClinica.valor2),t.xp6(2),t.Oqu(e.historiaClinica.valor3),t.xp6(2),t.Oqu(e.historiaClinica.valor4),t.xp6(2),t.Oqu(e.historiaClinica.valor5),t.xp6(2),t.hij(" ",1==e.historiaClinica.valor6?"SI":"NO"," ")}}function $t(o,a){1&o&&(t.TgZ(0,"div",17),t._uU(1," NO POSEE "),t.qZA())}function Rt(o,a){if(1&o&&(t.TgZ(0,"tr",14)(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t.YNc(8,Qt,2,1,"div",15),t.YNc(9,kt,2,1,"div",15),t.YNc(10,Vt,2,1,"div",15),t.qZA(),t.TgZ(11,"td"),t.YNc(12,jt,40,15,"div",16),t.YNc(13,$t,2,0,"div",16),t.qZA()()),2&o){const e=a.$implicit;t.xp6(2),t.AsE("",e.fecha," - ",e.hora,""),t.xp6(2),t.Oqu(e.especialidad.descripcion),t.xp6(2),t.AsE(" ",e.especialista.nombre," ",e.especialista.apellido," "),t.xp6(2),t.Q6J("ngIf",""!=e.comentariosPaciente),t.xp6(1),t.Q6J("ngIf",""!=e.comentariosEspecialista),t.xp6(1),t.Q6J("ngIf",""!=e.comentariosAdmin),t.xp6(2),t.Q6J("ngIf",""!=e.historiaClinica),t.xp6(1),t.Q6J("ngIf",""==e.historiaClinica)}}let Gt=p(813),Bt=(()=>{class o{constructor(e,i,n){this.historiaClinicaService=e,this.authSvc=i,this.turnoSvc=n,this.mostrar=!1,this.historiaSeleccionada=new D,this.listadoHistoriaClinica=[],this.listaHistoriaClinica=[],this.usuario=this.authSvc.usuarioLogeado,console.log(this.usuario)}ngOnInit(){this.listadoHistoriaClinica=this.turnoSvc.firestore.collection("turnos",e=>e.where("paciente.id","==",this.usuario.id)),this.buscarHistoria(),console.log(this.listaHistoriaClinica)}buscarHistoria(){this.listaHistoriaClinica=new Array,this.listadoHistoriaClinica.snapshotChanges().pipe((0,w.U)(e=>{e.map(i=>{var n=new J.v;n.estado=i.payload.doc.data().estado,n.paciente=i.payload.doc.data().paciente,n.especialista=i.payload.doc.data().especialista,n.especialidad=i.payload.doc.data().especialidad,n.fecha=i.payload.doc.data().fecha,n.hora=i.payload.doc.data().hora,n.comentariosPaciente=i.payload.doc.data().comentariosPaciente,n.comentariosEspecialista=i.payload.doc.data().comentariosEspecialista,n.comentariosAdmin=i.payload.doc.data().comentariosAdmin,n.historiaClinica=i.payload.doc.data().historiaClinica,this.listaHistoriaClinica.push(n)})})).subscribe(e=>{})}crearPdf(){let e=document.getElementById("pdfTable");Lt()(e).then(i=>{let r=208*i.height/i.width;const s=i.toDataURL("image/png");let l=new Gt("p","mm","a4");l.addImage(s,"PNG",0,0,208,r),l.save("historia-clinica-"+this.authSvc.usuarioLogeado.dni+".pdf")})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(L),t.Y36(H.e),t.Y36(P.D))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-historia-clinica"]],decls:31,vars:5,consts:[["id","pdfTable",1,"col-12","container"],["pdfTable",""],["src","../../../../../assets/icono.ico",2,"height","50px","width","50px","margin-right","10px"],[1,"my-4"],[1,"text-danger"],[1,"row"],[1,"form-group","col-md-6"],["ng-blur","ngBlur()",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-12","mx-auto","table-responsive","mt-3"],[1,"table","table-striped","table-bordered","fixed"],[1,"tr-dark"],["appAgranda","","class","tr-data",4,"ngFor","ngForOf"],["type","button","appPosicion","",1,"btn","btn-danger","container",2,"margin-top","10px","width","15%","font-size","20px",3,"click"],["src","../../../../../assets/logo-pdf.png",2,"height","40px","width","40px","margin-left","10px"],["appAgranda","",1,"tr-data"],[4,"ngIf"],["class","mx-auto",4,"ngIf"],[1,"mx-auto"],[1,"table","table-striped","table-bordered"],[1,"table-ligth"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0,1)(2,"h2"),t._UZ(3,"img",2),t._uU(4," CL\xcdNICA ONLINE "),t.qZA(),t._UZ(5,"hr",3),t.TgZ(6,"h3",4),t._uU(7,"Turnos e Historia Cl\xednica"),t.qZA(),t.TgZ(8,"div",5)(9,"h4"),t._uU(10,"B\xfasqueda por Especialidad o Especialista"),t.qZA(),t.TgZ(11,"div",6)(12,"input",7),t.NdJ("ngModelChange",function(r){return i.filter=r}),t.qZA()()(),t.TgZ(13,"div",8)(14,"table",9)(15,"tr",10)(16,"th"),t._uU(17,"Fecha"),t.qZA(),t.TgZ(18,"th"),t._uU(19,"Especialidad"),t.qZA(),t.TgZ(20,"th"),t._uU(21,"Especialista"),t.qZA(),t.TgZ(22,"th"),t._uU(23,"Rese\xf1a"),t.qZA(),t.TgZ(24,"th"),t._uU(25,"Historia Cl\xednica"),t.qZA()(),t.YNc(26,Rt,14,10,"tr",11),t.ALo(27,"filterPaciente"),t.qZA()()(),t.TgZ(28,"button",12),t.NdJ("click",function(){return i.crearPdf()}),t._uU(29," DESCARGAR"),t._UZ(30,"img",13),t.qZA()),2&e&&(t.xp6(12),t.Q6J("ngModel",i.filter),t.xp6(14),t.Q6J("ngForOf",t.xi3(27,2,i.listaHistoriaClinica,i.filter)))},dependencies:[h.sg,h.O5,c.Fj,c.JJ,c.On,Ft.p],styles:["body[_ngcontent-%COMP%]{background-color:#f2f2f2;height:150em}@media only screen and (max-width: 769px){body[_ngcontent-%COMP%]{height:140em}}.container[_ngcontent-%COMP%]{max-width:100%;padding:20px;box-shadow:1px 1px 5px gray}.tr-data[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#b0fbff}h3[_ngcontent-%COMP%]{text-align:center;text-transform:uppercase}.table-responsive[_ngcontent-%COMP%]{position:relative;overflow:auto}"]}),o})();class F{}var Q=p(5235);function Xt(o,a){1&o&&(t.TgZ(0,"span",28),t._uU(1," El rango horario es de 8AM a 19PM."),t.qZA())}function Kt(o,a){1&o&&(t.TgZ(0,"span",28),t._uU(1," Los minutos permitidos son 00 o 30."),t.qZA())}function Wt(o,a){1&o&&(t.TgZ(0,"span",28),t._uU(1," El rango horario es de 8AM a 19PM."),t.qZA())}function zt(o,a){1&o&&(t.TgZ(0,"span",28),t._uU(1," Los minutos permitidos son 00 o 30."),t.qZA())}function te(o,a){1&o&&(t.TgZ(0,"span",28),t._uU(1," El rango horario es de 8AM a 19PM."),t.qZA())}function ee(o,a){1&o&&(t.TgZ(0,"span",28),t._uU(1," Los minutos permitidos son 00 o 30."),t.qZA())}function oe(o,a){1&o&&(t.TgZ(0,"span",28),t._uU(1," El rango horario es de 8AM a 19PM."),t.qZA())}function ie(o,a){1&o&&(t.TgZ(0,"span",28),t._uU(1," Los minutos permitidos son 00 o 30."),t.qZA())}function ae(o,a){1&o&&(t.TgZ(0,"span",28),t._uU(1," El rango horario es de 8AM a 19PM."),t.qZA())}function ne(o,a){1&o&&(t.TgZ(0,"span",28),t._uU(1," Los minutos permitidos son 00 o 30."),t.qZA())}function re(o,a){1&o&&(t.TgZ(0,"span",28),t._uU(1," El rango horario es de 8AM a 19PM."),t.qZA())}function se(o,a){1&o&&(t.TgZ(0,"span",28),t._uU(1," Los minutos permitidos son 00 o 30."),t.qZA())}function le(o,a){1&o&&(t.TgZ(0,"span",28),t._uU(1," El rango horario es de 8AM a 19PM."),t.qZA())}function ce(o,a){1&o&&(t.TgZ(0,"span",28),t._uU(1," Los minutos permitidos son 00 o 30."),t.qZA())}function pe(o,a){1&o&&(t.TgZ(0,"span",28),t._uU(1," El rango horario es de 8AM a 19PM."),t.qZA())}function ue(o,a){1&o&&(t.TgZ(0,"span",28),t._uU(1," Los minutos permitidos son 00 o 30."),t.qZA())}function de(o,a){1&o&&(t.TgZ(0,"span",28),t._uU(1," El rango horario es de 8AM a 19PM."),t.qZA())}function he(o,a){1&o&&(t.TgZ(0,"span",28),t._uU(1," Los minutos permitidos son 00 o 30."),t.qZA())}function me(o,a){1&o&&(t.TgZ(0,"span",28),t._uU(1," El rango horario es de 8AM a 19PM."),t.qZA())}function _e(o,a){1&o&&(t.TgZ(0,"span",28),t._uU(1," Los minutos permitidos son 00 o 30."),t.qZA())}function ge(o,a){1&o&&(t.TgZ(0,"span",28),t._uU(1," El rango horario es de 8AM a 14PM."),t.qZA())}function fe(o,a){1&o&&(t.TgZ(0,"span",28),t._uU(1," Los minutos permitidos son 00 o 30."),t.qZA())}function xe(o,a){1&o&&(t.TgZ(0,"span",28),t._uU(1," El rango horario es de 8AM a 14PM."),t.qZA())}function ve(o,a){1&o&&(t.TgZ(0,"span",28),t._uU(1," Los minutos permitidos son 00 o 30."),t.qZA())}function Ce(o,a){1&o&&(t.TgZ(0,"div",29),t._uU(1," Horarios registrados con \xe9xito! "),t.qZA())}let k=(()=>{class o{constructor(e,i,n){this.fv=e,this.especialistaService=i,this.authSvc=n,this.captchaPropio=!1,this.successOperation=!1,this.spinner=!1,this.successOperation=!1,this.usuario=this.authSvc.usuarioLogeado,this.formulario=e.group({lunesHoraDesde:["",[this.validarMinutos,this.validarHora]],lunesHoraHasta:["",[this.validarMinutos,this.validarHora]],martesHoraDesde:["",[this.validarMinutos,this.validarHora]],martesHoraHasta:["",[this.validarMinutos,this.validarHora]],miercolesHoraDesde:["",[this.validarMinutos,this.validarHora]],miercolesHoraHasta:["",[this.validarMinutos,this.validarHora]],juevesHoraDesde:["",[this.validarMinutos,this.validarHora]],juevesHoraHasta:["",[this.validarMinutos,this.validarHora]],viernesHoraDesde:["",[this.validarMinutos,this.validarHora]],viernesHoraHasta:["",[this.validarMinutos,this.validarHora]],sabadoHoraDesde:["",[this.validarMinutos,this.validarSabadoHora]],sabadoHoraHasta:["",[this.validarMinutos,this.validarSabadoHora]]}),console.log(this.usuario.horarios),this.setearHorarios()}setearHorarios(){if(""!=this.usuario.horarios){const e=this.usuario.horarios;this.formulario.controls.lunesHoraDesde.setValue(e.horarioLunes[0].desde),this.formulario.controls.lunesHoraHasta.setValue(e.horarioLunes[0].hasta),this.formulario.controls.martesHoraDesde.setValue(e.horarioMartes[0].desde),this.formulario.controls.martesHoraHasta.setValue(e.horarioMartes[0].hasta),this.formulario.controls.miercolesHoraDesde.setValue(e.horarioMiercoles[0].desde),this.formulario.controls.miercolesHoraHasta.setValue(e.horarioMiercoles[0].hasta),this.formulario.controls.juevesHoraDesde.setValue(e.horarioJueves[0].desde),this.formulario.controls.juevesHoraHasta.setValue(e.horarioJueves[0].hasta),this.formulario.controls.viernesHoraDesde.setValue(e.horarioViernes[0].desde),this.formulario.controls.viernesHoraHasta.setValue(e.horarioViernes[0].hasta),this.formulario.controls.sabadoHoraDesde.setValue(e.horarioSabado[0].desde),this.formulario.controls.sabadoHoraHasta.setValue(e.horarioSabado[0].hasta)}else this.formulario.reset()}ngOnInit(){}spinnerShow(){this.spinner=!0}spinnerHide(){this.spinner=!1}cargarTurnos(){this.horarios.snapshotChanges().pipe((0,w.U)(e=>{this.horariosUsuario=new Array,e.map(i=>{if(i.payload.doc.data().idEspecialista==this.usuario.id){var n=new F;n.idEspecialista=i.payload.doc.data().idEspecialista,n.emailEspecialista=i.payload.doc.data().emailEspecialista,n.horarioLunes=i.payload.doc.data().horarioLunes,n.horarioMartes=i.payload.doc.data().horarioMartes,n.horarioMiercoles=i.payload.doc.data().horarioMiercoles,n.horarioJueves=i.payload.doc.data().horarioJueves,n.horarioViernes=i.payload.doc.data().horarioViernes,n.horarioSabado=i.payload.doc.data().horarioSabado,console.log(this.horariosUsuario)}})})).subscribe(),console.log(this.horariosUsuario)}validarMinutos(e){const i=e.value;if(""!=i&&null!=i){var n=i.split(":")[1],r=n.includes("00"),s=n.includes("30");if(r||s)return null;if(!r&&!s)return{minValido:!0}}return null}validarHora(e){const i=e.value;if(""!=i&&null!=i){var n=i.split(":")[0];if(n<8||n>19)return{horaValido:!0}}return null}validarSabadoHora(e){const i=e.value;if(""!=i&&null!=i){var n=i.split(":")[0];if(n<8||n>14)return{horaValido:!0}}return null}registrar(){this.spinnerShow(),console.log(this.formulario),this.horario=new F,this.horario.horarioLunes=[{desde:this.formulario.controls.lunesHoraDesde.value,hasta:this.formulario.controls.lunesHoraHasta.value}],this.horario.horarioMartes=[{desde:this.formulario.controls.martesHoraDesde.value,hasta:this.formulario.controls.martesHoraHasta.value}],this.horario.horarioMiercoles=[{desde:this.formulario.controls.miercolesHoraDesde.value,hasta:this.formulario.controls.miercolesHoraHasta.value}],this.horario.horarioJueves=[{desde:this.formulario.controls.juevesHoraDesde.value,hasta:this.formulario.controls.juevesHoraHasta.value}],this.horario.horarioViernes=[{desde:this.formulario.controls.viernesHoraDesde.value,hasta:this.formulario.controls.viernesHoraHasta.value}],this.horario.horarioSabado=[{desde:this.formulario.controls.sabadoHoraDesde.value,hasta:this.formulario.controls.sabadoHoraHasta.value}],this.horariosUsuario=this.horario,this.usuario.horarios=this.horariosUsuario,this.especialistaService.updateHorarios(this.usuario).then(e=>{console.log(e),setTimeout(()=>{this.spinnerHide(),this.successOperation=!0,setTimeout(()=>{location.reload()},1e3)},2e3)})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(c.qu),t.Y36(Q.n),t.Y36(H.e))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-mis-horarios"]],inputs:{especialistaHorarios:"especialistaHorarios"},decls:75,vars:30,consts:[[1,"mx-auto","container-mis-horarios"],[3,"formGroup","ngSubmit"],[1,"container"],[1,"row","mx-auto"],[1,"mb-4","text-center"],[1,"col-md-8","order-md-1"],[1,"row"],[1,"col-12","mb-3"],[1,"col-md-4"],["for","lunes"],["type","time","min","8:00:00","max","19:00:00","id","lunesHoraDesde","formControlName","lunesHoraDesde",1,"form-control"],["class","text-danger",4,"ngIf"],["type","time","min","8:00:00","max","19:00:00","id","lunesHoraHasta","formControlName","lunesHoraHasta",1,"form-control"],["type","time","min","8:00:00","max","19:00:00","id","martesHoraDesde","formControlName","martesHoraDesde",1,"form-control"],["type","time","min","8:00:00","max","19:00:00","id","martesHoraHasta","formControlName","martesHoraHasta",1,"form-control"],["type","time","min","8:00:00","max","19:00:00","id","miercolesHoraDesde","formControlName","miercolesHoraDesde",1,"form-control"],["type","time","min","8:00:00","max","19:00:00","id","miercolesHoraHasta","formControlName","miercolesHoraHasta",1,"form-control"],["type","time","min","8:00:00","max","19:00:00","id","juevesHoraDesde","formControlName","juevesHoraDesde",1,"form-control"],["type","time","min","8:00:00","max","19:00:00","id","juevesHoraHasta","formControlName","juevesHoraHasta",1,"form-control"],["type","time","min","8:00:00","max","19:00:00","id","viernesHoraDesde","formControlName","viernesHoraDesde",1,"form-control"],["type","time","min","8:00:00","max","19:00:00","id","viernesHoraHasta","formControlName","viernesHoraHasta",1,"form-control"],["type","time","min","8:00:00","max","19:00:00","id","sabadoHoraDesde","formControlName","sabadoHoraDesde",1,"form-control"],["type","time","min","8:00:00","max","19:00:00","id","sabadoHoraHasta","formControlName","sabadoHoraHasta",1,"form-control"],["class","alert alert-success","role","alert",4,"ngIf"],[1,"mb-4"],["role","status",1,"spinner-border","text-dark","mx-auto",3,"hidden"],[1,"visually-hidden"],["type","submit",1,"btn","btn-primary","btn-lg","btn-block",3,"hidden","disabled"],[1,"text-danger"],["role","alert",1,"alert","alert-success"]],template:function(e,i){if(1&e&&(t.TgZ(0,"body")(1,"div",0)(2,"form",1),t.NdJ("ngSubmit",function(){return i.registrar()}),t.TgZ(3,"div",2)(4,"div",3)(5,"h2",4),t._uU(6,"Mis Horarios"),t.qZA(),t.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",6)(11,"div",8)(12,"label",9),t._uU(13,"Lunes"),t.qZA(),t._UZ(14,"input",10),t.YNc(15,Xt,2,0,"span",11),t.YNc(16,Kt,2,0,"span",11),t._UZ(17,"input",12),t.YNc(18,Wt,2,0,"span",11),t.YNc(19,zt,2,0,"span",11),t.qZA(),t.TgZ(20,"div",8)(21,"label",9),t._uU(22,"Martes"),t.qZA(),t._UZ(23,"input",13),t.YNc(24,te,2,0,"span",11),t.YNc(25,ee,2,0,"span",11),t._UZ(26,"input",14),t.YNc(27,oe,2,0,"span",11),t.YNc(28,ie,2,0,"span",11),t.qZA(),t.TgZ(29,"div",8)(30,"label",9),t._uU(31,"Miercoles"),t.qZA(),t._UZ(32,"input",15),t.YNc(33,ae,2,0,"span",11),t.YNc(34,ne,2,0,"span",11),t._UZ(35,"input",16),t.YNc(36,re,2,0,"span",11),t.YNc(37,se,2,0,"span",11),t.qZA()(),t._UZ(38,"br"),t.TgZ(39,"div",6)(40,"div",8)(41,"label",9),t._uU(42,"Jueves"),t.qZA(),t._UZ(43,"input",17),t.YNc(44,le,2,0,"span",11),t.YNc(45,ce,2,0,"span",11),t._UZ(46,"input",18),t.YNc(47,pe,2,0,"span",11),t.YNc(48,ue,2,0,"span",11),t.qZA(),t.TgZ(49,"div",8)(50,"label",9),t._uU(51,"Viernes"),t.qZA(),t._UZ(52,"input",19),t.YNc(53,de,2,0,"span",11),t.YNc(54,he,2,0,"span",11),t._UZ(55,"input",20),t.YNc(56,me,2,0,"span",11),t.YNc(57,_e,2,0,"span",11),t.qZA(),t.TgZ(58,"div",8)(59,"label",9),t._uU(60,"Sabado"),t.qZA(),t._UZ(61,"input",21),t.YNc(62,ge,2,0,"span",11),t.YNc(63,fe,2,0,"span",11),t._UZ(64,"input",22),t.YNc(65,xe,2,0,"span",11),t.YNc(66,ve,2,0,"span",11),t.qZA()()()(),t.YNc(67,Ce,2,0,"div",23),t._UZ(68,"hr",24),t.TgZ(69,"div")(70,"div",25)(71,"span",26),t._uU(72,"Loading..."),t.qZA()(),t.TgZ(73,"button",27),t._uU(74," Grabar "),t.qZA()()()()()()()()),2&e){let n,r,s,l,u,d,v,Z,g,_,f,C,x,A,T,S,U,q,M,O,V,j,$,R;t.xp6(1),t.Q6J("@slideInOut",void 0),t.xp6(1),t.Q6J("formGroup",i.formulario),t.xp6(13),t.Q6J("ngIf",null==(n=i.formulario.get("lunesHoraDesde"))?null:n.hasError("horaValido")),t.xp6(1),t.Q6J("ngIf",null==(r=i.formulario.get("lunesHoraDesde"))?null:r.hasError("minValido")),t.xp6(2),t.Q6J("ngIf",null==(s=i.formulario.get("lunesHoraHasta"))?null:s.hasError("horaValido")),t.xp6(1),t.Q6J("ngIf",null==(l=i.formulario.get(""))?null:l.hasError("minValido")),t.xp6(5),t.Q6J("ngIf",null==(u=i.formulario.get("martesHoraDesde"))?null:u.hasError("horaValido")),t.xp6(1),t.Q6J("ngIf",null==(d=i.formulario.get("martesHoraDesde"))?null:d.hasError("minValido")),t.xp6(2),t.Q6J("ngIf",null==(v=i.formulario.get("martesHoraHasta"))?null:v.hasError("horaValido")),t.xp6(1),t.Q6J("ngIf",null==(Z=i.formulario.get("martesHoraHasta"))?null:Z.hasError("minValido")),t.xp6(5),t.Q6J("ngIf",null==(g=i.formulario.get("miercolesHoraDesde"))?null:g.hasError("horaValido")),t.xp6(1),t.Q6J("ngIf",null==(_=i.formulario.get("miercolesHoraDesde"))?null:_.hasError("minValido")),t.xp6(2),t.Q6J("ngIf",null==(f=i.formulario.get("miercolesHoraHasta"))?null:f.hasError("horaValido")),t.xp6(1),t.Q6J("ngIf",null==(C=i.formulario.get("miercolesHoraHasta"))?null:C.hasError("minValido")),t.xp6(7),t.Q6J("ngIf",null==(x=i.formulario.get("juevesHoraDesde"))?null:x.hasError("horaValido")),t.xp6(1),t.Q6J("ngIf",null==(A=i.formulario.get("juevesHoraDesde"))?null:A.hasError("minValido")),t.xp6(2),t.Q6J("ngIf",null==(T=i.formulario.get("juevesHoraHasta"))?null:T.hasError("horaValido")),t.xp6(1),t.Q6J("ngIf",null==(S=i.formulario.get("juevesHoraHasta"))?null:S.hasError("minValido")),t.xp6(5),t.Q6J("ngIf",null==(U=i.formulario.get("viernesHoraDesde"))?null:U.hasError("horaValido")),t.xp6(1),t.Q6J("ngIf",null==(q=i.formulario.get("viernesHoraDesde"))?null:q.hasError("minValido")),t.xp6(2),t.Q6J("ngIf",null==(M=i.formulario.get("viernesHoraHasta"))?null:M.hasError("horaValido")),t.xp6(1),t.Q6J("ngIf",null==(O=i.formulario.get("viernesHoraHasta"))?null:O.hasError("minValido")),t.xp6(5),t.Q6J("ngIf",null==(V=i.formulario.get("sabadoHoraDesde"))?null:V.hasError("horaValido")),t.xp6(1),t.Q6J("ngIf",null==(j=i.formulario.get("sabadoHoraDesde"))?null:j.hasError("minValido")),t.xp6(2),t.Q6J("ngIf",null==($=i.formulario.get("sabadoHoraHasta"))?null:$.hasError("horaValido")),t.xp6(1),t.Q6J("ngIf",null==(R=i.formulario.get("sabadoHoraHasta"))?null:R.hasError("minValido")),t.xp6(1),t.Q6J("ngIf",i.successOperation),t.xp6(3),t.Q6J("hidden",!i.spinner),t.xp6(3),t.Q6J("hidden",i.spinner)("disabled",i.formulario.invalid)}},dependencies:[h.O5,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u],styles:["body[_ngcontent-%COMP%]{background-color:#f2f2f2;height:50em}@media only screen and (max-width: 769px){body[_ngcontent-%COMP%]{height:50em}}h2[_ngcontent-%COMP%]{color:#0086cf;box-shadow:1px 1px 3px #999;background-color:#fff;border-radius:10px;padding:5px;text-transform:uppercase;text-align:center}input[_ngcontent-%COMP%]:hover{cursor:pointer}.container-mis-horarios[_ngcontent-%COMP%]{box-shadow:0 0 10px #bdbdbd;padding:30px;border-radius:1%;align-items:center;width:100%}"],data:{animation:[(0,m.X$)("slideInOut",[(0,m.eR)(":enter",[(0,m.oB)({transform:"translateX(-100%)"}),(0,m.jt)("1200ms ease-in",(0,m.oB)({transform:"translateX(0%)"}))]),(0,m.eR)(":leave",[(0,m.jt)("500ms ease-in",(0,m.oB)({transform:"translateX(-100%)"}))])])]}}),o})();function Ze(o,a){1&o&&t._UZ(0,"th")}function Te(o,a){1&o&&t._UZ(0,"th")}function Ae(o,a){1&o&&t._UZ(0,"th")}function be(o,a){if(1&o&&(t.TgZ(0,"td"),t._UZ(1,"img",10),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.MGl("alt","img-",e.authService.usuarioLogeado.dni,""),t.Q6J("src",e.authService.usuarioLogeado.urlFoto,t.LSH)}}function Ee(o,a){if(1&o&&(t.TgZ(0,"td"),t._UZ(1,"img",10),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.MGl("alt","img-",e.authService.usuarioLogeado.dni,""),t.Q6J("src",e.authService.usuarioLogeado.urlFotos[0],t.LSH)}}function He(o,a){if(1&o&&(t.TgZ(0,"td"),t._UZ(1,"img",10),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.MGl("alt","img-",e.authService.usuarioLogeado.dni,""),t.Q6J("src",e.authService.usuarioLogeado.urlFotos[1],t.LSH)}}function Se(o,a){if(1&o&&(t.TgZ(0,"h5")(1,"b"),t._uU(2,"Obra Social:"),t.qZA(),t._uU(3),t.qZA()),2&o){const e=t.oxw(2);t.xp6(3),t.hij(" ",e.authService.usuarioLogeado.obraSocial," ")}}function Ue(o,a){1&o&&(t.TgZ(0,"h5")(1,"b"),t._uU(2,"Especialidades:"),t.qZA()())}function qe(o,a){if(1&o&&(t.TgZ(0,"div",11)(1,"li"),t._uU(2),t.qZA()()),2&o){const e=a.$implicit;t.xp6(2),t.Oqu(e.descripcion)}}function Me(o,a){if(1&o&&(t.TgZ(0,"h5",12),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.Q6J("ngClass",1==e.authService.usuarioLogeado.cuentaHabilitada?"text-success":"text-danger"),t.xp6(1),t.hij(" ",1==e.authService.usuarioLogeado.cuentaHabilitada?"CUENTA HABILITADA":"CUENTA INHABILITADA"," ")}}function Oe(o,a){if(1&o&&t._UZ(0,"app-mis-horarios",13),2&o){const e=t.oxw(2);t.Q6J("especialistaHorarios",e.authService.usuarioLogeado)}}function Pe(o,a){1&o&&t._UZ(0,"app-historia-clinica")}function Ie(o,a){if(1&o&&(t.TgZ(0,"div",1)(1,"div",2)(2,"h2",3),t._uU(3,"Mi Perfil"),t.qZA(),t.TgZ(4,"table",4)(5,"thead")(6,"tr"),t.YNc(7,Ze,1,0,"th",5),t.YNc(8,Te,1,0,"th",5),t.YNc(9,Ae,1,0,"th",5),t.qZA()(),t.TgZ(10,"tbody")(11,"tr"),t.YNc(12,be,2,2,"td",5),t.YNc(13,Ee,2,2,"td",5),t.YNc(14,He,2,2,"td",5),t.qZA()()(),t._UZ(15,"hr",6),t.TgZ(16,"h5")(17,"b"),t._uU(18,"Tipo de Usuario:"),t.qZA(),t._uU(19),t.qZA(),t.TgZ(20,"h5")(21,"b"),t._uU(22,"Nombre:"),t.qZA(),t._uU(23),t.qZA(),t.TgZ(24,"h5")(25,"b"),t._uU(26,"Apellido:"),t.qZA(),t._uU(27),t.qZA(),t.TgZ(28,"h5")(29,"b"),t._uU(30,"DNI:"),t.qZA(),t._uU(31),t.qZA(),t.TgZ(32,"h5")(33,"b"),t._uU(34,"Correo electr\xf3nico:"),t.qZA(),t._uU(35),t.qZA(),t.TgZ(36,"h5")(37,"b"),t._uU(38,"Fecha de Alta:"),t.qZA(),t._uU(39),t.qZA(),t.YNc(40,Se,4,1,"h5",5),t.YNc(41,Ue,3,0,"h5",5),t.YNc(42,qe,3,1,"div",7),t.YNc(43,Me,2,2,"h5",8),t.qZA(),t._UZ(44,"br"),t.YNc(45,Oe,1,1,"app-mis-horarios",9),t.YNc(46,Pe,1,0,"app-historia-clinica",5),t.qZA()),2&o){const e=t.oxw();t.Q6J("@slideInOut",void 0),t.xp6(7),t.Q6J("ngIf",!e.authService.ITEM_ACCESOS.isPaciente),t.xp6(1),t.Q6J("ngIf",e.authService.ITEM_ACCESOS.isPaciente),t.xp6(1),t.Q6J("ngIf",e.authService.ITEM_ACCESOS.isPaciente),t.xp6(3),t.Q6J("ngIf",!e.authService.ITEM_ACCESOS.isPaciente),t.xp6(1),t.Q6J("ngIf",e.authService.ITEM_ACCESOS.isPaciente),t.xp6(1),t.Q6J("ngIf",e.authService.ITEM_ACCESOS.isPaciente),t.xp6(5),t.hij(" ",e.authService.usuarioLogeado.perfil," "),t.xp6(4),t.hij(" ",e.authService.usuarioLogeado.nombre,""),t.xp6(4),t.hij(" ",e.authService.usuarioLogeado.apellido,""),t.xp6(4),t.hij(" ",e.authService.usuarioLogeado.dni,""),t.xp6(4),t.hij(" ",e.authService.usuarioLogeado.email," "),t.xp6(4),t.hij(" ",e.authService.usuarioLogeado.fechaAlta," "),t.xp6(1),t.Q6J("ngIf",e.authService.ITEM_ACCESOS.isPaciente),t.xp6(1),t.Q6J("ngIf",e.authService.ITEM_ACCESOS.isEspecialista),t.xp6(1),t.Q6J("ngForOf",e.authService.usuarioLogeado.especialidades),t.xp6(1),t.Q6J("ngIf",e.authService.ITEM_ACCESOS.isEspecialista),t.xp6(2),t.Q6J("ngIf",e.authService.ITEM_ACCESOS.isEspecialista&&e.authService.usuarioLogeado.cuentaHabilitada),t.xp6(1),t.Q6J("ngIf",e.authService.ITEM_ACCESOS.isPaciente)}}let ye=(()=>{class o{constructor(e){this.authService=e}ngOnInit(){console.log("luggi",this.authService.usuarioLogeado)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(H.e))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-mi-perfil"]],decls:2,vars:1,consts:[["class","mx-auto",4,"ngIf"],[1,"mx-auto"],[1,"mx-auto","container-info","table-responsive"],[1,"text-center"],[1,"table-responsive","mx-auto"],[4,"ngIf"],[1,"my-4"],["style","margin: 10px",4,"ngFor","ngForOf"],[3,"ngClass",4,"ngIf"],[3,"especialistaHorarios",4,"ngIf"],[3,"src","alt"],[2,"margin","10px"],[3,"ngClass"],[3,"especialistaHorarios"]],template:function(e,i){1&e&&(t.TgZ(0,"body"),t.YNc(1,Ie,47,19,"div",0),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",i.authService.usuarioLogeado))},dependencies:[h.mk,h.sg,h.O5,Bt,k],styles:["body[_ngcontent-%COMP%]{background-color:#f2f2f2;height:100em;padding:20px}@media only screen and (max-width: 769px){body[_ngcontent-%COMP%]{height:120em}}h2[_ngcontent-%COMP%]{color:#0086cf;box-shadow:1px 1px 3px #999;background-color:#fff;border-radius:10px;padding:5px;text-transform:uppercase}img[_ngcontent-%COMP%]{width:160px;height:160px;border-radius:50%;box-shadow:0 0 5px #999;margin:10px;display:flex}.container-info[_ngcontent-%COMP%]{box-shadow:0 0 10px #bdbdbd;padding:30px;border-radius:1%;text-align:center;align-items:center}"],data:{animation:[(0,m.X$)("slideInOut",[(0,m.eR)(":enter",[(0,m.oB)({transform:"translateX(-100%)"}),(0,m.jt)("1000ms ease-in",(0,m.oB)({transform:"translateX(0%)"}))]),(0,m.eR)(":leave",[(0,m.jt)("500ms ease-in",(0,m.oB)({transform:"translateX(-100%)"}))])])]}}),o})();var b=(()=>{return(o=b||(b={})).ACEPTADO="ACEPTADO",o.CANCELADO="CANCELADO",o.RECHAZADO="RECHAZADO",o.FINALIZADO="FINALIZADO",o.PENDIENTE="PENDIENTE",o.REALIZADO="REALIZADO",b;var o})(),Ne=p(2668),we=p(137);function Je(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"th",4),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.enviarEspecialista(r))}),t._uU(1),t.qZA()}if(2&o){const e=a.$implicit;t.xp6(1),t.AsE(" ",e.apellido,", ",e.nombre," ")}}function De(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"td",4),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.enviarEspecialista(r))}),t.TgZ(1,"div"),t._UZ(2,"img",5),t.qZA()()}if(2&o){const e=a.$implicit;t.xp6(2),t.Q6J("src",e.urlFoto,t.LSH)}}let Ye=(()=>{class o{constructor(){this.especialistaSeleccionado=new t.vpe,this.lista=[]}ngOnInit(){}enviarEspecialista(e){this.especialistaSeleccionado.emit(e)}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-especialista-lista"]],inputs:{lista:"lista"},outputs:{especialistaSeleccionado:"especialistaSeleccionado"},decls:9,vars:2,consts:[[1,"container"],[1,"col-md-12","mx-auto","table-responsive"],[1,"table","table-striped","table-bordered","table-responsive","mx-auto"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["appNotImage","",3,"src"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"table",2)(3,"thead")(4,"tr"),t.YNc(5,Je,2,2,"th",3),t.qZA()(),t.TgZ(6,"tbody")(7,"tr"),t.YNc(8,De,3,1,"td",3),t.qZA()()()()()),2&e&&(t.xp6(5),t.Q6J("ngForOf",i.lista),t.xp6(3),t.Q6J("ngForOf",i.lista))},dependencies:[h.sg,I.F],styles:["img[_ngcontent-%COMP%]{width:140px;height:150px;box-shadow:0 0 5px #999;padding:10px;margin:0 10px}img[_ngcontent-%COMP%]:hover{cursor:pointer;box-shadow:0 0 6px #0073ff}table[_ngcontent-%COMP%]{text-align:center;color:#4d4d4d;font-weight:400;margin-top:10px}th[_ngcontent-%COMP%]:hover{cursor:pointer;box-shadow:0 0 6px #0073ff}"]}),o})();function Le(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"th",4),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.enviarEspecialidad(r))}),t._uU(1),t.qZA()}if(2&o){const e=a.$implicit;t.xp6(1),t.hij(" ",e.descripcion," ")}}function Fe(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"td",4),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.enviarEspecialidad(r))}),t.TgZ(1,"div"),t._UZ(2,"img",5),t.qZA()()}if(2&o){const e=a.$implicit;t.xp6(2),t.Q6J("src",e.urlFoto,t.LSH)}}let Qe=(()=>{class o{constructor(){this.especialidadSeleccionado=new t.vpe,this.lista=[],console.log("listescppp",this.lista)}ngOnInit(){console.log("listescppp",this.lista)}enviarEspecialidad(e){this.especialidadSeleccionado.emit(e)}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-especialidad-lista"]],inputs:{lista:"lista"},outputs:{especialidadSeleccionado:"especialidadSeleccionado"},decls:9,vars:2,consts:[[1,"container"],[1,"col-md-12","mx-auto","table-responsive"],[1,"table","table-striped","table-bordered","table-responsive","mx-auto"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["appNotImage","",3,"src"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"table",2)(3,"thead")(4,"tr"),t.YNc(5,Le,2,1,"th",3),t.qZA()(),t.TgZ(6,"tbody")(7,"tr"),t.YNc(8,Fe,3,1,"td",3),t.qZA()()()()()),2&e&&(t.xp6(5),t.Q6J("ngForOf",i.lista),t.xp6(3),t.Q6J("ngForOf",i.lista))},dependencies:[h.sg,I.F],styles:["img[_ngcontent-%COMP%]{width:140px;height:150px;box-shadow:0 0 5px #999;padding:10px;margin:0 10px}img[_ngcontent-%COMP%]:hover{cursor:pointer;box-shadow:0 0 6px #0073ff}table[_ngcontent-%COMP%]{text-align:center;color:#4d4d4d;font-weight:400;margin-top:10px}th[_ngcontent-%COMP%]:hover{cursor:pointer;box-shadow:0 0 6px #0073ff}"]}),o})();function ke(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"th",4),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.enviarPaciente(r))}),t._uU(1),t.qZA()}if(2&o){const e=a.$implicit;t.xp6(1),t.AsE(" ",e.apellido,", ",e.nombre," ")}}function Ve(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"td",4),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.enviarPaciente(r))}),t.TgZ(1,"div"),t._UZ(2,"img",5)(3,"img",5),t.qZA()()}if(2&o){const e=a.$implicit;t.xp6(2),t.Q6J("src",e.urlFotos[0],t.LSH),t.xp6(1),t.Q6J("src",e.urlFotos[1],t.LSH)}}let je=(()=>{class o{constructor(){this.pacienteSeleccionado=new t.vpe,this.lista=[]}ngOnInit(){console.log("listittta",this.lista)}enviarPaciente(e){this.pacienteSeleccionado.emit(e)}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-paciente-lista"]],inputs:{lista:"lista"},outputs:{pacienteSeleccionado:"pacienteSeleccionado"},decls:9,vars:2,consts:[[1,"container"],[1,"col-md-12","mx-auto","table-responsive"],[1,"table","table-striped","table-bordered","table-responsive","mx-auto"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["appNotImage","",3,"src"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"table",2)(3,"thead")(4,"tr"),t.YNc(5,ke,2,2,"th",3),t.qZA()(),t.TgZ(6,"tbody")(7,"tr"),t.YNc(8,Ve,4,2,"td",3),t.qZA()()()()()),2&e&&(t.xp6(5),t.Q6J("ngForOf",i.lista),t.xp6(3),t.Q6J("ngForOf",i.lista))},dependencies:[h.sg,I.F],styles:["img[_ngcontent-%COMP%]{width:100px;height:110px;box-shadow:0 0 5px #999;padding:10px;margin:0 10px}img[_ngcontent-%COMP%]:hover{cursor:pointer;box-shadow:0 0 6px #0073ff}table[_ngcontent-%COMP%]{text-align:center;color:#4d4d4d;font-weight:400;margin-top:10px}th[_ngcontent-%COMP%]:hover{cursor:pointer;box-shadow:0 0 6px #0073ff}"]}),o})();function $e(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",9)(1,"div",10)(2,"h5",0),t._uU(3,"Seleccione un Paciente"),t.qZA(),t.TgZ(4,"app-paciente-lista",11),t.NdJ("pacienteSeleccionado",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.asignarPaciente(n))}),t.qZA()()()}if(2&o){const e=t.oxw();t.xp6(4),t.Q6J("lista",e.pacientes)}}function Re(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",9)(1,"div",10)(2,"h5",0),t._uU(3,"Seleccione una Especialidad"),t.qZA(),t.TgZ(4,"app-especialidad-lista",12),t.NdJ("especialidadSeleccionado",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.asignarEspecialidad(n))}),t.qZA()()()}if(2&o){const e=t.oxw();t.xp6(4),t.Q6J("lista",e.especialidades)}}function Ge(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"div",10)(2,"h5",0),t._uU(3,"Seleccione un Especialista"),t.qZA(),t.TgZ(4,"app-especialista-lista",13),t.NdJ("especialistaSeleccionado",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.asignarEspecialista(n))}),t.qZA()()()}if(2&o){const e=t.oxw();t.xp6(4),t.Q6J("lista",e.especialistas)}}function Be(o,a){1&o&&t._UZ(0,"th")}function Xe(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"td")(1,"button",17),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.mostrarHorarios(r))}),t._uU(2),t.qZA()()}if(2&o){const e=a.$implicit;t.xp6(2),t.AsE(" ",e.fmt_date.date," de ",e.fmt_date.monthName," ")}}function Ke(o,a){if(1&o&&(t.TgZ(0,"div",9)(1,"h5",0),t._uU(2," Seleccione el d\xeda de su turno entre los pr\xf3ximos 15 d\xedas "),t.qZA(),t.TgZ(3,"div",14)(4,"table",15)(5,"thead")(6,"tr"),t.YNc(7,Be,1,0,"th",16),t.qZA()(),t.TgZ(8,"tbody")(9,"tr"),t.YNc(10,Xe,3,2,"td",16),t.qZA()()()()()),2&o){const e=t.oxw();t.xp6(7),t.Q6J("ngForOf",e.turnosDisponibles),t.xp6(3),t.Q6J("ngForOf",e.turnosDisponibles)}}function We(o,a){1&o&&(t.TgZ(0,"div",21),t._uU(1," No posee horarios disponibles. "),t.qZA())}function ze(o,a){1&o&&t._UZ(0,"th")}function to(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"button",23),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw(3);return t.KtG(r.fechaTurnoElegido(n))}),t._uU(1),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e," ")}}function eo(o,a){if(1&o&&(t.TgZ(0,"td"),t.YNc(1,to,2,1,"button",22),t.qZA()),2&o){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf",e)}}function oo(o,a){if(1&o&&(t.TgZ(0,"div",14)(1,"table",15)(2,"thead")(3,"tr"),t.YNc(4,ze,1,0,"th",16),t.qZA()(),t.TgZ(5,"tbody")(6,"tr"),t.YNc(7,eo,2,1,"td",16),t.qZA()()()()),2&o){const e=t.oxw(2);t.xp6(4),t.Q6J("ngForOf",e.fechaElegida.row_date.hours),t.xp6(3),t.Q6J("ngForOf",e.fechaElegida.row_date.hours)}}function io(o,a){if(1&o&&(t.TgZ(0,"div",9)(1,"div",18)(2,"h5",0),t._uU(3),t.qZA(),t.YNc(4,We,2,0,"div",19),t.YNc(5,oo,8,2,"div",20),t.qZA()()),2&o){const e=t.oxw();t.xp6(3),t.lnq(" Horarios disponibles para el d\xeda ",e.fechaElegida.row_date.day,"/",e.fechaElegida.row_date.month,"/",e.fechaElegida.row_date.year," "),t.xp6(1),t.Q6J("ngIf",0==e.fechaElegida.row_date.hours.length),t.xp6(1),t.Q6J("ngIf",e.fechaElegida.row_date.hours.length>0)}}function ao(o,a){1&o&&(t.TgZ(0,"div")(1,"h3"),t._uU(2,"Su turno:"),t.qZA()())}function no(o,a){if(1&o&&(t.TgZ(0,"div")(1,"h5"),t._uU(2),t.qZA()()),2&o){const e=t.oxw(2);t.xp6(2),t.lnq(" Paciente: ",e.pacienteSeleccionado.apellido,", ",e.pacienteSeleccionado.nombre," - ",e.pacienteSeleccionado.dni," ")}}function ro(o,a){if(1&o&&(t.TgZ(0,"div")(1,"h5"),t._uU(2),t.qZA()()),2&o){const e=t.oxw(2);t.xp6(2),t.AsE(" Especialista: ",e.especialistaSeleccionado.apellido,", ",e.especialistaSeleccionado.nombre," ")}}function so(o,a){if(1&o&&(t.TgZ(0,"div")(1,"h5"),t._uU(2),t.qZA()()),2&o){const e=t.oxw(2);t.xp6(2),t.hij("Especialidad: ",e.especialidadSeleccionado.nombre,"")}}function lo(o,a){if(1&o&&(t.TgZ(0,"div")(1,"h5"),t._uU(2),t.qZA()()),2&o){const e=t.oxw(2);t.xp6(2),t.lnq(" Fecha: ",e.fechaElegida.row_date.day,"/",e.fechaElegida.row_date.month,"/",e.fechaElegida.row_date.year," ")}}function co(o,a){if(1&o&&(t.TgZ(0,"div")(1,"h5"),t._uU(2),t.qZA()()),2&o){const e=t.oxw(2);t.xp6(2),t.hij("Hora: ",e.horaElegida," hs")}}function po(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.registrarTurno())}),t._uU(1," Registrar Turno "),t.qZA()}}function uo(o,a){if(1&o&&(t.TgZ(0,"div",24),t.YNc(1,ao,3,0,"div",3),t.YNc(2,no,3,3,"div",3),t.YNc(3,ro,3,2,"div",3),t.YNc(4,so,3,1,"div",3),t.YNc(5,lo,3,3,"div",3),t.YNc(6,co,3,1,"div",3),t.YNc(7,po,2,0,"button",25),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.especialistaSeleccionado),t.xp6(1),t.Q6J("ngIf",e.authSvc.ITEM_ACCESOS.isAdmin),t.xp6(1),t.Q6J("ngIf",e.especialistaSeleccionado),t.xp6(1),t.Q6J("ngIf",e.especialidadSeleccionado),t.xp6(1),t.Q6J("ngIf",e.fechaElegida),t.xp6(1),t.Q6J("ngIf",e.horaElegida),t.xp6(1),t.Q6J("ngIf",e.horaElegida)}}function ho(o,a){1&o&&(t.TgZ(0,"div",27),t._uU(1," Turno registrado con \xe9xito! "),t.qZA())}const _o=[{path:"",component:Dt,children:[{path:"",redirectTo:"inicio",pathMatch:"full"},{path:"mi-perfil",component:ye},{path:"mis-horarios",component:k,canActivate:[N.J],data:{roles:[y.l.ESPECIALISTA]}},{path:"solicitar-turno",component:(()=>{class o{constructor(e,i,n,r,s,l,u){this.authSvc=e,this.especialistaService=i,this.especialidadService=n,this.pacienteService=r,this.turnoSvc=s,this.router=l,this.datePipe=u,this.suscripciones=[],this.especialistas=[],this.especialidades=[],this.pacientes=[],this.spinner=!0,this.successOperation=!1,this.usuario$=this.authSvc.afAuth.user,this.usuarios=[],this.especialistasEspecialidad=[],this.mostrarHora=!1,this.turnosDisponibles=[],this.listaUsuarios=[],this.idAdmin=!1,this.captchaPropio=!1,this.successOperation=!1}ngOnInit(){console.log("UsuarioLogueado",this.authSvc.usuarioLogeado),this.setearTurno(),this.spinnerShow(),this.cargarTurnos(),this.cargarPacientes(),this.cargarEspecialidades(),setTimeout(()=>{this.spinnerHide()},2e3)}ngOnDestroy(){this.suscripciones.forEach(e=>{e.unsubscribe(),console.log("cantidad de unsubscribe HabilitarCuentasComponent: ",this.suscripciones.length)})}spinnerShow(){this.spinner=!0}spinnerHide(){this.spinner=!1}cargarEspecialistas(){var e=[];this.suscripciones.push(this.especialistaService.getAllTwo().subscribe(i=>{this.especialistas=i,console.log("Lookkk",i),console.log("Lgdfgdfg",this.especialidadSeleccionado.nombre),i.forEach(n=>{n.especialidades&&n.especialidades.forEach(r=>{r.descripcion==this.especialidadSeleccionado.descripcion&&e.push(n)})}),this.especialistas=e}))}cargarEspecialidades(){this.especialidades=[],this.especialidadService.getAllEsp().subscribe(e=>(console.log("asddd",e),this.especialidades=e))}cargarPacientes(){this.suscripciones.push(this.pacienteService.getAllTwo().subscribe(e=>{this.pacientes=[],e.forEach(i=>{{console.log("wiwi",i.payload);const n=i;n.id=i.id,this.pacientes.push(n)}}),console.log(this.pacientes)}))}asignarEspecialista(e){console.log("Especialista seleccionada ->",e),this.setearFechaYHora(),this.especialistaSeleccionado=e}asignarEspecialidad(e){console.log("Especialidad seleccionada ->",e),this.setearFechaYHora(),this.especialidadSeleccionado=e,this.cargarEspecialistas()}asignarPaciente(e){this.pacienteSeleccionado=e,console.log(this.pacienteSeleccionado)}mostrarHorarios(e){this.horaElegida="",this.fechaElegida=e,console.log("fechaElegida: ",this.fechaElegida),console.log("dia elegido: ",this.fechaElegida.fmt_date.weekDay),this.fechaElegida.row_date.hours=this.getHorasByDia(this.fechaElegida.fmt_date.weekDay),this.filtrarHorariosTurnos(this.fechaElegida.row_date.year+"-"+this.fechaElegida.row_date.month+"-"+this.fechaElegida.row_date.day)}filtrarHorariosTurnos(e){this.turnosOcupados.forEach(n=>{if(console.log(n.especialista),n.especialista.id==this.especialistaSeleccionado.id&&n.estado!=b.RECHAZADO&&n.estado!=b.CANCELADO)for(let r=0;r<this.fechas.length;r++){const s=this.fechas[r];if(n.fecha==s.row_date.year+"-"+s.row_date.month+"-"+s.row_date.day)for(let l=0;l<s.row_date.hours.length;l++)s.row_date.hours[l]==n.hora&&(s.row_date.hours[l]=null);this.turnosDisponibles.push(s)}})}fechaTurnoElegido(e){this.horaElegida=e,console.log("horaElegida: ",this.horaElegida)}cargarTurnos(){console.log("cargar Turnos"),this.getDates(),this.turnoSvc.getTurnos().subscribe(e=>{this.turnosOcupados=e,this.cargarTurnosDisponibles()})}getDates(){var e=new Date;e.setDate(e.getDate()+1);var n=new Date;n.setDate(e.getDate()+15);for(var r=Math.abs(e.getTime()-n.getTime()),s=Math.ceil(r/864e5)+1,l=["Sun","MON","TUE","WED","THU","FRI","SAT"],u=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],d=["8:00","8:30","9:00","9:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00","18:30"],v=["8:00","8:30","9:00","9:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30"],Z=new Array,g=0;g<=s;g++){var _,C,x,f;_=e.getDate()<10?"0"+e.getDate():e.getDate(),f=e.getMonth()<9?"0"+(e.getMonth()+1):e.getMonth().toString(),6==e.getDay()?(x=v,C={day:_,month:f,year:e.getFullYear(),hours:x}):(x=d,C={day:_,month:f,year:e.getFullYear(),hours:x});var A={weekDay:l[e.getDay()],date:_,month:u[e.getMonth()],monthName:this.datePipe.transform(e,"MMMM")},T=!1;(0==e.getDay()||6==e.getDay())&&(T=!0),0!=e.getDay()&&Z.push({row_date:C,fmt_date:A,is_weekend:T}),e.setDate(e.getDate()+1)}this.fechas=Z,console.log(this.fechas)}getHorasByDia(e){let i=[];switch(e){case"MON":i=this.getArrayHoras(!1,this.especialistaSeleccionado.horarios.horarioLunes[0].desde,this.especialistaSeleccionado.horarios.horarioLunes[0].hasta);break;case"TUE":i=this.getArrayHoras(!1,this.especialistaSeleccionado.horarios.horarioMartes[0].desde,this.especialistaSeleccionado.horarios.horarioMartes[0].hasta);break;case"WED":i=this.getArrayHoras(!1,this.especialistaSeleccionado.horarios.horarioMiercoles[0].desde,this.especialistaSeleccionado.horarios.horarioMiercoles[0].hasta);break;case"THU":i=this.getArrayHoras(!1,this.especialistaSeleccionado.horarios.horarioJueves[0].desde,this.especialistaSeleccionado.horarios.horarioJueves[0].hasta);break;case"FRI":i=this.getArrayHoras(!1,this.especialistaSeleccionado.horarios.horarioViernes[0].desde,this.especialistaSeleccionado.horarios.horarioViernes[0].hasta);break;case"SAT":i=this.getArrayHoras(!0,this.especialistaSeleccionado.horarios.horarioSabado[0].desde,this.especialistaSeleccionado.horarios.horarioSabado[0].hasta);break;default:alert("Los Domingo no se trabaja!")}return i}getArrayHoras(e,i,n){console.log("esSabado: ",e),console.log("horaDesde: ",i),console.log("horaHasta: ",n);let l=new Array,u=new Array;return e?(["08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30"].forEach(d=>{d>=i&&d<n&&u.push(d)}),console.log("hoursSatOK ->",u),u):(["08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00","18:30"].forEach(d=>{d>=i&&d<n&&l.push(d)}),console.log("hoursWeekOK ->",l),l)}cargarTurnosDisponibles(){this.turnosDisponibles=[],this.turnosOcupados.forEach(i=>{if(i.estado!=b.RECHAZADO&&i.estado!=b.CANCELADO)for(let n=0;n<this.fechas.length;n++){const r=this.fechas[n];if(i.fecha==r.row_date.year+"-"+r.row_date.month+"-"+r.row_date.day)for(let s=0;s<r.row_date.hours.length;s++)r.row_date.hours[s]==i.hora&&(r.row_date.hours[s]=null);this.turnosDisponibles.push(r)}}),console.log(this.turnosDisponibles),this.turnosDisponibles=this.turnosDisponibles.filter((i,n)=>this.turnosDisponibles.indexOf(i)===n),console.log(this.turnosDisponibles),0==this.turnosDisponibles.length&&(console.log("no hay turnos disponibles"),this.turnosDisponibles=this.fechas,console.log(this.turnosDisponibles))}registrarTurno(){console.log("UsuarioLogueadoMtd",this.authSvc.usuarioLogeado),this.spinnerShow(),this.authSvc.usuarioLogeado&&this.especialistaSeleccionado&&this.horaElegida&&(this.turno=new J.v,this.turno.id="",this.turno.estado=b.PENDIENTE,this.turno.especialista=this.especialistaSeleccionado,this.turno.especialidad=this.especialidadSeleccionado,this.authSvc.usuarioLogeado.roles.includes("admin")?(this.paciente=this.pacienteSeleccionado,this.turno.paciente=this.pacienteSeleccionado):this.authSvc.usuarioLogeado.roles.includes("paciente")&&(this.paciente=this.authSvc.usuarioLogeado,this.turno.paciente=this.paciente),this.turno.fecha=this.fechaElegida.row_date.year+"-"+this.fechaElegida.row_date.month+"-"+this.fechaElegida.row_date.day,this.turno.hora=this.horaElegida,this.turno.comentariosPaciente="",this.turno.comentariosEspecialista="",this.turno.comentariosAdmin="",this.turno.historiaClinica=new D,this.turno.encuesta="",this.turno.calificacionAtencion="",this.turnoSvc.addTurno(this.turno).then(e=>{this.successOperation=!0,this.setearTurno(),setTimeout(()=>{"paciente"==this.authSvc.usuarioLogeado.perfil?this.router.navigate(["/intranet/mis-turnos-paciente"]):"admin"==this.authSvc.usuarioLogeado.perfil&&this.router.navigate(["/administracion/turnos"])},2e3)}).catch(e=>{this.spinnerHide(),console.error(e)}))}setearFechaYHora(){this.fechaElegida=null,this.horaElegida=""}setearTurno(){this.spinnerHide(),this.pacienteSeleccionado=null,this.especialistaSeleccionado=null,this.especialidadSeleccionado=null,this.setearFechaYHora()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(H.e),t.Y36(Q.n),t.Y36(Ne.T),t.Y36(we.d),t.Y36(P.D),t.Y36(E.F0),t.Y36(h.uU))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-solicitar-turno"]],features:[t._Bn([h.uU])],decls:15,vars:8,consts:[[1,"text-center"],["class","row container-listas",4,"ngIf"],["class","row container-listas","class","row container-listas",4,"ngIf"],[4,"ngIf"],["class","row text-center container-turno",4,"ngIf"],["style","margin: 0px 20px","class","alert alert-success mx-auto text-center","role","alert",4,"ngIf"],[1,"mx-auto","text-center","mt-5"],["role","status",1,"spinner-border","text-dark","mx-auto","text-center",3,"hidden"],[1,"visually-hidden"],[1,"row","container-listas"],[1,"mx-auto"],[3,"lista","pacienteSeleccionado"],[3,"lista","especialidadSeleccionado"],[3,"lista","especialistaSeleccionado"],[1,"col-md-12","mx-auto","table-responsive"],[1,"table","table-striped","table-bordered","table-responsive","mx-auto"],[4,"ngFor","ngForOf"],[1,"btn","btn-dark","mb-2",2,"width","150px",3,"click"],[1,"row","mx-auto"],["class","alert alert-danger mt-3","role","alert",4,"ngIf"],["class","col-md-12 mx-auto table-responsive",4,"ngIf"],["role","alert",1,"alert","alert-danger","mt-3"],["class","btn btn-success mb-2",3,"click",4,"ngIf"],[1,"btn","btn-success","mb-2",3,"click"],[1,"row","text-center","container-turno"],["class","w-20 btn btn-primary btn-lg mt-3","type","button",3,"click",4,"ngIf"],["type","button",1,"w-20","btn","btn-primary","btn-lg","mt-3",3,"click"],["role","alert",1,"alert","alert-success","mx-auto","text-center",2,"margin","0px 20px"]],template:function(e,i){1&e&&(t.TgZ(0,"body")(1,"h2",0),t._uU(2,"Solcitar Turno"),t.qZA(),t._UZ(3,"hr"),t.YNc(4,$e,5,1,"div",1),t.YNc(5,Re,5,1,"div",2),t.YNc(6,Ge,5,1,"div",3),t.YNc(7,Ke,11,2,"div",1),t.YNc(8,io,6,5,"div",1),t.YNc(9,uo,8,7,"div",4),t.YNc(10,ho,2,0,"div",5),t.TgZ(11,"div",6)(12,"div",7)(13,"span",8),t._uU(14,"Loading..."),t.qZA()()()()),2&e&&(t.xp6(4),t.Q6J("ngIf",i.authSvc.ITEM_ACCESOS.isAdmin&&i.pacientes.length>0&&!i.spinner),t.xp6(1),t.Q6J("ngIf",(!i.authSvc.ITEM_ACCESOS.isAdmin||i.pacienteSeleccionado)&&!i.spinner),t.xp6(1),t.Q6J("ngIf",i.especialidadSeleccionado),t.xp6(1),t.Q6J("ngIf",i.especialistaSeleccionado),t.xp6(1),t.Q6J("ngIf",i.fechaElegida),t.xp6(1),t.Q6J("ngIf",i.especialistaSeleccionado),t.xp6(1),t.Q6J("ngIf",i.successOperation),t.xp6(2),t.Q6J("hidden",!i.spinner))},dependencies:[h.sg,h.O5,Ye,Qe,je],styles:["body[_ngcontent-%COMP%]{background-color:#f2f2f2;height:110em}@media only screen and (max-width: 769px){body[_ngcontent-%COMP%]{height:120em}}h2[_ngcontent-%COMP%]{text-align:center;align-items:center;padding:15px 0 0;color:#0086cf;text-transform:uppercase}img[_ngcontent-%COMP%]{width:160px;border:5px solid black}.container-listas[_ngcontent-%COMP%]{padding:10px;box-shadow:3px 3px 5px gray;margin:10px 20px}.container-turno[_ngcontent-%COMP%]{padding:10px;box-shadow:3px 3px 5px gray;background-color:#b8e5ee;margin:10px 20px}table[_ngcontent-%COMP%]{text-align:center;color:#4d4d4d;font-weight:400;margin-top:10px}"]}),o})()},{path:"mis-turnos-especialista",component:Ot,canActivate:[N.J],data:{roles:[y.l.ESPECIALISTA]}},{path:"mis-turnos-paciente",component:Pt.L,canActivate:[N.J],data:{roles:[y.l.PACIENTE]}},{path:"mis-pacientes",component:tt,canActivate:[N.J],data:{roles:[y.l.ESPECIALISTA]}},{path:"usuarios",component:wt,canActivate:[N.J],data:{roles:[y.l.ADMIN]}}]}];let go=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[E.Bz.forChild(_o),E.Bz]}),o})();var fo=p(7865);let xo=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[h.ez,go,fo.m]}),o})()}}]);