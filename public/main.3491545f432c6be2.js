"use strict";(self.webpackChunkclinica=self.webpackChunkclinica||[]).push([[179],{7128:(tn,et,P)=>{P.d(et,{nm:()=>Zi});var c=P(5813),m=(P(4650),P(3692),P(5867),P(5861)),Te=P(9681),ke=P(4859),Pe=P(2090),Ae=P(1877);const q=new Map,Q={activated:!1,tokenObservers:[]},me={initialized:!1,enabled:!1};function tt(Je){return q.get(Je)||Q}function Qe(Je,Ke){q.set(Je,Ke)}function ze(){return me}class He{constructor(Ke,it,Mt,Vt,dn){if(this.operation=Ke,this.retryPolicy=it,this.getWaitDuration=Mt,this.lowerBound=Vt,this.upperBound=dn,this.pending=null,this.nextErrorWaitInterval=Vt,Vt>dn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Ke){var it=this;return(0,m.Z)(function*(){it.stop();try{it.pending=new Pe.BH,yield function ot(Je){return new Promise(Ke=>{setTimeout(Ke,Je)})}(it.getNextRun(Ke)),it.pending.resolve(),yield it.pending.promise,it.pending=new Pe.BH,yield it.operation(),it.pending.resolve(),yield it.pending.promise,it.process(!0).catch(()=>{})}catch(Mt){it.retryPolicy(Mt)?it.process(!1).catch(()=>{}):it.stop()}})()}getNextRun(Ke){if(Ke)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const it=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),it}}}const Re=new Pe.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function rt(Je){if(!tt(Je).activated)throw Re.create("use-before-activation",{appName:Je.name})}function xe(Je,Ke){return $e.apply(this,arguments)}function $e(){return($e=(0,m.Z)(function*({url:Je,body:Ke},it){var Mt,Vt;const dn={"Content-Type":"application/json"},lr=it.getImmediate({optional:!0});if(lr){const Xi=yield lr.getHeartbeatsHeader();Xi&&(dn["X-Firebase-Client"]=Xi)}const Fr={method:"POST",body:JSON.stringify(Ke),headers:dn};let Mr,Vr;try{Mr=yield fetch(Je,Fr)}catch(Xi){throw Re.create("fetch-network-error",{originalErrorMessage:null===(Mt=Xi)||void 0===Mt?void 0:Mt.message})}if(200!==Mr.status)throw Re.create("fetch-status-error",{httpStatus:Mr.status});try{Vr=yield Mr.json()}catch(Xi){throw Re.create("fetch-parse-error",{originalErrorMessage:null===(Vt=Xi)||void 0===Vt?void 0:Vt.message})}const Ni=Vr.ttl.match(/^([\d.]+)(s)$/);if(!Ni||!Ni[2]||isNaN(Number(Ni[1])))throw Re.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Vr.ttl}`});const Ji=1e3*Number(Ni[1]),os=Date.now();return{token:Vr.token,expireTimeMillis:os+Ji,issuedAtTimeMillis:os}})).apply(this,arguments)}function Kt(Je,Ke){const{projectId:it,appId:Mt,apiKey:Vt}=Je.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${it}/apps/${Mt}:exchangeDebugToken?key=${Vt}`,body:{debug_token:Ke}}}const Ot="firebase-app-check-store";let fn=null;function Dt(){return fn||(fn=new Promise((Je,Ke)=>{var it;try{const Mt=indexedDB.open("firebase-app-check-database",1);Mt.onsuccess=Vt=>{Je(Vt.target.result)},Mt.onerror=Vt=>{var dn;Ke(Re.create("storage-open",{originalErrorMessage:null===(dn=Vt.target.error)||void 0===dn?void 0:dn.message}))},Mt.onupgradeneeded=Vt=>{0===Vt.oldVersion&&Vt.target.result.createObjectStore(Ot,{keyPath:"compositeKey"})}}catch(Mt){Ke(Re.create("storage-open",{originalErrorMessage:null===(it=Mt)||void 0===it?void 0:it.message}))}}),fn)}function Wn(){return(Wn=(0,m.Z)(function*(Je,Ke){const Mt=(yield Dt()).transaction(Ot,"readwrite"),dn=Mt.objectStore(Ot).put({compositeKey:Je,value:Ke});return new Promise((lr,Fr)=>{dn.onsuccess=Mr=>{lr()},Mt.onerror=Mr=>{var Vr;Fr(Re.create("storage-set",{originalErrorMessage:null===(Vr=Mr.target.error)||void 0===Vr?void 0:Vr.message}))}})})).apply(this,arguments)}const cn=new Ae.Yd("@firebase/app-check");function dr(Je,Ke){return(0,Pe.hl)()?function wt(Je,Ke){return function sr(Je,Ke){return Wn.apply(this,arguments)}(function fr(Je){return`${Je.options.appId}-${Je.name}`}(Je),Ke)}(Je,Ke).catch(it=>{cn.warn(`Failed to write token to IndexedDB. Error: ${it}`)}):Promise.resolve()}function Ln(){return ze().enabled}function jn(){return pr.apply(this,arguments)}function pr(){return(pr=(0,m.Z)(function*(){const Je=ze();if(Je.enabled&&Je.token)return Je.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Ar={error:"UNKNOWN_ERROR"};function Hn(Je){return Pe.US.encodeString(JSON.stringify(Je),!1)}function qn(Je){return yn.apply(this,arguments)}function yn(){return(yn=(0,m.Z)(function*(Je,Ke=!1){const it=Je.app;rt(it);const Mt=tt(it);let dn,Vt=Mt.token;if(Vt&&!yt(Vt)&&(Qe(it,Object.assign(Object.assign({},Mt),{token:void 0})),Vt=void 0),!Vt){const Mr=yield Mt.cachedTokenPromise;Mr&&(yt(Mr)?Vt=Mr:yield dr(it,void 0))}if(!Ke&&Vt&&yt(Vt))return{token:Vt.token};let Fr,lr=!1;if(Ln()){Mt.exchangeTokenPromise||(Mt.exchangeTokenPromise=xe(Kt(it,yield jn()),Je.heartbeatServiceProvider).finally(()=>{Mt.exchangeTokenPromise=void 0}),lr=!0);const Mr=yield Mt.exchangeTokenPromise;return yield dr(it,Mr),Qe(it,Object.assign(Object.assign({},Mt),{token:Mr})),{token:Mr.token}}try{Mt.exchangeTokenPromise||(Mt.exchangeTokenPromise=Mt.provider.getToken().finally(()=>{Mt.exchangeTokenPromise=void 0}),lr=!0),Vt=yield Mt.exchangeTokenPromise}catch(Mr){"appCheck/throttled"===Mr.code?cn.warn(Mr.message):cn.error(Mr),dn=Mr}return Vt?dn?Fr=yt(Vt)?{token:Vt.token,internalError:dn}:St(dn):(Fr={token:Vt.token},Qe(it,Object.assign(Object.assign({},Mt),{token:Vt})),yield dr(it,Vt)):Fr=St(dn),lr&&Ue(it,Fr),Fr})).apply(this,arguments)}function Rn(Je,Ke){const it=tt(Je),Mt=it.tokenObservers.filter(Vt=>Vt.next!==Ke);0===Mt.length&&it.tokenRefresher&&it.tokenRefresher.isRunning()&&it.tokenRefresher.stop(),Qe(Je,Object.assign(Object.assign({},it),{tokenObservers:Mt}))}function Et(Je){const{app:Ke}=Je,it=tt(Ke);let Mt=it.tokenRefresher;Mt||(Mt=function Se(Je){const{app:Ke}=Je;return new He((0,m.Z)(function*(){let Mt;if(Mt=tt(Ke).token?yield qn(Je,!0):yield qn(Je),Mt.error)throw Mt.error;if(Mt.internalError)throw Mt.internalError}),()=>!0,()=>{const it=tt(Ke);if(it.token){let Mt=it.token.issuedAtTimeMillis+.5*(it.token.expireTimeMillis-it.token.issuedAtTimeMillis)+3e5;return Mt=Math.min(Mt,it.token.expireTimeMillis-3e5),Math.max(0,Mt-Date.now())}return 0},3e4,96e4)}(Je),Qe(Ke,Object.assign(Object.assign({},it),{tokenRefresher:Mt}))),!Mt.isRunning()&&it.isTokenAutoRefreshEnabled&&Mt.start()}function Ue(Je,Ke){const it=tt(Je).tokenObservers;for(const Mt of it)try{"EXTERNAL"===Mt.type&&null!=Ke.error?Mt.error(Ke.error):Mt.next(Ke)}catch{}}function yt(Je){return Je.expireTimeMillis-Date.now()>0}function St(Je){return{token:Hn(Ar),error:Je}}class Qt{constructor(Ke,it){this.app=Ke,this.heartbeatServiceProvider=it}_delete(){const{tokenObservers:Ke}=tt(this.app);for(const it of Ke)Rn(this.app,it.next);return Promise.resolve()}}const An="app-check-internal";!function ur(){(0,Te._registerComponent)(new ke.wA("app-check",Je=>function Xn(Je,Ke){return new Qt(Je,Ke)}(Je.getProvider("app").getImmediate(),Je.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Je,Ke,it)=>{Je.getProvider(An).initialize()})),(0,Te._registerComponent)(new ke.wA(An,Je=>function ln(Je){return{getToken:Ke=>qn(Je,Ke),addTokenListener:Ke=>function mn(Je,Ke,it,Mt){const{app:Vt}=Je,dn=tt(Vt),lr={next:it,error:Mt,type:Ke};if(Qe(Vt,Object.assign(Object.assign({},dn),{tokenObservers:[...dn.tokenObservers,lr]})),dn.token&&yt(dn.token)){const Fr=dn.token;Promise.resolve().then(()=>{it({token:Fr.token}),Et(Je)}).catch(()=>{})}dn.cachedTokenPromise.then(()=>Et(Je))}(Je,"INTERNAL",Ke),removeTokenListener:Ke=>Rn(Je.app,Ke)}}(Je.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Te.registerVersion)("@firebase/app-check","0.5.15")}();class Zi{constructor(){return(0,c.vb)("app-check")}}typeof window<"u"&&window},3692:(tn,et,P)=>{P.d(et,{Ot:()=>j}),P(5867),P(4650);class j{constructor(ge){return ge}}},1205:(tn,et,P)=>{P.d(et,{zQ:()=>Ft,ww:()=>jt,rT:()=>_e,f7:()=>xe,L6:()=>Ye,_Q:()=>rt,lh:()=>Ve,Qv:()=>Re,nw:()=>$e});var c=P(4650),U=P(7579),j=P(9646),pe=P(9751),m=P(8996),Te=P(6451),ke=P(5363),Pe=P(3900),Ae=P(4004),q=P(6063);class Q extends U.x{constructor(nn=1/0,un=1/0,Ot=q.l){super(),this._bufferSize=nn,this._windowTime=un,this._timestampProvider=Ot,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=un===1/0,this._bufferSize=Math.max(1,nn),this._windowTime=Math.max(1,un)}next(nn){const{isStopped:un,_buffer:Ot,_infiniteTimeWindow:vn,_timestampProvider:fn,_windowTime:Dt}=this;un||(Ot.push(nn),!vn&&Ot.push(fn.now()+Dt)),this._trimBuffer(),super.next(nn)}_subscribe(nn){this._throwIfClosed(),this._trimBuffer();const un=this._innerSubscribe(nn),{_infiniteTimeWindow:Ot,_buffer:vn}=this,fn=vn.slice();for(let Dt=0;Dt<fn.length&&!nn.closed;Dt+=Ot?1:2)nn.next(fn[Dt]);return this._checkFinalizedStatuses(nn),un}_trimBuffer(){const{_bufferSize:nn,_timestampProvider:un,_buffer:Ot,_infiniteTimeWindow:vn}=this,fn=(vn?1:2)*nn;if(nn<1/0&&fn<Ot.length&&Ot.splice(0,Ot.length-fn),!vn){const Dt=un.now();let ht=0;for(let wt=1;wt<Ot.length&&Ot[wt]<=Dt;wt+=2)ht=wt;ht&&Ot.splice(0,ht+1)}}}var me=P(3099);function tt(Kt,nn,un){let Ot,vn=!1;return Kt&&"object"==typeof Kt?({bufferSize:Ot=1/0,windowTime:nn=1/0,refCount:vn=!1,scheduler:un}=Kt):Ot=Kt??1/0,(0,me.B)({connector:()=>new Q(Ot,nn,un),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:vn})}var Qe=P(590),ze=P(576);function Pt(Kt,nn){return(0,ze.m)(nn)?(0,Pe.w)(()=>Kt,nn):(0,Pe.w)(()=>Kt)}var We=P(9468),Ge=P(9300),Tt=P(5813),Bt=P(2011),ge=P(6895),He=P(7128),ot=P(127);const Re=new c.OlP("angularfire2.auth.use-emulator"),Ye=new c.OlP("angularfire2.auth.settings"),rt=new c.OlP("angularfire2.auth.tenant-id"),_e=new c.OlP("angularfire2.auth.langugage-code"),Ve=new c.OlP("angularfire2.auth.use-device-language"),xe=new c.OlP("angularfire.auth.persistence"),$e=(Kt,nn,un,Ot,vn,fn,Dt,ht)=>(0,Bt.cc)(`${Kt.name}.auth`,"AngularFireAuth",Kt.name,()=>{const wt=nn.runOutsideAngular(()=>Kt.auth());if(un&&wt.useEmulator(...un),Ot&&(wt.tenantId=Ot),wt.languageCode=vn,fn&&wt.useDeviceLanguage(),Dt)for(const[Xt,Fn]of Object.entries(Dt))wt.settings[Xt]=Fn;return ht&&wt.setPersistence(ht),wt},[un,Ot,vn,fn,Dt,ht]);let Ft=(()=>{class Kt{constructor(un,Ot,vn,fn,Dt,ht,wt,Xt,Fn,sr,Wn,nr){const Kn=new U.x,fr=(0,j.of)(void 0).pipe((0,ke.Q)(Dt.outsideAngular),(0,Pe.w)(()=>fn.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,5881)))),(0,Ae.U)(()=>(0,Bt.on)(un,fn,Ot)),(0,Ae.U)(cn=>$e(cn,fn,ht,Xt,Fn,sr,wt,Wn)),tt({bufferSize:1,refCount:!1}));if((0,ge.PM)(vn))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,j.of)(null);else{fr.pipe((0,Qe.P)()).subscribe();const rr=fr.pipe((0,Pe.w)(Ut=>Ut.getRedirectResult().then(or=>or,()=>null)),Tt.iC,tt({bufferSize:1,refCount:!1})),br=fr.pipe((0,Pe.w)(Ut=>new pe.y(or=>({unsubscribe:fn.runOutsideAngular(()=>Ut.onAuthStateChanged(Ln=>or.next(Ln),Ln=>or.error(Ln),()=>or.complete()))})))),dr=fr.pipe((0,Pe.w)(Ut=>new pe.y(or=>({unsubscribe:fn.runOutsideAngular(()=>Ut.onIdTokenChanged(Ln=>or.next(Ln),Ln=>or.error(Ln),()=>or.complete()))}))));this.authState=rr.pipe(Pt(br),(0,We.R)(Dt.outsideAngular),(0,ke.Q)(Dt.insideAngular)),this.user=rr.pipe(Pt(dr),(0,We.R)(Dt.outsideAngular),(0,ke.Q)(Dt.insideAngular)),this.idToken=this.user.pipe((0,Pe.w)(Ut=>Ut?(0,m.D)(Ut.getIdToken()):(0,j.of)(null))),this.idTokenResult=this.user.pipe((0,Pe.w)(Ut=>Ut?(0,m.D)(Ut.getIdTokenResult()):(0,j.of)(null))),this.credential=(0,Te.T)(rr,Kn,this.authState.pipe((0,Ge.h)(Ut=>!Ut))).pipe((0,Ae.U)(Ut=>Ut?.user?Ut:null),(0,We.R)(Dt.outsideAngular),(0,ke.Q)(Dt.insideAngular))}return(0,Bt.pX)(this,fr,fn,{spy:{apply:(cn,rr,br)=>{(cn.startsWith("signIn")||cn.startsWith("createUser"))&&br.then(dr=>Kn.next(dr))}}})}}return Kt.\u0275fac=function(un){return new(un||Kt)(c.LFG(Bt.Dh),c.LFG(Bt.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Tt.HU),c.LFG(Re,8),c.LFG(Ye,8),c.LFG(rt,8),c.LFG(_e,8),c.LFG(Ve,8),c.LFG(xe,8),c.LFG(He.nm,8))},Kt.\u0275prov=c.Yz7({token:Kt,factory:Kt.\u0275fac,providedIn:"any"}),Kt})(),jt=(()=>{class Kt{constructor(){ot.Z.registerVersion("angularfire",Tt.q4.full,"auth-compat")}}return Kt.\u0275fac=function(un){return new(un||Kt)},Kt.\u0275mod=c.oAB({type:Kt}),Kt.\u0275inj=c.cJS({providers:[Ft]}),Kt})()},7566:(tn,et,P)=>{P.d(et,{ST:()=>wy,yb:()=>by});var c=P(4650),U=P(4986),j=P(9751),pe=P(8996),m=P(9646),Te=P(5813),ke=P(8675),Pe=P(4482),Ae=P(5403);function q(){return(0,Pe.e)((i,e)=>{let t,o=!1;i.subscribe((0,Ae.x)(e,u=>{const d=t;t=u,o&&e.next([d,u]),o=!0}))})}var Q=P(4004),me=P(5026),tt=P(4671);function ze(i,e){return i===e}var _e,Pt=P(9300),We=P(2011),Ge=P(6895),Bt=(P(5881),P(3942)),ge=P(5861),He=P(9681),ot=P(4859),_t=P(1877),Re=P(2090),Ye=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},rt={},Ve=Ve||{},xe=Ye||self;function $e(){}function Ft(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function jt(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var nn="closure_uid_"+(1e9*Math.random()>>>0),un=0;function Ot(i,e,t){return i.call.apply(i.bind,arguments)}function vn(i,e,t){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function fn(i,e,t){return(fn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ot:vn).apply(null,arguments)}function Dt(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function ht(i,e){function t(){}t.prototype=e.prototype,i.X=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Wb=function(o,u,d){for(var g=Array(arguments.length-2),D=2;D<arguments.length;D++)g[D-2]=arguments[D];return e.prototype[u].apply(o,g)}}function wt(){this.s=this.s,this.o=this.o}var Fn={};wt.prototype.s=!1,wt.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function Kt(i){return Object.prototype.hasOwnProperty.call(i,nn)&&i[nn]||(i[nn]=++un)}(this);delete Fn[i]}},wt.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const sr=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1};function Wn(i){const e=i.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=i[o];return t}return[]}function nr(i,e){for(let t=1;t<arguments.length;t++){const o=arguments[t];if(Ft(o)){const u=i.length||0,d=o.length||0;i.length=u+d;for(let g=0;g<d;g++)i[u+g]=o[g]}else i.push(o)}}function Kn(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}Kn.prototype.h=function(){this.defaultPrevented=!0};var fr=function(){if(!xe.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{xe.addEventListener("test",$e,e),xe.removeEventListener("test",$e,e)}catch{}return i}();function cn(i){return/^[\s\xa0]*$/.test(i)}var rr=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function br(i,e){return i<e?-1:i>e?1:0}function dr(){var i=xe.navigator;return i&&(i=i.userAgent)?i:""}function Ut(i){return-1!=dr().indexOf(i)}function or(i){return or[" "](i),i}or[" "]=$e;var mn,i,jn=Ut("Opera"),pr=Ut("Trident")||Ut("MSIE"),Pi=Ut("Edge"),Ar=Pi||pr,Hn=Ut("Gecko")&&!(-1!=dr().toLowerCase().indexOf("webkit")&&!Ut("Edge"))&&!(Ut("Trident")||Ut("MSIE"))&&!Ut("Edge"),qn=-1!=dr().toLowerCase().indexOf("webkit")&&!Ut("Edge");function yn(){var i=xe.document;return i?i.documentMode:void 0}e:{var Rn="",Et=(i=dr(),Hn?/rv:([^\);]+)(\)|;)/.exec(i):Pi?/Edge\/([\d\.]+)/.exec(i):pr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):qn?/WebKit\/(\S+)/.exec(i):jn?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Et&&(Rn=Et?Et[1]:""),pr){var Se=yn();if(null!=Se&&Se>parseFloat(Rn)){mn=String(Se);break e}}mn=Rn}var Ue={};var Xn=xe.document&&pr&&(yn()||parseInt(mn,10))||void 0;function ln(i,e){if(Kn.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Hn){e:{try{or(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Sn[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&ln.X.h.call(this)}}ht(ln,Kn);var Sn={2:"touch",3:"pen",4:"mouse"};ln.prototype.h=function(){ln.X.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var we="closure_listenable_"+(1e6*Math.random()|0),lt=0;function le(i,e,t,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.ha=u,this.key=++lt,this.ba=this.ea=!1}function ve(i){i.ba=!0,i.listener=null,i.proxy=null,i.src=null,i.ha=null}function ut(i,e,t){for(const o in i)e.call(t,i[o],o,i)}function It(i){const e={};for(const t in i)e[t]=i[t];return e}const pn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function De(i,e){let t,o;for(let u=1;u<arguments.length;u++){for(t in o=arguments[u],o)i[t]=o[t];for(let d=0;d<pn.length;d++)t=pn[d],Object.prototype.hasOwnProperty.call(o,t)&&(i[t]=o[t])}}function ce(i){this.src=i,this.g={},this.h=0}function Oe(i,e){var t=e.type;if(t in i.g){var d,o=i.g[t],u=sr(o,e);(d=0<=u)&&Array.prototype.splice.call(o,u,1),d&&(ve(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function ue(i,e,t,o){for(var u=0;u<i.length;++u){var d=i[u];if(!d.ba&&d.listener==e&&d.capture==!!t&&d.ha==o)return u}return-1}ce.prototype.add=function(i,e,t,o,u){var d=i.toString();(i=this.g[d])||(i=this.g[d]=[],this.h++);var g=ue(i,e,o,u);return-1<g?(e=i[g],t||(e.ea=!1)):((e=new le(e,this.src,d,!!o,u)).ea=t,i.push(e)),e};var Z="closure_lm_"+(1e6*Math.random()|0),ie={};function Be(i,e,t,o,u){if(o&&o.once)return sn(i,e,t,o,u);if(Array.isArray(e)){for(var d=0;d<e.length;d++)Be(i,e[d],t,o,u);return null}return t=zn(t),i&&i[we]?i.N(e,t,jt(o)?!!o.capture:!!o,u):xt(i,e,t,!1,o,u)}function xt(i,e,t,o,u,d){if(!e)throw Error("Invalid event type");var g=jt(u)?!!u.capture:!!u,D=dt(i);if(D||(i[Z]=D=new ce(i)),(t=D.add(e,t,o,g,d)).proxy)return t;if(o=function rn(){const e=st;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=o,o.src=i,o.listener=t,i.addEventListener)fr||(u=g),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(he(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return t}function sn(i,e,t,o,u){if(Array.isArray(e)){for(var d=0;d<e.length;d++)sn(i,e[d],t,o,u);return null}return t=zn(t),i&&i[we]?i.O(e,t,jt(o)?!!o.capture:!!o,u):xt(i,e,t,!0,o,u)}function fe(i,e,t,o,u){if(Array.isArray(e))for(var d=0;d<e.length;d++)fe(i,e[d],t,o,u);else o=jt(o)?!!o.capture:!!o,t=zn(t),i&&i[we]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=ue(d=i.g[e],t,o,u))&&(ve(d[t]),Array.prototype.splice.call(d,t,1),0==d.length&&(delete i.g[e],i.h--))):i&&(i=dt(i))&&(e=i.g[e.toString()],i=-1,e&&(i=ue(e,t,o,u)),(t=-1<i?e[i]:null)&&de(t))}function de(i){if("number"!=typeof i&&i&&!i.ba){var e=i.src;if(e&&e[we])Oe(e.i,i);else{var t=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(t,o,i.capture):e.detachEvent?e.detachEvent(he(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=dt(e))?(Oe(t,i),0==t.h&&(t.src=null,e[Z]=null)):ve(i)}}}function he(i){return i in ie?ie[i]:ie[i]="on"+i}function st(i,e){if(i.ba)i=!0;else{e=new ln(e,this);var t=i.listener,o=i.ha||i.src;i.ea&&de(i),i=t.call(o,e)}return i}function dt(i){return(i=i[Z])instanceof ce?i:null}var on="__closure_events_fn_"+(1e9*Math.random()>>>0);function zn(i){return"function"==typeof i?i:(i[on]||(i[on]=function(e){return i.handleEvent(e)}),i[on])}function An(){wt.call(this),this.i=new ce(this),this.P=this,this.I=null}function ur(i,e){var t,o=i.I;if(o)for(t=[];o;o=o.I)t.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new Kn(e,i);else if(e instanceof Kn)e.target=e.target||i;else{var u=e;De(e=new Kn(o,i),u)}if(u=!0,t)for(var d=t.length-1;0<=d;d--){var g=e.g=t[d];u=Yr(g,o,!0,e)&&u}if(u=Yr(g=e.g=i,o,!0,e)&&u,u=Yr(g,o,!1,e)&&u,t)for(d=0;d<t.length;d++)u=Yr(g=e.g=t[d],o,!1,e)&&u}function Yr(i,e,t,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,d=0;d<e.length;++d){var g=e[d];if(g&&!g.ba&&g.capture==t){var D=g.listener,B=g.ha||g.src;g.ea&&Oe(i.i,g),u=!1!==D.call(B,o)&&u}}return u&&!o.defaultPrevented}ht(An,wt),An.prototype[we]=!0,An.prototype.removeEventListener=function(i,e,t,o){fe(this,i,e,t,o)},An.prototype.M=function(){if(An.X.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],o=0;o<t.length;o++)ve(t[o]);delete i.g[e],i.h--}}this.I=null},An.prototype.N=function(i,e,t,o){return this.i.add(String(i),e,!1,t,o)},An.prototype.O=function(i,e,t,o){return this.i.add(String(i),e,!0,t,o)};var bn=xe.JSON.stringify;function Zi(){var i=Oi;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var gr,_i=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new gs,i=>i.reset());class gs{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function ei(i){xe.setTimeout(()=>{throw i},0)}function vi(i,e){gr||function ti(){var i=xe.Promise.resolve(void 0);gr=function(){i.then(Ir)}}(),qr||(gr(),qr=!0),Oi.add(i,e)}var qr=!1,Oi=new class yi{constructor(){this.h=this.g=null}add(e,t){const o=_i.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}};function Ir(){for(var i;i=Zi();){try{i.h.call(i.g)}catch(t){ei(t)}var e=_i;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}qr=!1}function Fs(i,e){An.call(this),this.h=i||1,this.g=e||xe,this.j=fn(this.lb,this),this.l=Date.now()}function Wi(i){i.ca=!1,i.R&&(i.g.clearTimeout(i.R),i.R=null)}function ii(i,e,t){if("function"==typeof i)t&&(i=fn(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=fn(i.handleEvent,i)}return 2147483647<Number(e)?-1:xe.setTimeout(i,e||0)}function ss(i){i.g=ii(()=>{i.g=null,i.i&&(i.i=!1,ss(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}ht(Fs,An),(_e=Fs.prototype).ca=!1,_e.R=null,_e.lb=function(){if(this.ca){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-i):(this.R&&(this.g.clearTimeout(this.R),this.R=null),ur(this,"tick"),this.ca&&(Wi(this),this.start()))}},_e.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},_e.M=function(){Fs.X.M.call(this),Wi(this),delete this.g};class ms extends wt{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ss(this)}M(){super.M(),this.g&&(xe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Je(i){wt.call(this),this.h=i,this.g={}}ht(Je,wt);var Ke=[];function it(i,e,t,o){Array.isArray(t)||(t&&(Ke[0]=t.toString()),t=Ke);for(var u=0;u<t.length;u++){var d=Be(e,t[u],o||i.handleEvent,!1,i.h||i);if(!d)break;i.g[d.key]=d}}function Mt(i){ut(i.g,function(e,t){this.g.hasOwnProperty(t)&&de(e)},i),i.g={}}function Vt(){this.g=!0}function Fr(i,e,t,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Vr(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var o=t[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var d=u[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var g=1;g<u.length;g++)u[g]=""}}}return bn(t)}catch{return e}}(i,t)+(o?" "+o:"")})}Je.prototype.M=function(){Je.X.M.call(this),Mt(this)},Je.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Vt.prototype.Aa=function(){this.g=!1},Vt.prototype.info=function(){};var Ni={},Ji=null;function os(){return Ji=Ji||new An}function Xi(i){Kn.call(this,Ni.Pa,i)}function Ts(i){const e=os();ur(e,new Xi(e,i))}function Li(i,e){Kn.call(this,Ni.STAT_EVENT,i),this.stat=e}function Ei(i){const e=os();ur(e,new Li(e,i))}function as(i,e){Kn.call(this,Ni.Qa,i),this.size=e}function oo(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return xe.setTimeout(function(){i()},e)}Ni.Pa="serverreachability",ht(Xi,Kn),Ni.STAT_EVENT="statevent",ht(Li,Kn),Ni.Qa="timingevent",ht(as,Kn);var Ys={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},ao={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function $s(){}function Ro(){}$s.prototype.h=null;var us,mo={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function yo(){Kn.call(this,"d")}function uo(){Kn.call(this,"c")}function ls(){}function cs(i,e,t,o){this.l=i,this.j=e,this.m=t,this.U=o||1,this.S=new Je(this),this.O=Qs,this.T=new Fs(i=Ar?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new wi}function wi(){this.i=null,this.g="",this.h=!1}ht(yo,Kn),ht(uo,Kn),ht(ls,$s),ls.prototype.g=function(){return new XMLHttpRequest},ls.prototype.i=function(){return{}},us=new ls;var Qs=45e3,Gs={},di={};function ys(i,e,t){i.K=1,i.v=cr(Ct(e)),i.s=t,i.P=!0,Ui(i,null)}function Ui(i,e){i.F=Date.now(),_s(i),i.A=Ct(i.v);var t=i.A,o=i.U;Array.isArray(o)||(o=[String(o)]),Ls(t.i,"t",o),i.C=0,t=i.l.H,i.h=new wi,i.g=se(i.l,t?e:null,!i.s),0<i.N&&(i.L=new ms(fn(i.La,i,i.g),i.N)),it(i.S,i.g,"readystatechange",i.ib),e=i.H?It(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.da(i.A,i.u,i.s,e)):(i.u="GET",i.g.da(i.A,i.u,null,e)),Ts(1),function dn(i,e,t,o,u,d){i.info(function(){if(i.g)if(d)for(var g="",D=d.split("&"),B=0;B<D.length;B++){var z=D[B].split("=");if(1<z.length){var oe=z[0];z=z[1];var Ne=oe.split("_");g=2<=Ne.length&&"type"==Ne[1]?g+(oe+"=")+z+"&":g+(oe+"=redacted&")}}else g=null;else g=d;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+t+"\n"+g})}(i.j,i.u,i.A,i.m,i.U,i.s)}function lo(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Da}function Js(i,e,t){let u,o=!0;for(;!i.I&&i.C<t.length;){if(u=zs(i,t),u==di){4==e&&(i.o=4,Ei(14),o=!1),Fr(i.j,i.m,null,"[Incomplete Response]");break}if(u==Gs){i.o=4,Ei(15),Fr(i.j,i.m,t,"[Invalid Chunk]"),o=!1;break}Fr(i.j,i.m,u,null),Hi(i,u)}lo(i)&&u!=di&&u!=Gs&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,Ei(16),o=!1),i.i=i.i&&o,o?0<t.length&&!i.$&&(i.$=!0,(e=i.l).g==i&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Ci(e),e.K=!0,Ei(11))):(Fr(i.j,i.m,t,"[Invalid Chunked Response]"),bi(i),ki(i))}function zs(i,e){var t=i.C,o=e.indexOf("\n",t);return-1==o?di:(t=Number(e.substring(t,o)),isNaN(t)?Gs:(o+=1)+t>e.length?di:(e=e.substr(o,t),i.C=o+t,e))}function _s(i){i.V=Date.now()+i.O,vs(i,i.O)}function vs(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=oo(fn(i.gb,i),e)}function As(i){i.B&&(xe.clearTimeout(i.B),i.B=null)}function ki(i){0==i.l.G||i.I||$(i.l,i)}function bi(i){As(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,Wi(i.T),Mt(i.S),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function Hi(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||eo(t.h,i)))if(!i.J&&eo(t.h,i)&&3==t.G){try{var o=t.Fa.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<i.F))break e;ni(t),te(t)}Tr(t),Ei(18)}}else t.Ba=u[1],0<t.Ba-t.T&&37500>u[2]&&t.L&&0==t.A&&!t.v&&(t.v=oo(fn(t.cb,t),6e3));if(1>=Po(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else E(t,11)}else if((i.J||t.g==i)&&ni(t),!cn(e))for(u=t.Fa.g.parse(e),e=0;e<u.length;e++){let z=u[e];if(t.T=z[0],z=z[1],2==t.G)if("c"==z[0]){t.I=z[1],t.ka=z[2];const oe=z[3];null!=oe&&(t.ma=oe,t.j.info("VER="+t.ma));const Ne=z[4];null!=Ne&&(t.Ca=Ne,t.j.info("SVER="+t.Ca));const pt=z[5];null!=pt&&"number"==typeof pt&&0<pt&&(t.J=o=1.5*pt,t.j.info("backChannelRequestTimeoutMs_="+o)),o=t;const $t=i.g;if($t){const Yt=$t.g?$t.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yt){var d=o.h;d.g||-1==Yt.indexOf("spdy")&&-1==Yt.indexOf("quic")&&-1==Yt.indexOf("h2")||(d.j=d.l,d.g=new Set,d.h&&(oi(d,d.h),d.h=null))}if(o.D){const On=$t.g?$t.g.getResponseHeader("X-HTTP-Session-Id"):null;On&&(o.za=On,_n(o.F,o.D,On))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-i.F,t.j.info("Handshake RTT: "+t.P+"ms"));var g=i;if((o=t).sa=K(o,o.H?o.ka:null,o.V),g.J){Us(o.h,g);var D=g,B=o.J;B&&D.setTimeout(B),D.B&&(As(D),_s(D)),o.g=g}else jr(o);0<t.i.length&&vt(t)}else"stop"!=z[0]&&"close"!=z[0]||E(t,7);else 3==t.G&&("stop"==z[0]||"close"==z[0]?"stop"==z[0]?E(t,7):O(t):"noop"!=z[0]&&t.l&&t.l.wa(z),t.A=0)}Ts(4)}catch{}}function W(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Ft(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var t=function Y(i){if(i.oa&&"function"==typeof i.oa)return i.oa();if(!i.W||"function"!=typeof i.W){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(Ft(i)||"string"==typeof i){var e=[];i=i.length;for(var t=0;t<i;t++)e.push(t);return e}e=[],t=0;for(const o in i)e[t++]=o;return e}}}(i),o=function es(i){if(i.W&&"function"==typeof i.W)return i.W();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(Ft(i)){for(var e=[],t=i.length,o=0;o<t;o++)e.push(i[o]);return e}for(o in e=[],t=0,i)e[t++]=i[o];return e}(i),u=o.length,d=0;d<u;d++)e.call(void 0,o[d],t&&t[d],i)}(_e=cs.prototype).setTimeout=function(i){this.O=i},_e.ib=function(i){i=i.target;const e=this.L;e&&3==Is(i)?e.l():this.La(i)},_e.La=function(i){try{if(i==this.g)e:{const oe=Is(this.g);var e=this.g.Ea();const Ne=this.g.aa();if(!(3>oe)&&(3!=oe||Ar||this.g&&(this.h.h||this.g.fa()||Yo(this.g)))){this.I||4!=oe||7==e||Ts(8==e||0>=Ne?3:2),As(this);var t=this.g.aa();this.Y=t;t:if(lo(this)){var o=Yo(this.g);i="";var u=o.length,d=4==Is(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){bi(this),ki(this);var g="";break t}this.h.i=new xe.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:d&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,g=this.h.g}else g=this.g.fa();if(this.i=200==t,function lr(i,e,t,o,u,d,g){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+t+"\n"+d+" "+g})}(this.j,this.u,this.A,this.m,this.U,oe,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var D,B=this.g;if((D=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!cn(D)){var z=D;break t}}z=null}if(!(t=z)){this.i=!1,this.o=3,Ei(12),bi(this),ki(this);break e}Fr(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Hi(this,t)}this.P?(Js(this,oe,g),Ar&&this.i&&3==oe&&(it(this.S,this.T,"tick",this.hb),this.T.start())):(Fr(this.j,this.m,g,null),Hi(this,g)),4==oe&&bi(this),this.i&&!this.I&&(4==oe?$(this.l,this):(this.i=!1,_s(this)))}else 400==t&&0<g.indexOf("Unknown SID")?(this.o=3,Ei(12)):(this.o=0,Ei(13)),bi(this),ki(this)}}}catch{}},_e.hb=function(){if(this.g){var i=Is(this.g),e=this.g.fa();this.C<e.length&&(As(this),Js(this,i,e),this.i&&4!=i&&_s(this))}},_e.cancel=function(){this.I=!0,bi(this)},_e.gb=function(){this.B=null;const i=Date.now();0<=i-this.V?(function Mr(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Ts(3),Ei(17)),bi(this),this.o=2,ki(this)):vs(this,this.V-i)};var be=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ze(i,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof Ze){this.h=void 0!==e?e:i.h,en(this,i.j),this.s=i.s,this.g=i.g,In(this,i.m),this.l=i.l,e=i.i;var t=new Dn;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),hn(this,t),this.o=i.o}else i&&(t=String(i).match(be))?(this.h=!!e,en(this,t[1]||"",!0),this.s=Dr(t[2]||""),this.g=Dr(t[3]||"",!0),In(this,t[4]),this.l=Dr(t[5]||"",!0),hn(this,t[6]||"",!0),this.o=Dr(t[7]||"")):(this.h=!!e,this.i=new Dn(null,this.h))}function Ct(i){return new Ze(i)}function en(i,e,t){i.j=t?Dr(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function In(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function hn(i,e,t){e instanceof Dn?(i.i=e,function ws(i,e){e&&!i.j&&(zr(i),i.i=null,i.g.forEach(function(t,o){var u=o.toLowerCase();o!=u&&(Xs(this,o),Ls(this,u,t))},i)),i.j=e}(i.i,i.h)):(t||(e=$n(e,qi)),i.i=new Dn(e,i.h))}function _n(i,e,t){i.i.set(e,t)}function cr(i){return _n(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Dr(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function $n(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,si),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function si(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Ze.prototype.toString=function(){var i=[],e=this.j;e&&i.push($n(e,$r,!0),":");var t=this.g;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push($n(e,$r,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&i.push("/"),i.push($n(t,"/"==t.charAt(0)?xr:ts,!0))),(t=this.i.toString())&&i.push("?",t),(t=this.o)&&i.push("#",$n(t,Gr)),i.join("")};var $r=/[#\/\?@]/g,ts=/[#\?:]/g,xr=/[#\?]/g,qi=/[#\?@]/g,Gr=/#/g;function Dn(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function zr(i){i.g||(i.g=new Map,i.h=0,i.i&&function Fe(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var o=i[t].indexOf("="),u=null;if(0<=o){var d=i[t].substring(0,o);u=i[t].substring(o+1)}else d=i[t];e(d,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Xs(i,e){zr(i),e=Kr(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function Es(i,e){return zr(i),e=Kr(i,e),i.g.has(e)}function Ls(i,e,t){Xs(i,e),0<t.length&&(i.i=null,i.g.set(Kr(i,e),Wn(t)),i.h+=t.length)}function Kr(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function co(i){this.l=i||Gt,i=xe.PerformanceNavigationTiming?0<(i=xe.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(xe.g&&xe.g.Ga&&xe.g.Ga()&&xe.g.Ga().$b),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(_e=Dn.prototype).add=function(i,e){zr(this),this.i=null,i=Kr(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},_e.forEach=function(i,e){zr(this),this.g.forEach(function(t,o){t.forEach(function(u){i.call(e,u,o,this)},this)},this)},_e.oa=function(){zr(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let o=0;o<e.length;o++){const u=i[o];for(let d=0;d<u.length;d++)t.push(e[o])}return t},_e.W=function(i){zr(this);let e=[];if("string"==typeof i)Es(this,i)&&(e=e.concat(this.g.get(Kr(this,i))));else{i=Array.from(this.g.values());for(let t=0;t<i.length;t++)e=e.concat(i[t])}return e},_e.set=function(i,e){return zr(this),this.i=null,Es(this,i=Kr(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},_e.get=function(i,e){return i&&0<(i=this.W(i)).length?String(i[0]):e},_e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var o=e[t];const d=encodeURIComponent(String(o)),g=this.W(o);for(o=0;o<g.length;o++){var u=d;""!==g[o]&&(u+="="+encodeURIComponent(String(g[o]))),i.push(u)}}return this.i=i.join("&")};var Gt=10;function hr(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Po(i){return i.h?1:i.g?i.g.size:0}function eo(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function oi(i,e){i.g?i.g.add(e):i.h=e}function Us(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function ho(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.D);return e}return Wn(i.i)}function Ii(){}function Ho(){this.g=new Ii}function Zs(i,e,t){const o=t||"";try{W(i,function(u,d){let g=u;jt(u)&&(g=bn(u)),e.push(o+d+"="+encodeURIComponent(g))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function fo(i,e,t,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch{}}function L(i){this.l=i.ac||null,this.j=i.jb||!1}function k(i,e){An.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=M,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}co.prototype.cancel=function(){if(this.i=ho(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},Ii.prototype.stringify=function(i){return xe.JSON.stringify(i,void 0)},Ii.prototype.parse=function(i){return xe.JSON.parse(i,void 0)},ht(L,$s),L.prototype.g=function(){return new k(this.l,this.j)},L.prototype.i=function(i){return function(){return i}}({}),ht(k,An);var M=0;function ne(i){i.j.read().then(i.Ta.bind(i)).catch(i.ga.bind(i))}function gt(i){i.readyState=4,i.l=null,i.j=null,i.A=null,En(i)}function En(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(_e=k.prototype).open=function(i,e){if(this.readyState!=M)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,En(this)},_e.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||xe).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},_e.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,gt(this)),this.readyState=M},_e.Wa=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,En(this)),this.g&&(this.readyState=3,En(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof xe.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ne(this)}else i.text().then(this.Va.bind(this),this.ga.bind(this))},_e.Ta=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?gt(this):En(this),3==this.readyState&&ne(this)}},_e.Va=function(i){this.g&&(this.response=this.responseText=i,gt(this))},_e.Ua=function(i){this.g&&(this.response=i,gt(this))},_e.ga=function(){this.g&&gt(this)},_e.setRequestHeader=function(i,e){this.v.append(i,e)},_e.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},_e.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(k.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var Lr=xe.JSON.parse;function vr(i){An.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=bs,this.K=this.L=!1}ht(vr,An);var bs="",Ms=/^https?$/i,bo=["POST","PUT"];function No(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,$o(i),Io(i)}function $o(i){i.D||(i.D=!0,ur(i,"complete"),ur(i,"error"))}function ia(i){if(i.h&&typeof Ve<"u"&&(!i.C[1]||4!=Is(i)||2!=i.aa()))if(i.v&&4==Is(i))ii(i.Ha,0,i);else if(ur(i,"readystatechange"),4==Is(i)){i.h=!1;try{const D=i.aa();e:switch(D){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===D){var u=String(i.H).match(be)[1]||null;if(!u&&xe.self&&xe.self.location){var d=xe.self.location.protocol;u=d.substr(0,d.length-1)}o=!Ms.test(u?u.toLowerCase():"")}t=o}if(t)ur(i,"complete"),ur(i,"success");else{i.m=6;try{var g=2<Is(i)?i.g.statusText:""}catch{g=""}i.j=g+" ["+i.aa()+"]",$o(i)}}finally{Io(i)}}}function Io(i,e){if(i.g){pa(i);const t=i.g,o=i.C[0]?$e:null;i.g=null,i.C=null,e||ur(i,"ready");try{t.onreadystatechange=o}catch{}}}function pa(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(xe.clearTimeout(i.A),i.A=null)}function Is(i){return i.g?i.g.readyState:0}function Yo(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case bs:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function Co(i){let e="";return ut(i,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}function ga(i,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=Co(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):_n(i,e,t))}function S(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function G(i){this.Ca=0,this.i=[],this.j=new Vt,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=S("failFast",!1,i),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=S("baseRetryDelayMs",5e3,i),this.bb=S("retryDelaySeedMs",1e4,i),this.$a=S("forwardChannelMaxRetries",2,i),this.ta=S("forwardChannelRequestTimeoutMs",2e4,i),this.ra=i&&i.xmlHttpFactory||void 0,this.Da=i&&i.Zb||!1,this.J=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.I="",this.h=new co(i&&i.concurrentRequestLimit),this.Fa=new Ho,this.O=i&&i.fastHandshake||!1,this.N=i&&i.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=i&&i.Xb||!1,i&&i.Aa&&this.j.Aa(),i&&i.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&i&&i.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function O(i){if(Me(i),3==i.G){var e=i.U++,t=Ct(i.F);_n(t,"SID",i.I),_n(t,"RID",e),_n(t,"TYPE","terminate"),_r(i,t),(e=new cs(i,i.j,e,void 0)).K=2,e.v=cr(Ct(t)),t=!1,xe.navigator&&xe.navigator.sendBeacon&&(t=xe.navigator.sendBeacon(e.v.toString(),"")),!t&&xe.Image&&((new Image).src=e.v,t=!0),t||(e.g=se(e.l,null),e.g.da(e.v)),e.F=Date.now(),_s(e)}N(i)}function te(i){i.g&&(Ci(i),i.g.cancel(),i.g=null)}function Me(i){te(i),i.u&&(xe.clearTimeout(i.u),i.u=null),ni(i),i.h.cancel(),i.m&&("number"==typeof i.m&&xe.clearTimeout(i.m),i.m=null)}function vt(i){hr(i.h)||i.m||(i.m=!0,vi(i.Ja,i),i.C=0)}function Nn(i,e){var t;t=e?e.m:i.U++;const o=Ct(i.F);_n(o,"SID",i.I),_n(o,"RID",t),_n(o,"AID",i.T),_r(i,o),i.o&&i.s&&ga(o,i.o,i.s),t=new cs(i,i.j,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.i=e.D.concat(i.i)),e=Br(i,t,1e3),t.setTimeout(Math.round(.5*i.ta)+Math.round(.5*i.ta*Math.random())),oi(i.h,t),ys(t,o,e)}function _r(i,e){i.ia&&ut(i.ia,function(t,o){_n(e,o,t)}),i.l&&W({},function(t,o){_n(e,o,t)})}function Br(i,e,t){t=Math.min(i.i.length,t);var o=i.l?fn(i.l.Ra,i.l,i):null;e:{var u=i.i;let d=-1;for(;;){const g=["count="+t];-1==d?0<t?(d=u[0].h,g.push("ofs="+d)):d=0:g.push("ofs="+d);let D=!0;for(let B=0;B<t;B++){let z=u[B].h;const oe=u[B].g;if(z-=d,0>z)d=Math.max(0,u[B].h-100),D=!1;else try{Zs(oe,g,"req"+z+"_")}catch{o&&o(oe)}}if(D){o=g.join("&");break e}}}return i=i.i.splice(0,t),e.D=i,o}function jr(i){i.g||i.u||(i.Z=1,vi(i.Ia,i),i.A=0)}function Tr(i){return!(i.g||i.u||3<=i.A||(i.Z++,i.u=oo(fn(i.Ia,i),_(i,i.A)),i.A++,0))}function Ci(i){null!=i.B&&(xe.clearTimeout(i.B),i.B=null)}function Qr(i){i.g=new cs(i,i.j,"rpc",i.Z),null===i.o&&(i.g.H=i.s),i.g.N=0;var e=Ct(i.sa);_n(e,"RID","rpc"),_n(e,"SID",i.I),_n(e,"CI",i.L?"0":"1"),_n(e,"AID",i.T),_n(e,"TYPE","xmlhttp"),_r(i,e),i.o&&i.s&&ga(e,i.o,i.s),i.J&&i.g.setTimeout(i.J);var t=i.g;i=i.ka,t.K=1,t.v=cr(Ct(e)),t.s=null,t.P=!0,Ui(t,i)}function ni(i){null!=i.v&&(xe.clearTimeout(i.v),i.v=null)}function $(i,e){var t=null;if(i.g==e){ni(i),Ci(i),i.g=null;var o=2}else{if(!eo(i.h,e))return;t=e.D,Us(i.h,e),o=1}if(0!=i.G)if(i.pa=e.Y,e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.F;var u=i.C;ur(o=os(),new as(o,t,e,u)),vt(i)}else jr(i);else if(3==(u=e.o)||0==u&&0<i.pa||!(1==o&&function Rt(i,e){return!(Po(i.h)>=i.h.j-(i.m?1:0)||(i.m?(i.i=e.D.concat(i.i),0):1==i.G||2==i.G||i.C>=(i.Za?0:i.$a)||(i.m=oo(fn(i.Ja,i,e),_(i,i.C)),i.C++,0)))}(i,e)||2==o&&Tr(i)))switch(t&&0<t.length&&(e=i.h,e.i=e.i.concat(t)),u){case 1:E(i,5);break;case 4:E(i,10);break;case 3:E(i,6);break;default:E(i,2)}}function _(i,e){let t=i.Xa+Math.floor(Math.random()*i.bb);return i.l||(t*=2),t*e}function E(i,e){if(i.j.info("Error code "+e),2==e){var t=null;i.l&&(t=null);var o=fn(i.kb,i);t||(t=new Ze("//www.google.com/images/cleardot.gif"),xe.location&&"http"==xe.location.protocol||en(t,"https"),cr(t)),function Oo(i,e){const t=new Vt;if(xe.Image){const o=new Image;o.onload=Dt(fo,t,o,"TestLoadImage: loaded",!0,e),o.onerror=Dt(fo,t,o,"TestLoadImage: error",!1,e),o.onabort=Dt(fo,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=Dt(fo,t,o,"TestLoadImage: timeout",!1,e),xe.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(t.toString(),o)}else Ei(2);i.G=0,i.l&&i.l.va(e),N(i),Me(i)}function N(i){if(i.G=0,i.la=[],i.l){const e=ho(i.h);(0!=e.length||0!=i.i.length)&&(nr(i.la,e),nr(i.la,i.i),i.h.i.length=0,Wn(i.i),i.i.length=0),i.l.ua()}}function K(i,e,t){var o=t instanceof Ze?Ct(t):new Ze(t,void 0);if(""!=o.g)e&&(o.g=e+"."+o.g),In(o,o.m);else{var u=xe.location;o=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var d=new Ze(null,void 0);o&&en(d,o),e&&(d.g=e),u&&In(d,u),t&&(d.l=t),o=d}return e=i.za,(t=i.D)&&e&&_n(o,t,e),_n(o,"VER",i.ma),_r(i,o),o}function se(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new vr(t&&i.Da&&!i.ra?new L({jb:!0}):i.ra)).Ka(i.H),e}function Le(){}function je(){if(pr&&!(10<=Number(Xn)))throw Error("Environmental error: no available transport.")}function Xe(i,e){An.call(this),this.g=new G(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.S=i,(i=e&&e.Yb)&&!cn(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!cn(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Pn(this)}function Lt(i){yo.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function Mn(){uo.call(this),this.status=1}function Pn(i){this.g=i}(_e=vr.prototype).Ka=function(i){this.L=i},_e.da=function(i,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():us.g(),this.C=function Ss(i){return i.h||(i.h=i.i())}(this.u?this.u:us),this.g.onreadystatechange=fn(this.Ha,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(d){return void No(this,d)}if(i=t||"",t=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var u in o)t.set(u,o[u]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const d of o.keys())t.set(d,o.get(d))}o=Array.from(t.keys()).find(d=>"content-type"==d.toLowerCase()),u=xe.FormData&&i instanceof xe.FormData,!(0<=sr(bo,e))||o||u||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[d,g]of t)this.g.setRequestHeader(d,g);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{pa(this),0<this.B&&((this.K=function po(i){return pr&&function yt(){return function Ln(i){var e=Ue;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=rr(String(mn)).split("."),t=rr("9").split("."),o=Math.max(e.length,t.length);for(let g=0;0==i&&g<o;g++){var u=e[g]||"",d=t[g]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],0==u[0].length&&0==d[0].length)break;i=br(0==u[1].length?0:parseInt(u[1],10),0==d[1].length?0:parseInt(d[1],10))||br(0==u[2].length,0==d[2].length)||br(u[2],d[2]),u=u[3],d=d[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=fn(this.qa,this)):this.A=ii(this.qa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(d){No(this,d)}},_e.qa=function(){typeof Ve<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ur(this,"timeout"),this.abort(8))},_e.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,ur(this,"complete"),ur(this,"abort"),Io(this))},_e.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Io(this,!0)),vr.X.M.call(this)},_e.Ha=function(){this.s||(this.F||this.v||this.l?ia(this):this.fb())},_e.fb=function(){ia(this)},_e.aa=function(){try{return 2<Is(this)?this.g.status:-1}catch{return-1}},_e.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},_e.Sa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),Lr(e)}},_e.Ea=function(){return this.m},_e.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(_e=G.prototype).ma=8,_e.G=1,_e.Ja=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.U=Math.floor(1e5*Math.random()),i=this.U++;const u=new cs(this,this.j,i,void 0);let d=this.s;if(this.S&&(d?(d=It(d),De(d,this.S)):d=this.S),null!==this.o||this.N||(u.H=d,d=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var o=this.i[t];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Br(this,u,e),_n(t=Ct(this.F),"RID",i),_n(t,"CVER",22),this.D&&_n(t,"X-HTTP-Session-Id",this.D),_r(this,t),d&&(this.N?e="headers="+encodeURIComponent(String(Co(d)))+"&"+e:this.o&&ga(t,this.o,d)),oi(this.h,u),this.Ya&&_n(t,"TYPE","init"),this.O?(_n(t,"$req",e),_n(t,"SID","null"),u.Z=!0,ys(u,t,null)):ys(u,t,e),this.G=2}}else 3==this.G&&(i?Nn(this,i):0==this.i.length||hr(this.h)||Nn(this))},_e.Ia=function(){if(this.u=null,Qr(this),this.$&&!(this.K||null==this.g||0>=this.P)){var i=2*this.P;this.j.info("BP detection timer enabled: "+i),this.B=oo(fn(this.eb,this),i)}},_e.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Ei(10),te(this),Qr(this))},_e.cb=function(){null!=this.v&&(this.v=null,te(this),Tr(this),Ei(19))},_e.kb=function(i){i?(this.j.info("Successfully pinged google.com"),Ei(2)):(this.j.info("Failed to ping google.com"),Ei(1))},(_e=Le.prototype).xa=function(){},_e.wa=function(){},_e.va=function(){},_e.ua=function(){},_e.Ra=function(){},je.prototype.g=function(i,e){return new Xe(i,e)},ht(Xe,An),Xe.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;Ei(0),i.V=e,i.ia=t||{},i.L=i.Y,i.F=K(i,null,i.V),vt(i)},Xe.prototype.close=function(){O(this.g)},Xe.prototype.u=function(i){var e=this.g;if("string"==typeof i){var t={};t.__data__=i,i=t}else this.v&&((t={}).__data__=bn(i),i=t);e.i.push(new class{constructor(i,e){this.h=i,this.g=e}}(e.ab++,i)),3==e.G&&vt(e)},Xe.prototype.M=function(){this.g.l=null,delete this.j,O(this.g),delete this.g,Xe.X.M.call(this)},ht(Lt,yo),ht(Mn,uo),ht(Pn,Le),Pn.prototype.xa=function(){ur(this.g,"a")},Pn.prototype.wa=function(i){ur(this.g,new Lt(i))},Pn.prototype.va=function(i){ur(this.g,new Mn(i))},Pn.prototype.ua=function(){ur(this.g,"b")},je.prototype.createWebChannel=je.prototype.g,Xe.prototype.send=Xe.prototype.u,Xe.prototype.open=Xe.prototype.m,Xe.prototype.close=Xe.prototype.close,Ys.NO_ERROR=0,Ys.TIMEOUT=8,Ys.HTTP_ERROR=6,ao.COMPLETE="complete",Ro.EventType=mo,mo.OPEN="a",mo.CLOSE="b",mo.ERROR="c",mo.MESSAGE="d",An.prototype.listen=An.prototype.N,vr.prototype.listenOnce=vr.prototype.O,vr.prototype.getLastError=vr.prototype.Oa,vr.prototype.getLastErrorCode=vr.prototype.Ea,vr.prototype.getStatus=vr.prototype.aa,vr.prototype.getResponseJson=vr.prototype.Sa,vr.prototype.getResponseText=vr.prototype.fa,vr.prototype.send=vr.prototype.da,vr.prototype.setWithCredentials=vr.prototype.Ka;var Rr=rt.createWebChannelTransport=function(){return new je},Cr=rt.getStatEventTarget=function(){return os()},Zn=rt.ErrorCode=Ys,ar=rt.EventType=ao,Jr=rt.Event=Ni,Xr=rt.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Ki=rt.FetchXmlHttpFactory=L,ns=rt.WebChannel=Ro,Ur=rt.XhrIo=vr;const sa="@firebase/firestore";class Zr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zr.UNAUTHENTICATED=new Zr(null),Zr.GOOGLE_CREDENTIALS=new Zr("google-credentials-uid"),Zr.FIRST_PARTY=new Zr("first-party-uid"),Zr.MOCK_USER=new Zr("mock-user");let Vi="9.12.1";const Yi=new _t.Yd("@firebase/firestore");function Ws(){return Yi.logLevel}function Ht(i,...e){if(Yi.logLevel<=_t.in.DEBUG){const t=e.map(oa);Yi.debug(`Firestore (${Vi}): ${i}`,...t)}}function ui(i,...e){if(Yi.logLevel<=_t.in.ERROR){const t=e.map(oa);Yi.error(`Firestore (${Vi}): ${i}`,...t)}}function li(i,...e){if(Yi.logLevel<=_t.in.WARN){const t=e.map(oa);Yi.warn(`Firestore (${Vi}): ${i}`,...t)}}function oa(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function xn(i="Unexpected state"){const e=`FIRESTORE (${Vi}) INTERNAL ASSERTION FAILED: `+i;throw ui(e),new Error(e)}function Wt(i,e){i||xn()}function Nt(i,e){return i}const at={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class kt extends Re.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Wr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class $i{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xs{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Zr.UNAUTHENTICATED))}shutdown(){}}class Di{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class aa{constructor(e){this.t=e,this.currentUser=Zr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let u=this.i;const d=z=>this.i!==u?(u=this.i,t(z)):Promise.resolve();let g=new Wr;this.o=()=>{this.i++,this.currentUser=this.u(),g.resolve(),g=new Wr,e.enqueueRetryable(()=>d(this.currentUser))};const D=()=>{const z=g;e.enqueueRetryable((0,ge.Z)(function*(){yield z.promise,yield d(o.currentUser)}))},B=z=>{Ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=z,this.auth.addAuthTokenListener(this.o),D()};this.t.onInit(z=>B(z)),setTimeout(()=>{if(!this.auth){const z=this.t.getImmediate({optional:!0});z?B(z):(Ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),g.resolve(),g=new Wr)}},0),D()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(Ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Wt("string"==typeof o.accessToken),new $i(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Wt(null===e||"string"==typeof e),new Zr(e)}}class Go{constructor(e,t,o,u){this.h=e,this.l=t,this.m=o,this.g=u,this.type="FirstParty",this.user=Zr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Wt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Ti{constructor(e,t,o,u){this.h=e,this.l=t,this.m=o,this.g=u}getToken(){return Promise.resolve(new Go(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Zr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zo{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Cs{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const o=d=>{null!=d.error&&Ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const g=d.token!==this.A;return this.A=d.token,Ht("FirebaseAppCheckTokenProvider",`Received ${g?"new":"existing"} token.`),g?t(d.token):Promise.resolve()};this.o=d=>{e.enqueueRetryable(()=>o(d))};const u=d=>{Ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.appCheck.addTokenListener(this.o)};this.T.onInit(d=>u(d)),setTimeout(()=>{if(!this.appCheck){const d=this.T.getImmediate({optional:!0});d?u(d):Ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Wt("string"==typeof t.token),this.A=t.token,new zo(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ko(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<i;o++)t[o]=Math.floor(256*Math.random());return t}class ja{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const u=ko(40);for(let d=0;d<u.length;++d)o.length<20&&u[d]<t&&(o+=e.charAt(u[d]%e.length))}return o}}function Gn(i,e){return i<e?-1:i>e?1:0}function Fo(i,e,t){return i.length===e.length&&i.every((o,u)=>t(o,e[u]))}function iu(i){return i+"\0"}class ai{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new kt(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new kt(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new kt(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new kt(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ai.fromMillis(Date.now())}static fromDate(e){return ai.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new ai(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Gn(this.nanoseconds,e.nanoseconds):Gn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class er{constructor(e){this.timestamp=e}static fromTimestamp(e){return new er(e)}static min(){return new er(new ai(0,0))}static max(){return new er(new ai(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ds{constructor(e,t,o){void 0===t?t=0:t>e.length&&xn(),void 0===o?o=e.length-t:o>e.length-t&&xn(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===ds.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ds?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let u=0;u<o;u++){const d=e.get(u),g=t.get(u);if(d<g)return-1;if(d>g)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Pr extends ds{construct(e,t,o){return new Pr(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new kt(at.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(u=>u.length>0))}return new Pr(t)}static emptyPath(){return new Pr([])}}const Jo=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Si extends ds{construct(e,t,o){return new Si(e,t,o)}static isValidIdentifier(e){return Jo.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Si.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Si(["__name__"])}static fromServerFormat(e){const t=[];let o="",u=0;const d=()=>{if(0===o.length)throw new kt(at.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let g=!1;for(;u<e.length;){const D=e[u];if("\\"===D){if(u+1===e.length)throw new kt(at.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const B=e[u+1];if("\\"!==B&&"."!==B&&"`"!==B)throw new kt(at.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=B,u+=2}else"`"===D?(g=!g,u++):"."!==D||g?(o+=D,u++):(d(),u++)}if(d(),g)throw new kt(at.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Si(t)}static emptyPath(){return new Si([])}}class wn{constructor(e){this.path=e}static fromPath(e){return new wn(Pr.fromString(e))}static fromName(e){return new wn(Pr.fromString(e).popFirst(5))}static empty(){return new wn(Pr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Pr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Pr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new wn(new Pr(e.slice()))}}class Zo{constructor(e,t,o,u){this.indexId=e,this.collectionGroup=t,this.fields=o,this.indexState=u}}function to(i){return i.fields.find(e=>2===e.kind)}function Wo(i){return i.fields.filter(e=>2!==e.kind)}Zo.UNKNOWN_ID=-1;class wu{constructor(e,t){this.fieldPath=e,this.kind=t}}class ua{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new ua(0,no.min())}}function ou(i,e){const t=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=er.fromTimestamp(1e9===o?new ai(t+1,0):new ai(t,o));return new no(u,wn.empty(),e)}function Nl(i){return new no(i.readTime,i.key,-1)}class no{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new no(er.min(),wn.empty(),-1)}static max(){return new no(er.max(),wn.empty(),-1)}}function bu(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=wn.comparator(i.documentKey,e.documentKey),0!==t?t:Gn(i.largestBatchId,e.largestBatchId))}const la="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kl{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ta(i){return hs.apply(this,arguments)}function hs(){return hs=(0,ge.Z)(function*(i){if(i.code!==at.FAILED_PRECONDITION||i.message!==la)throw i;Ht("LocalStore","Unexpectedly lost primary lease")}),hs.apply(this,arguments)}class mt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&xn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new mt((o,u)=>{this.nextCallback=d=>{this.wrapSuccess(e,d).next(o,u)},this.catchCallback=d=>{this.wrapFailure(t,d).next(o,u)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof mt?t:mt.resolve(t)}catch(t){return mt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):mt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):mt.reject(t)}static resolve(e){return new mt((t,o)=>{t(e)})}static reject(e){return new mt((t,o)=>{o(e)})}static waitFor(e){return new mt((t,o)=>{let u=0,d=0,g=!1;e.forEach(D=>{++u,D.next(()=>{++d,g&&d===u&&t()},B=>o(B))}),g=!0,d===u&&t()})}static or(e){let t=mt.resolve(!1);for(const o of e)t=t.next(u=>u?mt.resolve(u):o());return t}static forEach(e,t){const o=[];return e.forEach((u,d)=>{o.push(t.call(this,u,d))}),this.waitFor(o)}static mapArray(e,t){return new mt((o,u)=>{const d=e.length,g=new Array(d);let D=0;for(let B=0;B<d;B++){const z=B;t(e[z]).next(oe=>{g[z]=oe,++D,D===d&&o(g)},oe=>u(oe))}})}static doWhile(e,t){return new mt((o,u)=>{const d=()=>{!0===e()?t().next(()=>{d()},u):o()};d()})}}class ma{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Wr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Rs(e,t.error)):this.P.resolve()},this.transaction.onerror=o=>{const u=$a(o.target.error);this.P.reject(new Rs(e,u))}}static open(e,t,o,u){try{return new ma(t,e.transaction(u,o))}catch(d){throw new Rs(t,d)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Ht("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Ha(t)}}class To{constructor(e,t,o){this.name=e,this.version=t,this.S=o,12.2===To.D((0,Re.z$)())&&ui("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ht("SimpleDb","Removing database:",e),_o(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,Re.hl)())return!1;if(To.N())return!0;const e=(0,Re.z$)(),t=To.D(e),o=0<t&&t<10,u=To.k(e),d=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||d)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static k(e){const t=e.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)}F(e){var t=this;return(0,ge.Z)(function*(){return t.db||(Ht("SimpleDb","Opening database:",t.name),t.db=yield new Promise((o,u)=>{const d=indexedDB.open(t.name,t.version);d.onsuccess=g=>{o(g.target.result)},d.onblocked=()=>{u(new Rs(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},d.onerror=g=>{const D=g.target.error;u("VersionError"===D.name?new kt(at.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===D.name?new kt(at.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+D):new Rs(e,D))},d.onupgradeneeded=g=>{Ht("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',g.oldVersion),t.S.$(g.target.result,d.transaction,g.oldVersion,t.version).next(()=>{Ht("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=o=>t.B(o)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,o,u){var d=this;return(0,ge.Z)(function*(){const g="readonly"===t;let D=0;for(;;){++D;try{d.db=yield d.F(e);const B=ma.open(d.db,e,g?"readonly":"readwrite",o),z=u(B).next(oe=>(B.V(),oe)).catch(oe=>(B.abort(oe),mt.reject(oe))).toPromise();return z.catch(()=>{}),yield B.v,z}catch(B){const z=B,oe="FirebaseError"!==z.name&&D<3;if(Ht("SimpleDb","Transaction failed with error:",z.message,"Retrying:",oe),d.close(),!oe)return Promise.reject(z)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Na{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return _o(this.U.delete())}}class Rs extends kt{constructor(e,t){super(at.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Vs(i){return"IndexedDbTransactionError"===i.name}class Ha{constructor(e){this.store=e}put(e,t){let o;return void 0!==t?(Ht("SimpleDb","PUT",this.store.name,e,t),o=this.store.put(t,e)):(Ht("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),_o(o)}add(e){return Ht("SimpleDb","ADD",this.store.name,e,e),_o(this.store.add(e))}get(e){return _o(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ht("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ht("SimpleDb","DELETE",this.store.name,e),_o(this.store.delete(e))}count(){return Ht("SimpleDb","COUNT",this.store.name),_o(this.store.count())}W(e,t){const o=this.options(e,t);if(o.index||"function"!=typeof this.store.getAll){const u=this.cursor(o),d=[];return this.H(u,(g,D)=>{d.push(D)}).next(()=>d)}{const u=this.store.getAll(o.range);return new mt((d,g)=>{u.onerror=D=>{g(D.target.error)},u.onsuccess=D=>{d(D.target.result)}})}}J(e,t){const o=this.store.getAll(e,null===t?void 0:t);return new mt((u,d)=>{o.onerror=g=>{d(g.target.error)},o.onsuccess=g=>{u(g.target.result)}})}Y(e,t){Ht("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,t);o.X=!1;const u=this.cursor(o);return this.H(u,(d,g,D)=>D.delete())}Z(e,t){let o;t?o=e:(o={},t=e);const u=this.cursor(o);return this.H(u,t)}tt(e){const t=this.cursor({});return new mt((o,u)=>{t.onerror=d=>{const g=$a(d.target.error);u(g)},t.onsuccess=d=>{const g=d.target.result;g?e(g.primaryKey,g.value).next(D=>{D?g.continue():o()}):o()}})}H(e,t){const o=[];return new mt((u,d)=>{e.onerror=g=>{d(g.target.error)},e.onsuccess=g=>{const D=g.target.result;if(!D)return void u();const B=new Na(D),z=t(D.primaryKey,D.value,B);if(z instanceof mt){const oe=z.catch(Ne=>(B.done(),mt.reject(Ne)));o.push(oe)}B.isDone?u():null===B.G?D.continue():D.continue(B.G)}}).next(()=>mt.waitFor(o))}options(e,t){let o;return void 0!==e&&("string"==typeof e?o=e:t=e),{index:o,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const o=this.store.index(e.index);return e.X?o.openKeyCursor(e.range,t):o.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function _o(i){return new mt((e,t)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const u=$a(o.target.error);t(u)}})}let ca=!1;function $a(i){const e=To.D((0,Re.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const o=new kt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ca||(ca=!0,setTimeout(()=>{throw o},0)),o}}return i}class Iu{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Ht("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ge.Z)(function*(){t.task=null;try{Ht("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(o){Vs(o)?Ht("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield Ta(o)}yield t.nt(6e4)}))}}class Ju{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,ge.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>t.it(o,e))})()}it(e,t){const o=new Set;let u=t,d=!0;return mt.doWhile(()=>!0===d&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(g=>{if(null!==g&&!o.has(g))return Ht("IndexBackiller",`Processing collection: ${g}`),this.rt(e,g,u).next(D=>{u-=D,o.add(g)});d=!1})).next(()=>t-u)}rt(e,t,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(u=>this.localStore.localDocuments.getNextDocuments(e,t,u,o).next(d=>{const g=d.changes;return this.localStore.indexManager.updateIndexEntries(e,g).next(()=>this.ot(u,d)).next(D=>(Ht("IndexBackiller",`Updating offset: ${D}`),this.localStore.indexManager.updateCollectionGroup(e,t,D))).next(()=>g.size)}))}ot(e,t){let o=e;return t.changes.forEach((u,d)=>{const g=Nl(d);bu(g,o)>0&&(o=g)}),new no(o.readTime,o.documentKey,Math.max(t.batchId,e.largestBatchId))}}class fs{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=o=>this.ut(o),this.ct=o=>t.writeSequenceNumber(o))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function au(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Lo(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function ro(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}fs.at=-1;class Gi{constructor(e,t){this.comparator=e,this.root=t||b.EMPTY}insert(e,t){return new Gi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,b.BLACK,null,null))}remove(e){return new Gi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,b.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return t+o.left.size;u<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new w(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new w(this.root,e,this.comparator,!1)}getReverseIterator(){return new w(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new w(this.root,e,this.comparator,!0)}}class w{constructor(e,t,o,u){this.isReverse=u,this.nodeStack=[];let d=1;for(;!e.isEmpty();)if(d=t?o(e.key,t):1,t&&u&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(0===d){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class b{constructor(e,t,o,u,d){this.key=e,this.value=t,this.color=o??b.RED,this.left=u??b.EMPTY,this.right=d??b.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,u,d){return new b(e??this.key,t??this.value,o??this.color,u??this.left,d??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let u=this;const d=o(e,u.key);return u=d<0?u.copy(null,null,null,u.left.insert(e,t,o),null):0===d?u.copy(null,t,null,null,null):u.copy(null,null,null,null,u.right.insert(e,t,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return b.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,u=this;if(t(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,t),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===t(e,u.key)){if(u.right.isEmpty())return b.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,t))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,b.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,b.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xn();const e=this.left.check();if(e!==this.right.check())throw xn();return e+(this.isRed()?0:1)}}b.EMPTY=null,b.RED=!0,b.BLACK=!1,b.EMPTY=new class{constructor(){this.size=0}get key(){throw xn()}get value(){throw xn()}get color(){throw xn()}get left(){throw xn()}get right(){throw xn()}copy(i,e,t,o,u){return this}insert(i,e,t){return new b(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class y{constructor(e){this.comparator=e,this.data=new Gi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;t(u.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new A(this.data.getIterator())}getIteratorFrom(e){return new A(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof y)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const u=t.getNext().key,d=o.getNext().key;if(0!==this.comparator(u,d))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new y(this.comparator);return t.data=e,t}}class A{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function F(i){return i.hasNext()?i.getNext():void 0}class X{constructor(e){this.fields=e,e.sort(Si.comparator)}static empty(){return new X([])}unionWith(e){let t=new y(Si.comparator);for(const o of this.fields)t=t.add(o);for(const o of e)t=t.add(o);return new X(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Fo(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class Ie{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Ie(t)}static fromUint8Array(e){const t=function(o){let u="";for(let d=0;d<o.length;++d)u+=String.fromCharCode(o[d]);return u}(e);return new Ie(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Gn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ie.EMPTY_BYTE_STRING=new Ie("");const At=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function an(i){if(Wt(!!i),"string"==typeof i){let e=0;const t=At.exec(i);if(Wt(!!t),t[1]){let u=t[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Un(i.seconds),nanos:Un(i.nanos)}}function Un(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Tn(i){return"string"==typeof i?Ie.fromBase64String(i):Ie.fromUint8Array(i)}function Or(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Ps(i){const e=i.mapValue.fields.__previous_value__;return Or(e)?Ps(e):e}function Os(i){const e=an(i.mapValue.fields.__local_write_time__.timestampValue);return new ai(e.seconds,e.nanos)}class Xo{constructor(e,t,o,u,d,g,D,B){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=u,this.ssl=d,this.forceLongPolling=g,this.autoDetectLongPolling=D,this.useFetchStreams=B}}class Ai{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ai("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ai&&e.projectId===this.projectId&&e.database===this.database}}function Sa(i){return null==i}function Bs(i){return 0===i&&1/i==-1/0}function ya(i){return"number"==typeof i&&Number.isInteger(i)&&!Bs(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const Uo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},uu={nullValue:"NULL_VALUE"};function Bi(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Or(i)?4:tr(i)?9007199254740991:10:xn()}function Vo(i,e){if(i===e)return!0;const t=Bi(i);if(t!==Bi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Os(i).isEqual(Os(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const d=an(o.timestampValue),g=an(u.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,Tn(i.bytesValue).isEqual(Tn(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return Un(o.geoPointValue.latitude)===Un(u.geoPointValue.latitude)&&Un(o.geoPointValue.longitude)===Un(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Un(o.integerValue)===Un(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const d=Un(o.doubleValue),g=Un(u.doubleValue);return d===g?Bs(d)===Bs(g):isNaN(d)&&isNaN(g)}return!1}(i,e);case 9:return Fo(i.arrayValue.values||[],e.arrayValue.values||[],Vo);case 10:return function(o,u){const d=o.mapValue.fields||{},g=u.mapValue.fields||{};if(au(d)!==au(g))return!1;for(const D in d)if(d.hasOwnProperty(D)&&(void 0===g[D]||!Vo(d[D],g[D])))return!1;return!0}(i,e);default:return xn()}var u}function Ga(i,e){return void 0!==(i.values||[]).find(t=>Vo(t,e))}function R(i,e){if(i===e)return 0;const t=Bi(i),o=Bi(e);if(t!==o)return Gn(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return Gn(i.booleanValue,e.booleanValue);case 2:return function(u,d){const g=Un(u.integerValue||u.doubleValue),D=Un(d.integerValue||d.doubleValue);return g<D?-1:g>D?1:g===D?0:isNaN(g)?isNaN(D)?0:-1:1}(i,e);case 3:return V(i.timestampValue,e.timestampValue);case 4:return V(Os(i),Os(e));case 5:return Gn(i.stringValue,e.stringValue);case 6:return function(u,d){const g=Tn(u),D=Tn(d);return g.compareTo(D)}(i.bytesValue,e.bytesValue);case 7:return function(u,d){const g=u.split("/"),D=d.split("/");for(let B=0;B<g.length&&B<D.length;B++){const z=Gn(g[B],D[B]);if(0!==z)return z}return Gn(g.length,D.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,d){const g=Gn(Un(u.latitude),Un(d.latitude));return 0!==g?g:Gn(Un(u.longitude),Un(d.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,d){const g=u.values||[],D=d.values||[];for(let B=0;B<g.length&&B<D.length;++B){const z=R(g[B],D[B]);if(z)return z}return Gn(g.length,D.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,d){if(u===Uo.mapValue&&d===Uo.mapValue)return 0;if(u===Uo.mapValue)return 1;if(d===Uo.mapValue)return-1;const g=u.fields||{},D=Object.keys(g),B=d.fields||{},z=Object.keys(B);D.sort(),z.sort();for(let oe=0;oe<D.length&&oe<z.length;++oe){const Ne=Gn(D[oe],z[oe]);if(0!==Ne)return Ne;const pt=R(g[D[oe]],B[z[oe]]);if(0!==pt)return pt}return Gn(D.length,z.length)}(i.mapValue,e.mapValue);default:throw xn()}}function V(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Gn(i,e);const t=an(i),o=an(e),u=Gn(t.seconds,o.seconds);return 0!==u?u:Gn(t.nanos,o.nanos)}function ee(i){return Ce(i)}function Ce(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const u=an(o);return`time(${u.seconds},${u.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Tn(i.bytesValue).toBase64():"referenceValue"in i?wn.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let u="[",d=!0;for(const g of o.values||[])d?d=!1:u+=",",u+=Ce(g);return u+"]"}(i.arrayValue):"mapValue"in i?function(o){const u=Object.keys(o.fields||{}).sort();let d="{",g=!0;for(const D of u)g?g=!1:d+=",",d+=`${D}:${Ce(o.fields[D])}`;return d+"}"}(i.mapValue):xn();var e}function nt(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function bt(i){return!!i&&"integerValue"in i}function qt(i){return!!i&&"arrayValue"in i}function Cn(i){return!!i&&"nullValue"in i}function Qn(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Er(i){return!!i&&"mapValue"in i}function wr(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Lo(i.mapValue.fields,(t,o)=>e.mapValue.fields[t]=wr(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=wr(i.arrayValue.values[t]);return e}return Object.assign({},i)}function tr(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function Ns(i){return"nullValue"in i?uu:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?nt(Ai.empty(),wn.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:xn()}function vo(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?nt(Ai.empty(),wn.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?Uo:xn()}function za(i,e){const t=R(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function Za(i,e){const t=R(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class Mi{constructor(e){this.value=e}static empty(){return new Mi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!Er(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=wr(t)}setAll(e){let t=Si.emptyPath(),o={},u=[];e.forEach((g,D)=>{if(!t.isImmediateParentOf(D)){const B=this.getFieldsMap(t);this.applyChanges(B,o,u),o={},u=[],t=D.popLast()}g?o[D.lastSegment()]=wr(g):u.push(D.lastSegment())});const d=this.getFieldsMap(t);this.applyChanges(d,o,u)}delete(e){const t=this.field(e.popLast());Er(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Vo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=t.mapValue.fields[e.get(o)];Er(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=u),t=u}return t.mapValue.fields}applyChanges(e,t,o){Lo(t,(u,d)=>e[u]=d);for(const u of o)delete e[u]}clone(){return new Mi(wr(this.value))}}function Aa(i){const e=[];return Lo(i.fields,(t,o)=>{const u=new Si([t]);if(Er(o)){const d=Aa(o.mapValue).fields;if(0===d.length)e.push(u);else for(const g of d)e.push(u.child(g))}else e.push(u)}),new X(e)}class xi{constructor(e,t,o,u,d,g){this.key=e,this.documentType=t,this.version=o,this.readTime=u,this.data=d,this.documentState=g}static newInvalidDocument(e){return new xi(e,0,er.min(),er.min(),Mi.empty(),0)}static newFoundDocument(e,t,o){return new xi(e,1,t,er.min(),o,0)}static newNoDocument(e,t){return new xi(e,2,t,er.min(),Mi.empty(),0)}static newUnknownDocument(e,t){return new xi(e,3,t,er.min(),Mi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=er.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof xi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xi(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Cu{constructor(e,t=null,o=[],u=[],d=null,g=null,D=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=u,this.limit=d,this.startAt=g,this.endAt=D,this.ht=null}}function _a(i,e=null,t=[],o=[],u=null,d=null,g=null){return new Cu(i,e,t,o,u,d,g)}function So(i){const e=Nt(i);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>{return(u=o).field.canonicalString()+u.op.toString()+ee(u.value);var u}).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),Sa(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>ee(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>ee(o)).join(",")),e.ht=t}return e.ht}function Xu(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let u=0;u<i.orderBy.length;u++)if(!Jh(i.orderBy[u],e.orderBy[u]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let u=0;u<i.filters.length;u++)if((t=i.filters[u]).op!==(o=e.filters[u]).op||!t.field.isEqual(o.field)||!Vo(t.value,o.value))return!1;var t,o;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Rd(i.startAt,e.startAt)&&Rd(i.endAt,e.endAt)}function el(i){return wn.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function Fl(i,e){return i.filters.filter(t=>t instanceof Eo&&t.field.isEqual(e))}function Wa(i,e,t){let o=uu,u=!0;for(const d of Fl(i,e)){let g=uu,D=!0;switch(d.op){case"<":case"<=":g=Ns(d.value);break;case"==":case"in":case">=":g=d.value;break;case">":g=d.value,D=!1;break;case"!=":case"not-in":g=uu}za({value:o,inclusive:u},{value:g,inclusive:D})<0&&(o=g,u=D)}if(null!==t)for(let d=0;d<i.orderBy.length;++d)if(i.orderBy[d].field.isEqual(e)){const g=t.position[d];za({value:o,inclusive:u},{value:g,inclusive:t.inclusive})<0&&(o=g,u=t.inclusive);break}return{value:o,inclusive:u}}function Tc(i,e,t){let o=Uo,u=!0;for(const d of Fl(i,e)){let g=Uo,D=!0;switch(d.op){case">=":case">":g=vo(d.value),D=!1;break;case"==":case"in":case"<=":g=d.value;break;case"<":g=d.value,D=!1;break;case"!=":case"not-in":g=Uo}Za({value:o,inclusive:u},{value:g,inclusive:D})>0&&(o=g,u=D)}if(null!==t)for(let d=0;d<i.orderBy.length;++d)if(i.orderBy[d].field.isEqual(e)){const g=t.position[d];Za({value:o,inclusive:u},{value:g,inclusive:t.inclusive})>0&&(o=g,u=t.inclusive);break}return{value:o,inclusive:u}}class Eo extends class{}{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,o):new Ad(e,t,o):"array-contains"===t?new Sc(e,o):"in"===t?new Qh(e,o):"not-in"===t?new Ll(e,o):"array-contains-any"===t?new Ul(e,o):new Eo(e,t,o)}static lt(e,t,o){return"in"===t?new og(e,o):new Md(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(R(t,this.value)):null!==t&&Bi(this.value)===Bi(t)&&this.ft(R(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return xn()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Ad extends Eo{constructor(e,t,o){super(e,t,o),this.key=wn.fromName(o.referenceValue)}matches(e){const t=wn.comparator(e.key,this.key);return this.ft(t)}}class og extends Eo{constructor(e,t){super(e,"in",t),this.keys=Yh(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Md extends Eo{constructor(e,t){super(e,"not-in",t),this.keys=Yh(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Yh(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>wn.fromName(o.referenceValue))}class Sc extends Eo{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return qt(t)&&Ga(t.arrayValue,this.value)}}class Qh extends Eo{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ga(this.value.arrayValue,t)}}class Ll extends Eo{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ga(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ga(this.value.arrayValue,t)}}class Ul extends Eo{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!qt(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>Ga(this.value.arrayValue,o))}}class Ma{constructor(e,t){this.position=e,this.inclusive=t}}class va{constructor(e,t="asc"){this.field=e,this.dir=t}}function Jh(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function xd(i,e,t){let o=0;for(let u=0;u<i.position.length;u++){const d=e[u],g=i.position[u];if(o=d.field.isKeyField()?wn.comparator(wn.fromName(g.referenceValue),t.key):R(g,t.data.field(d.field)),"desc"===d.dir&&(o*=-1),0!==o)break}return o}function Rd(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Vo(i.position[t],e.position[t]))return!1;return!0}class da{constructor(e,t=null,o=[],u=[],d=null,g="F",D=null,B=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=u,this.limit=d,this.limitType=g,this.startAt=D,this.endAt=B,this._t=null,this.wt=null}}function Vl(i,e,t,o,u,d,g,D){return new da(i,e,t,o,u,d,g,D)}function lu(i){return new da(i)}function Ac(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function Du(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function Bl(i){for(const e of i.filters)if(e.dt())return e.field;return null}function tl(i){return null!==i.collectionGroup}function Tu(i){const e=Nt(i);if(null===e._t){e._t=[];const t=Bl(e),o=Du(e);if(null!==t&&null===o)t.isKeyField()||e._t.push(new va(t)),e._t.push(new va(Si.keyField(),"asc"));else{let u=!1;for(const d of e.explicitOrderBy)e._t.push(d),d.field.isKeyField()&&(u=!0);if(!u){const d=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new va(Si.keyField(),d))}}}return e._t}function Ao(i){const e=Nt(i);if(!e.wt)if("F"===e.limitType)e.wt=_a(e.path,e.collectionGroup,Tu(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const d of Tu(e))t.push(new va(d.field,"desc"===d.dir?"asc":"desc"));const o=e.endAt?new Ma(e.endAt.position,e.endAt.inclusive):null,u=e.startAt?new Ma(e.startAt.position,e.startAt.inclusive):null;e.wt=_a(e.path,e.collectionGroup,t,e.filters,e.limit,o,u)}return e.wt}function jl(i,e,t){return new da(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function cu(i,e){return Xu(Ao(i),Ao(e))&&i.limitType===e.limitType}function ka(i){return`${So(Ao(i))}|lt:${i.limitType}`}function qa(i){return`Query(target=${function Dc(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(t=>{return`${(o=t).field.canonicalString()} ${o.op} ${ee(o.value)}`;var o}).join(", ")}]`),Sa(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(t=>{return`${(o=t).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(t=>ee(t)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(t=>ee(t)).join(",")),`Target(${e})`}(Ao(i))}; limitType=${i.limitType})`}function Hl(i,e){return e.isFoundDocument()&&function(t,o){const u=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(u):wn.isDocumentKey(t.path)?t.path.isEqual(u):t.path.isImmediateParentOf(u)}(i,e)&&function(t,o){for(const u of t.explicitOrderBy)if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(i,e)&&function(t,o){for(const u of t.filters)if(!u.matches(o))return!1;return!0}(i,e)&&(o=e,!((t=i).startAt&&!function(u,d,g){const D=xd(u,d,g);return u.inclusive?D<=0:D<0}(t.startAt,Tu(t),o)||t.endAt&&!function(u,d,g){const D=xd(u,d,g);return u.inclusive?D>=0:D>0}(t.endAt,Tu(t),o)));var t,o}function Xh(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function ef(i){return(e,t)=>{let o=!1;for(const u of Tu(i)){const d=ag(u,e,t);if(0!==d)return d;o=o||u.field.isKeyField()}return 0}}function ag(i,e,t){const o=i.field.isKeyField()?wn.comparator(e.key,t.key):function(u,d,g){const D=d.data.field(u),B=g.data.field(u);return null!==D&&null!==B?R(D,B):xn()}(i.field,e,t);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return xn()}}function tf(i,e){if(i.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bs(e)?"-0":e}}function nf(i){return{integerValue:""+i}}function $l(i,e){return ya(e)?nf(e):tf(i,e)}class Gl{constructor(){this._=void 0}}function ug(i,e,t){return i instanceof p?function(o,u){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&(d.fields.__previous_value__=u),{mapValue:d}}(t,e):i instanceof T?J(i,e):i instanceof ae?ct(i,e):function(o,u){const d=f(o,u),g=Vn(d)+Vn(o.yt);return bt(d)&&bt(o.yt)?nf(g):tf(o.It,g)}(i,e)}function I(i,e,t){return i instanceof T?J(i,e):i instanceof ae?ct(i,e):t}function f(i,e){return i instanceof zt?bt(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class p extends Gl{}class T extends Gl{constructor(e){super(),this.elements=e}}function J(i,e){const t=ir(e);for(const o of i.elements)t.some(u=>Vo(u,o))||t.push(o);return{arrayValue:{values:t}}}class ae extends Gl{constructor(e){super(),this.elements=e}}function ct(i,e){let t=ir(e);for(const o of i.elements)t=t.filter(u=>!Vo(u,o));return{arrayValue:{values:t}}}class zt extends Gl{constructor(e,t){super(),this.It=e,this.yt=t}}function Vn(i){return Un(i.integerValue||i.doubleValue)}function ir(i){return qt(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Nr{constructor(e,t){this.field=e,this.transform=t}}class ha{constructor(e,t){this.version=e,this.transformResults=t}}class Ri{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ri}static exists(e){return new Ri(void 0,e)}static updateTime(e){return new Ri(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Su(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Au{}function zl(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new xu(i.key,Ri.none()):new xa(i.key,i.data,Ri.none());{const t=i.data,o=Mi.empty();let u=new y(Si.comparator);for(let d of e.fields)if(!u.has(d)){let g=t.field(d);null===g&&d.length>1&&(d=d.popLast(),g=t.field(d)),null===g?o.delete(d):o.set(d,g),u=u.add(d)}return new Ea(i.key,o,new X(u.toArray()),Ri.none())}}function Pd(i,e,t){i instanceof xa?function(o,u,d){const g=o.value.clone(),D=Od(o.fieldTransforms,u,d.transformResults);g.setAll(D),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(i,e,t):i instanceof Ea?function(o,u,d){if(!Su(o.precondition,u))return void u.convertToUnknownDocument(d.version);const g=Od(o.fieldTransforms,u,d.transformResults),D=u.data;D.setAll(nl(o)),D.setAll(g),u.convertToFoundDocument(d.version,D).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Mu(i,e,t,o){return i instanceof xa?function(u,d,g,D){if(!Su(u.precondition,d))return g;const B=u.value.clone(),z=Ds(u.fieldTransforms,D,d);return B.setAll(z),d.convertToFoundDocument(d.version,B).setHasLocalMutations(),null}(i,e,t,o):i instanceof Ea?function(u,d,g,D){if(!Su(u.precondition,d))return g;const B=Ds(u.fieldTransforms,D,d),z=d.data;return z.setAll(nl(u)),z.setAll(B),d.convertToFoundDocument(d.version,z).setHasLocalMutations(),null===g?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(oe=>oe.field))}(i,e,t,o):(g=t,Su(i.precondition,d=e)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g);var d,g}function Mc(i,e){let t=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),d=f(o.transform,u||null);null!=d&&(null===t&&(t=Mi.empty()),t.set(o.field,d))}return t||null}function Zl(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===o||t&&o&&Fo(t,o,(u,d)=>function Qi(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(t=i.transform)instanceof T&&o instanceof T||t instanceof ae&&o instanceof ae?Fo(t.elements,o.elements,Vo):t instanceof zt&&o instanceof zt?Vo(t.yt,o.yt):t instanceof p&&o instanceof p);var t,o}(u,d))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,o}class xa extends Au{constructor(e,t,o,u=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Ea extends Au{constructor(e,t,o,u,d=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=u,this.fieldTransforms=d,this.type=1}getFieldMask(){return this.fieldMask}}function nl(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=i.data.field(t);e.set(t,o)}}),e}function Od(i,e,t){const o=new Map;Wt(i.length===t.length);for(let u=0;u<t.length;u++){const d=i[u],g=d.transform,D=e.data.field(d.field);o.set(d.field,I(g,D,t[u]))}return o}function Ds(i,e,t){const o=new Map;for(const u of i){const d=u.transform,g=t.data.field(u.field);o.set(u.field,ug(d,g,e))}return o}class xu extends Au{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rf extends Au{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class sf{constructor(e){this.count=e}}var io,hi;function lg(i){switch(i){default:return xn();case at.CANCELLED:case at.UNKNOWN:case at.DEADLINE_EXCEEDED:case at.RESOURCE_EXHAUSTED:case at.INTERNAL:case at.UNAVAILABLE:case at.UNAUTHENTICATED:return!1;case at.INVALID_ARGUMENT:case at.NOT_FOUND:case at.ALREADY_EXISTS:case at.PERMISSION_DENIED:case at.FAILED_PRECONDITION:case at.ABORTED:case at.OUT_OF_RANGE:case at.UNIMPLEMENTED:case at.DATA_LOSS:return!0}}function cg(i){if(void 0===i)return ui("GRPC error has no .code"),at.UNKNOWN;switch(i){case io.OK:return at.OK;case io.CANCELLED:return at.CANCELLED;case io.UNKNOWN:return at.UNKNOWN;case io.DEADLINE_EXCEEDED:return at.DEADLINE_EXCEEDED;case io.RESOURCE_EXHAUSTED:return at.RESOURCE_EXHAUSTED;case io.INTERNAL:return at.INTERNAL;case io.UNAVAILABLE:return at.UNAVAILABLE;case io.UNAUTHENTICATED:return at.UNAUTHENTICATED;case io.INVALID_ARGUMENT:return at.INVALID_ARGUMENT;case io.NOT_FOUND:return at.NOT_FOUND;case io.ALREADY_EXISTS:return at.ALREADY_EXISTS;case io.PERMISSION_DENIED:return at.PERMISSION_DENIED;case io.FAILED_PRECONDITION:return at.FAILED_PRECONDITION;case io.ABORTED:return at.ABORTED;case io.OUT_OF_RANGE:return at.OUT_OF_RANGE;case io.UNIMPLEMENTED:return at.UNIMPLEMENTED;case io.DATA_LOSS:return at.DATA_LOSS;default:return xn()}}(hi=io||(io={}))[hi.OK=0]="OK",hi[hi.CANCELLED=1]="CANCELLED",hi[hi.UNKNOWN=2]="UNKNOWN",hi[hi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",hi[hi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",hi[hi.NOT_FOUND=5]="NOT_FOUND",hi[hi.ALREADY_EXISTS=6]="ALREADY_EXISTS",hi[hi.PERMISSION_DENIED=7]="PERMISSION_DENIED",hi[hi.UNAUTHENTICATED=16]="UNAUTHENTICATED",hi[hi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",hi[hi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",hi[hi.ABORTED=10]="ABORTED",hi[hi.OUT_OF_RANGE=11]="OUT_OF_RANGE",hi[hi.UNIMPLEMENTED=12]="UNIMPLEMENTED",hi[hi.INTERNAL=13]="INTERNAL",hi[hi.UNAVAILABLE=14]="UNAVAILABLE",hi[hi.DATA_LOSS=15]="DATA_LOSS";class Ru{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[u,d]of o)if(this.equalsFn(u,e))return d}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,t]],void this.innerSize++;for(let d=0;d<u.length;d++)if(this.equalsFn(u[d][0],e))return void(u[d]=[e,t]);u.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[t]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Lo(this.inner,(t,o)=>{for(const[u,d]of o)e(u,d)})}isEmpty(){return ro(this.inner)}size(){return this.innerSize}}const Ny=new Gi(wn.comparator);function wa(){return Ny}const ky=new Gi(wn.comparator);function du(...i){let e=ky;for(const t of i)e=e.insert(t.key,t);return e}function Nd(i){let e=ky;return i.forEach((t,o)=>e=e.insert(t,o.overlayedDocument)),e}function Fa(){return Wl()}function af(){return Wl()}function Wl(){return new Ru(i=>i.toString(),(i,e)=>i.isEqual(e))}const Fy=new Gi(wn.comparator),dg=new y(wn.comparator);function Hr(...i){let e=dg;for(const t of i)e=e.add(t);return e}const uf=new y(Gn);function lf(){return uf}class xc{constructor(e,t,o,u,d){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(e,t,o){const u=new Map;return u.set(e,rl.createSynthesizedTargetChangeForCurrentChange(e,t,o)),new xc(er.min(),u,lf(),wa(),Hr())}}class rl{constructor(e,t,o,u,d){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(e,t,o){return new rl(o,t,Hr(),Hr(),Hr())}}class Rc{constructor(e,t,o,u){this.Tt=e,this.removedTargetIds=t,this.key=o,this.Et=u}}class cf{constructor(e,t){this.targetId=e,this.At=t}}class Pu{constructor(e,t,o=Ie.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=u}}class hg{constructor(){this.Rt=0,this.bt=fg(),this.Pt=Ie.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Hr(),t=Hr(),o=Hr();return this.bt.forEach((u,d)=>{switch(d){case 0:e=e.add(u);break;case 2:t=t.add(u);break;case 1:o=o.add(u);break;default:xn()}}),new rl(this.Pt,this.vt,e,t,o)}Nt(){this.Vt=!1,this.bt=fg()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class df{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=wa(),this.qt=Pc(),this.Kt=new y(Gn)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const o=this.zt(t);switch(e.state){case 0:this.Ht(t)&&o.Ct(e.resumeToken);break;case 1:o.Ft(),o.St||o.Nt(),o.Ct(e.resumeToken);break;case 2:o.Ft(),o.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(o.$t(),o.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),o.Ct(e.resumeToken));break;default:xn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((o,u)=>{this.Ht(u)&&t(u)})}Yt(e){const t=e.targetId,o=e.At.count,u=this.Xt(t);if(u){const d=u.target;if(el(d))if(0===o){const g=new wn(d.path);this.jt(t,g,xi.newNoDocument(g,er.min()))}else Wt(1===o);else this.Zt(t)!==o&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((d,g)=>{const D=this.Xt(g);if(D){if(d.current&&el(D.target)){const B=new wn(D.target.path);null!==this.Ut.get(B)||this.ee(g,B)||this.jt(g,B,xi.newNoDocument(B,e))}d.Dt&&(t.set(g,d.xt()),d.Nt())}});let o=Hr();this.qt.forEach((d,g)=>{let D=!0;g.forEachWhile(B=>{const z=this.Xt(B);return!z||2===z.purpose||(D=!1,!1)}),D&&(o=o.add(d))}),this.Ut.forEach((d,g)=>g.setReadTime(e));const u=new xc(e,t,this.Kt,this.Ut,o);return this.Ut=wa(),this.qt=Pc(),this.Kt=new y(Gn),u}Qt(e,t){if(!this.Ht(e))return;const o=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,o),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,o){if(!this.Ht(e))return;const u=this.zt(e);this.ee(e,t)?u.kt(t,1):u.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),o&&(this.Ut=this.Ut.insert(t,o))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new hg,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new y(Gn),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||Ht("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new hg),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function Pc(){return new Gi(wn.comparator)}function fg(){return new Gi(wn.comparator)}const hf={asc:"ASCENDING",desc:"DESCENDING"},kd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class il{constructor(e,t){this.databaseId=e,this.gt=t}}function ql(i,e){return i.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Fd(i,e){return i.gt?e.toBase64():e.toUint8Array()}function Ly(i,e){return ql(i,e.toTimestamp())}function Mo(i){return Wt(!!i),er.fromTimestamp(function(e){const t=an(e);return new ai(t.seconds,t.nanos)}(i))}function Ld(i,e){return(t=i,new Pr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function sl(i){const e=Pr.fromString(i);return Wt(Eg(e)),e}function Oc(i,e){return Ld(i.databaseId,e.path)}function Ka(i,e){const t=sl(e);if(t.get(1)!==i.databaseId.projectId)throw new kt(at.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new kt(at.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new wn(gg(t))}function ff(i,e){return Ld(i.databaseId,e)}function pg(i){const e=sl(i);return 4===e.length?Pr.emptyPath():gg(e)}function ol(i){return new Pr(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function gg(i){return Wt(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function pf(i,e,t){return{name:Oc(i,e),fields:t.value.mapValue.fields}}function mg(i,e,t){const o=Ka(i,e.name),u=Mo(e.updateTime),d=new Mi({mapValue:{fields:e.fields}}),g=xi.newFoundDocument(o,u,d);return t&&g.setHasCommittedMutations(),t?g.setHasCommittedMutations():g}function Nc(i,e){let t;if(e instanceof xa)t={update:pf(i,e.key,e.value)};else if(e instanceof xu)t={delete:Oc(i,e.key)};else if(e instanceof Ea)t={update:pf(i,e.key,e.data),updateMask:jy(e.fieldMask)};else{if(!(e instanceof rf))return xn();t={verify:Oc(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(u,d){const g=d.transform;if(g instanceof p)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof T)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof ae)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof zt)return{fieldPath:d.field.canonicalString(),increment:g.yt};throw xn()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:Ly(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:xn()),t;var u}function al(i,e){const t=e.currentDocument?void 0!==(u=e.currentDocument).updateTime?Ri.updateTime(Mo(u.updateTime)):void 0!==u.exists?Ri.exists(u.exists):Ri.none():Ri.none(),o=e.updateTransforms?e.updateTransforms.map(u=>function(d,g){let D=null;"setToServerValue"in g?(Wt("REQUEST_TIME"===g.setToServerValue),D=new p):"appendMissingElements"in g?D=new T(g.appendMissingElements.values||[]):"removeAllFromArray"in g?D=new ae(g.removeAllFromArray.values||[]):"increment"in g?D=new zt(d,g.increment):xn();const B=Si.fromServerFormat(g.fieldPath);return new Nr(B,D)}(i,u)):[];var u;if(e.update){const u=Ka(i,e.update.name),d=new Mi({mapValue:{fields:e.update.fields}});if(e.updateMask){const g=new X((e.updateMask.fieldPaths||[]).map(z=>Si.fromServerFormat(z)));return new Ea(u,d,g,t,o)}return new xa(u,d,t,o)}if(e.delete){const u=Ka(i,e.delete);return new xu(u,t)}if(e.verify){const u=Ka(i,e.verify);return new rf(u,t)}return xn()}function ul(i,e){return{documents:[ff(i,e.path)]}}function ll(i,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=ff(i,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=ff(i,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(B){if(0===B.length)return;const z=B.map(oe=>function(Ne){if("=="===Ne.op){if(Qn(Ne.value))return{unaryFilter:{field:Kl(Ne.field),op:"IS_NAN"}};if(Cn(Ne.value))return{unaryFilter:{field:Kl(Ne.field),op:"IS_NULL"}}}else if("!="===Ne.op){if(Qn(Ne.value))return{unaryFilter:{field:Kl(Ne.field),op:"IS_NOT_NAN"}};if(Cn(Ne.value))return{unaryFilter:{field:Kl(Ne.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Kl(Ne.field),op:By(Ne.op),value:Ne.value}}}(oe));return 1===z.length?z[0]:{compositeFilter:{op:"AND",filters:z}}}(e.filters);u&&(t.structuredQuery.where=u);const d=function(B){if(0!==B.length)return B.map(z=>{return{field:Kl((oe=z).field),direction:Vy(oe.dir)};var oe})}(e.orderBy);d&&(t.structuredQuery.orderBy=d);const g=(z=e.limit,i.gt||Sa(z)?z:{value:z});var z,D,B;return null!==g&&(t.structuredQuery.limit=g),e.startAt&&(t.structuredQuery.startAt={before:(D=e.startAt).inclusive,values:D.position}),e.endAt&&(t.structuredQuery.endAt={before:!(B=e.endAt).inclusive,values:B.position}),t}function _g(i){let e=pg(i.parent);const t=i.structuredQuery,o=t.from?t.from.length:0;let u=null;if(o>0){Wt(1===o);const oe=t.from[0];oe.allDescendants?u=oe.collectionId:e=e.child(oe.collectionId)}let d=[];t.where&&(d=gf(t.where));let g=[];t.orderBy&&(g=t.orderBy.map(oe=>{return new va(cl((Ne=oe).field),function(pt){switch(pt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ne.direction));var Ne}));let D=null;t.limit&&(D=function(oe){let Ne;return Ne="object"==typeof oe?oe.value:oe,Sa(Ne)?null:Ne}(t.limit));let B=null;var oe;t.startAt&&(B=new Ma((oe=t.startAt).values||[],!!oe.before));let z=null;return t.endAt&&(z=function(oe){return new Ma(oe.values||[],!oe.before)}(t.endAt)),Vl(e,u,g,d,D,"F",B,z)}function gf(i){return i?void 0!==i.unaryFilter?[mf(i)]:void 0!==i.fieldFilter?[vg(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>gf(e)).reduce((e,t)=>e.concat(t)):xn():[]}function Vy(i){return hf[i]}function By(i){return kd[i]}function Kl(i){return{fieldPath:i.canonicalString()}}function cl(i){return Si.fromServerFormat(i.fieldPath)}function vg(i){return Eo.create(cl(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xn()}}(i.fieldFilter.op),i.fieldFilter.value)}function mf(i){switch(i.unaryFilter.op){case"IS_NAN":const e=cl(i.unaryFilter.field);return Eo.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=cl(i.unaryFilter.field);return Eo.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=cl(i.unaryFilter.field);return Eo.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=cl(i.unaryFilter.field);return Eo.create(u,"!=",{nullValue:"NULL_VALUE"});default:return xn()}}function jy(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Eg(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function Bo(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=Hy(e)),e=zv(i.get(t),e);return Hy(e)}function zv(i,e){let t=e;const o=i.length;for(let u=0;u<o;u++){const d=i.charAt(u);switch(d){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=d}}return t}function Hy(i){return i+"\x01\x01"}function Ra(i){const e=i.length;if(Wt(e>=2),2===e)return Wt("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Pr.emptyPath();const t=e-2,o=[];let u="";for(let d=0;d<e;){const g=i.indexOf("\x01",d);switch((g<0||g>t)&&xn(),i.charAt(g+1)){case"\x01":const D=i.substring(d,g);let B;0===u.length?B=D:(u+=D,B=u,u=""),o.push(B);break;case"\x10":u+=i.substring(d,g),u+="\0";break;case"\x11":u+=i.substring(d,g+1);break;default:xn()}d=g+2}return new Pr(o)}const $y=["userId","batchId"];function yf(i,e){return[i,Bo(e)]}function Gy(i,e,t){return[i,Bo(e),t]}const Zv={},Wv=["prefixPath","collectionGroup","readTime","documentId"],zy=["prefixPath","collectionGroup","documentId"],wg=["collectionGroup","readTime","prefixPath","documentId"],_f=["canonicalId","targetId"],bg=["targetId","path"],Ig=["path","targetId"],Cg=["collectionId","parent"],vf=["indexId","uid"],Zy=["uid","sequenceNumber"],Ef=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],kc=["indexId","uid","orderedDocumentKey"],Wy=["userId","collectionPath","documentId"],qy=["userId","collectionPath","largestBatchId"],Ky=["userId","collectionGroup","largestBatchId"],wf=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Yy=[...wf,"documentOverlays"],Dg=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Tg=Dg,Qy=[...Tg,"indexConfiguration","indexState","indexEntries"];class Fc extends kl{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function xo(i,e){const t=Nt(i);return To.M(t.ie,e)}class bf{constructor(e,t,o,u){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let u=0;u<this.mutations.length;u++){const d=this.mutations[u];d.key.isEqual(e.key)&&Pd(d,e,o[u])}}applyToLocalView(e,t){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(t=Mu(o,e,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(t=Mu(o,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const o=af();return this.mutations.forEach(u=>{const d=e.get(u.key),g=d.overlayedDocument;let D=this.applyToLocalView(g,d.mutatedFields);D=t.has(u.key)?null:D;const B=zl(g,D);null!==B&&o.set(u.key,B),g.isValidDocument()||g.convertToNoDocument(er.min())}),o}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Hr())}isEqual(e){return this.batchId===e.batchId&&Fo(this.mutations,e.mutations,(t,o)=>Zl(t,o))&&Fo(this.baseMutations,e.baseMutations,(t,o)=>Zl(t,o))}}class If{constructor(e,t,o,u){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=u}static from(e,t,o){Wt(e.mutations.length===o.length);let u=Fy;const d=e.mutations;for(let g=0;g<d.length;g++)u=u.insert(d[g].key,o[g].version);return new If(e,t,o,u)}}class Ud{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ou{constructor(e,t,o,u,d=er.min(),g=er.min(),D=Ie.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=g,this.resumeToken=D}withSequenceNumber(e){return new Ou(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Ou(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ou(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Sg{constructor(e){this.re=e}}function Vd(i,e){const t=e.key,o={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Lc(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:Oc(u=i.re,(d=e).key),fields:d.data.value.mapValue.fields,updateTime:ql(u,d.version.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:t.path.toArray(),readTime:hu(e.version)};else{if(!e.isUnknownDocument())return xn();o.unknownDocument={path:t.path.toArray(),version:hu(e.version)}}var u,d;return o}function Lc(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function hu(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function qs(i){const e=new ai(i.seconds,i.nanoseconds);return er.fromTimestamp(e)}function La(i,e){const t=(e.baseMutations||[]).map(d=>al(i.re,d));for(let d=0;d<e.mutations.length-1;++d){const g=e.mutations[d];d+1<e.mutations.length&&void 0!==e.mutations[d+1].transform&&(g.updateTransforms=e.mutations[d+1].transform.fieldTransforms,e.mutations.splice(d+1,1),++d)}const o=e.mutations.map(d=>al(i.re,d)),u=ai.fromMillis(e.localWriteTimeMs);return new bf(e.batchId,u,t,o)}function Yl(i){const e=qs(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?qs(i.lastLimboFreeSnapshotVersion):er.min();let o;var u;return void 0!==i.query.documents?(Wt(1===(u=i.query).documents.length),o=Ao(lu(pg(u.documents[0])))):o=Ao(_g(i.query)),new Ou(o,i.targetId,0,i.lastListenSequenceNumber,e,t,Ie.fromBase64String(i.resumeToken))}function Ag(i,e){const t=hu(e.snapshotVersion),o=hu(e.lastLimboFreeSnapshotVersion);let u;u=el(e.target)?ul(i.re,e.target):ll(i.re,e.target);const d=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:So(e.target),readTime:t,resumeToken:d,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:u}}function Cf(i){const e=_g({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?jl(e,e.limit,"L"):e}function Bd(i,e){return new Ud(e.largestBatchId,al(i.re,e.overlayMutation))}function Mg(i,e){const t=e.path.lastSegment();return[i,Bo(e.path.popLast()),t]}function Df(i,e,t,o){return{indexId:i,uid:e.uid||"",sequenceNumber:t,readTime:hu(o.readTime),documentKey:Bo(o.documentKey.path),largestBatchId:o.largestBatchId}}class Jy{getBundleMetadata(e,t){return Tf(e).get(t).next(o=>{if(o)return{id:(u=o).bundleId,createTime:qs(u.createTime),version:u.version};var u})}saveBundleMetadata(e,t){return Tf(e).put({bundleId:(o=t).id,createTime:hu(Mo(o.createTime)),version:o.version});var o}getNamedQuery(e,t){return xg(e).get(t).next(o=>{if(o)return{name:(u=o).name,query:Cf(u.bundledQuery),readTime:qs(u.readTime)};var u})}saveNamedQuery(e,t){return xg(e).put({name:(o=t).name,readTime:hu(Mo(o.readTime)),bundledQuery:o.bundledQuery});var o}}function Tf(i){return xo(i,"bundles")}function xg(i){return xo(i,"namedQueries")}class jd{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new jd(e,t.uid||"")}getOverlay(e,t){return Uc(e).get(Mg(this.userId,t)).next(o=>o?Bd(this.It,o):null)}getOverlays(e,t){const o=Fa();return mt.forEach(t,u=>this.getOverlay(e,u).next(d=>{null!==d&&o.set(u,d)})).next(()=>o)}saveOverlays(e,t,o){const u=[];return o.forEach((d,g)=>{const D=new Ud(t,g);u.push(this.ue(e,D))}),mt.waitFor(u)}removeOverlaysForBatchId(e,t,o){const u=new Set;t.forEach(g=>u.add(Bo(g.getCollectionPath())));const d=[];return u.forEach(g=>{const D=IDBKeyRange.bound([this.userId,g,o],[this.userId,g,o+1],!1,!0);d.push(Uc(e).Y("collectionPathOverlayIndex",D))}),mt.waitFor(d)}getOverlaysForCollection(e,t,o){const u=Fa(),d=Bo(t),g=IDBKeyRange.bound([this.userId,d,o],[this.userId,d,Number.POSITIVE_INFINITY],!0);return Uc(e).W("collectionPathOverlayIndex",g).next(D=>{for(const B of D){const z=Bd(this.It,B);u.set(z.getKey(),z)}return u})}getOverlaysForCollectionGroup(e,t,o,u){const d=Fa();let g;const D=IDBKeyRange.bound([this.userId,t,o],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Uc(e).Z({index:"collectionGroupOverlayIndex",range:D},(B,z,oe)=>{const Ne=Bd(this.It,z);d.size()<u||Ne.largestBatchId===g?(d.set(Ne.getKey(),Ne),g=Ne.largestBatchId):oe.done()}).next(()=>d)}ue(e,t){return Uc(e).put(function(o,u,d){const[g,D,B]=Mg(u,d.mutation.key);return{userId:u,collectionPath:D,documentId:B,collectionGroup:d.mutation.key.getCollectionGroup(),largestBatchId:d.largestBatchId,overlayMutation:Nc(o.re,d.mutation)}}(this.It,this.userId,t))}}function Uc(i){return xo(i,"documentOverlays")}class dl{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Un(e.integerValue));else if("doubleValue"in e){const o=Un(e.doubleValue);isNaN(o)?this.le(t,13):(this.le(t,15),Bs(o)?t.fe(0):t.fe(o))}else if("timestampValue"in e){const o=e.timestampValue;this.le(t,20),"string"==typeof o?t.de(o):(t.de(`${o.seconds||""}`),t.fe(o.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Tn(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.le(t,45),t.fe(o.latitude||0),t.fe(o.longitude||0)}else"mapValue"in e?tr(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):xn()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const o=e.fields||{};this.le(t,55);for(const u of Object.keys(o))this._e(u,t),this.ae(o[u],t)}pe(e,t){const o=e.values||[];this.le(t,50);for(const u of o)this.ae(u,t)}ge(e,t){this.le(t,37),wn.fromName(e).path.forEach(o=>{this.le(t,60),this.Ie(o,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function Xy(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function hl(i){const e=64-function(t){let o=0;for(let u=0;u<8;++u){const d=Xy(255&t[u]);if(o+=d,8!==d)break}return o}(i);return Math.ceil(e/8)}dl.Te=new dl;class fu{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Ae(o.value),o=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Pe(o.value),o=t.next();this.ve()}Ve(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Ae(o);else if(o<2048)this.Ae(960|o>>>6),this.Ae(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|o>>>12),this.Ae(128|63&o>>>6),this.Ae(128|63&o);else{const u=t.codePointAt(0);this.Ae(240|u>>>18),this.Ae(128|63&u>>>12),this.Ae(128|63&u>>>6),this.Ae(128|63&u)}}this.Re()}Se(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Pe(o);else if(o<2048)this.Pe(960|o>>>6),this.Pe(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|o>>>12),this.Pe(128|63&o>>>6),this.Pe(128|63&o);else{const u=t.codePointAt(0);this.Pe(240|u>>>18),this.Pe(128|63&u>>>12),this.Pe(128|63&u>>>6),this.Pe(128|63&u)}}this.ve()}De(e){const t=this.Ce(e),o=hl(t);this.xe(1+o),this.buffer[this.position++]=255&o;for(let u=t.length-o;u<t.length;++u)this.buffer[this.position++]=255&t[u]}Ne(e){const t=this.Ce(e),o=hl(t);this.xe(1+o),this.buffer[this.position++]=~(255&o);for(let u=t.length-o;u<t.length;++u)this.buffer[this.position++]=~(255&t[u])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(u){const d=new DataView(new ArrayBuffer(8));return d.setFloat64(0,u,!1),new Uint8Array(d.buffer)}(e),o=0!=(128&t[0]);t[0]^=o?255:128;for(let u=1;u<t.length;++u)t[u]^=o?255:0;return t}Ae(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let o=2*this.buffer.length;o<t&&(o=t);const u=new Uint8Array(o);u.set(this.buffer),this.buffer=u}}class e_{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class t_{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class Hd{constructor(){this.Be=new fu,this.Le=new e_(this.Be),this.Ue=new t_(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class Ql{constructor(e,t,o,u){this.indexId=e,this.documentKey=t,this.arrayValue=o,this.directionalValue=u}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(t);return o.set(this.directionalValue,0),t!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new Ql(this.indexId,this.documentKey,this.arrayValue,o)}}function Nu(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=n_(i.arrayValue,e.arrayValue),0!==t?t:(t=n_(i.directionalValue,e.directionalValue),0!==t?t:wn.comparator(i.documentKey,e.documentKey)))}function n_(i,e){for(let t=0;t<i.length&&t<e.length;++t){const o=i[t]-e[t];if(0!==o)return o}return i.length-e.length}class Ya{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const o=t;o.dt()?this.je=o:this.Qe.push(o)}}We(e){const t=to(e);if(void 0!==t&&!this.ze(t))return!1;const o=Wo(e);let u=0,d=0;for(;u<o.length&&this.ze(o[u]);++u);if(u===o.length)return!0;if(void 0!==this.je){const g=o[u];if(!this.He(this.je,g)||!this.Je(this.Ge[d++],g))return!1;++u}for(;u<o.length;++u){const g=o[u];if(d>=this.Ge.length||!this.Je(this.Ge[d++],g))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class Sf{constructor(){this.Ye=new Vc}addToCollectionParentIndex(e,t){return this.Ye.add(t),mt.resolve()}getCollectionParents(e,t){return mt.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return mt.resolve()}deleteFieldIndex(e,t){return mt.resolve()}getDocumentsMatchingTarget(e,t){return mt.resolve(null)}getIndexType(e,t){return mt.resolve(0)}getFieldIndexes(e,t){return mt.resolve([])}getNextCollectionGroupToUpdate(e){return mt.resolve(null)}getMinOffset(e,t){return mt.resolve(no.min())}getMinOffsetFromCollectionGroup(e,t){return mt.resolve(no.min())}updateCollectionGroup(e,t,o){return mt.resolve()}updateIndexEntries(e,t){return mt.resolve()}}class Vc{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),u=this.index[t]||new y(Pr.comparator),d=!u.has(o);return this.index[t]=u.add(o),d}has(e){const t=e.lastSegment(),o=e.popLast(),u=this.index[t];return u&&u.has(o)}getEntries(e){return(this.index[e]||new y(Pr.comparator)).toArray()}}const $d=new Uint8Array(0);class Rg{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new Vc,this.Ze=new Ru(o=>So(o),(o,u)=>Xu(o,u)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const o=t.lastSegment(),u=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const d={collectionId:o,parent:Bo(u)};return Pg(e).put(d)}return mt.resolve()}getCollectionParents(e,t){const o=[],u=IDBKeyRange.bound([t,""],[iu(t),""],!1,!0);return Pg(e).W(u).next(d=>{for(const g of d){if(g.collectionId!==t)break;o.push(Ra(g.parent))}return o})}addFieldIndex(e,t){const o=Gd(e),u={indexId:(g=t).indexId,collectionGroup:g.collectionGroup,fields:g.fields.map(D=>[D.fieldPath.canonicalString(),D.kind])};var g;delete u.indexId;const d=o.add(u);if(t.indexState){const g=Bc(e);return d.next(D=>{g.put(Df(D,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return d.next()}deleteFieldIndex(e,t){const o=Gd(e),u=Bc(e),d=pu(e);return o.delete(t.indexId).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>d.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const o=pu(e);let u=!0;const d=new Map;return mt.forEach(this.tn(t),g=>this.en(e,g).next(D=>{u&&(u=!!D),d.set(g,D)})).next(()=>{if(u){let g=Hr();const D=[];return mt.forEach(d,(B,z)=>{var oe;Ht("IndexedDbIndexManager",`Using index ${oe=B,`id=${oe.indexId}|cg=${oe.collectionGroup}|f=${oe.fields.map(fi=>`${fi.fieldPath}:${fi.kind}`).join(",")}`} to execute ${So(t)}`);const Ne=function(fi,Hs){const pi=to(Hs);if(void 0===pi)return null;for(const mi of Fl(fi,pi.fieldPath))switch(mi.op){case"array-contains-any":return mi.value.arrayValue.values||[];case"array-contains":return[mi.value]}return null}(z,B),pt=function(fi,Hs){const pi=new Map;for(const mi of Wo(Hs))for(const wo of Fl(fi,mi.fieldPath))switch(wo.op){case"==":case"in":pi.set(mi.fieldPath.canonicalString(),wo.value);break;case"not-in":case"!=":return pi.set(mi.fieldPath.canonicalString(),wo.value),Array.from(pi.values())}return null}(z,B),$t=function(fi,Hs){const pi=[];let mi=!0;for(const wo of Wo(Hs)){const Ic=0===wo.kind?Wa(fi,wo.fieldPath,fi.startAt):Tc(fi,wo.fieldPath,fi.startAt);pi.push(Ic.value),mi&&(mi=Ic.inclusive)}return new Ma(pi,mi)}(z,B),Yt=function(fi,Hs){const pi=[];let mi=!0;for(const wo of Wo(Hs)){const Ic=0===wo.kind?Tc(fi,wo.fieldPath,fi.endAt):Wa(fi,wo.fieldPath,fi.endAt);pi.push(Ic.value),mi&&(mi=Ic.inclusive)}return new Ma(pi,mi)}(z,B),On=this.nn(B,z,$t),Bn=this.nn(B,z,Yt),gi=this.sn(B,z,pt),is=this.rn(B.indexId,Ne,On,$t.inclusive,Bn,Yt.inclusive,gi);return mt.forEach(is,fi=>o.J(fi,t.limit).next(Hs=>{Hs.forEach(pi=>{const mi=wn.fromSegments(pi.documentKey);g.has(mi)||(g=g.add(mi),D.push(mi))})}))}).next(()=>D)}return mt.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,o,u,d,g,D){const B=(null!=t?t.length:1)*Math.max(o.length,d.length),z=B/(null!=t?t.length:1),oe=[];for(let Ne=0;Ne<B;++Ne){const pt=t?this.on(t[Ne/z]):$d,$t=this.un(e,pt,o[Ne%z],u),Yt=this.cn(e,pt,d[Ne%z],g),On=D.map(Bn=>this.un(e,pt,Bn,!0));oe.push(...this.createRange($t,Yt,On))}return oe}un(e,t,o,u){const d=new Ql(e,wn.empty(),t,o);return u?d:d.Ke()}cn(e,t,o,u){const d=new Ql(e,wn.empty(),t,o);return u?d.Ke():d}en(e,t){const o=new Ya(t),u=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,u).next(d=>{let g=null;for(const D of d)o.We(D)&&(!g||D.fields.length>g.fields.length)&&(g=D);return g})}getIndexType(e,t){let o=2;return mt.forEach(this.tn(t),u=>this.en(e,u).next(d=>{d?0!==o&&d.fields.length<function(g){let D=new y(Si.comparator),B=!1;for(const z of g.filters){const oe=z;oe.field.isKeyField()||("array-contains"===oe.op||"array-contains-any"===oe.op?B=!0:D=D.add(oe.field))}for(const z of g.orderBy)z.field.isKeyField()||(D=D.add(z.field));return D.size+(B?1:0)}(u)&&(o=1):o=0})).next(()=>o)}an(e,t){const o=new Hd;for(const u of Wo(e)){const d=t.data.field(u.fieldPath);if(null==d)return null;const g=o.qe(u.kind);dl.Te.ce(d,g)}return o.$e()}on(e){const t=new Hd;return dl.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const o=new Hd;return dl.Te.ce(nt(this.databaseId,t),o.qe(function(u){const d=Wo(u);return 0===d.length?0:d[d.length-1].kind}(e))),o.$e()}sn(e,t,o){if(null===o)return[];let u=[];u.push(new Hd);let d=0;for(const g of Wo(e)){const D=o[d++];for(const B of u)if(this.ln(t,g.fieldPath)&&qt(D))u=this.fn(u,g,D);else{const z=B.qe(g.kind);dl.Te.ce(D,z)}}return this.dn(u)}nn(e,t,o){return this.sn(e,t,o.position)}dn(e){const t=[];for(let o=0;o<e.length;++o)t[o]=e[o].$e();return t}fn(e,t,o){const u=[...e],d=[];for(const g of o.arrayValue.values||[])for(const D of u){const B=new Hd;B.seed(D.$e()),dl.Te.ce(g,B.qe(t.kind)),d.push(B)}return d}ln(e,t){return!!e.filters.find(o=>o instanceof Eo&&o.field.isEqual(t)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,t){const o=Gd(e),u=Bc(e);return(t?o.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):o.W()).next(d=>{const g=[];return mt.forEach(d,D=>u.get([D.indexId,this.uid]).next(B=>{g.push(function(z,oe){const Ne=oe?new ua(oe.sequenceNumber,new no(qs(oe.readTime),new wn(Ra(oe.documentKey)),oe.largestBatchId)):ua.empty(),pt=z.fields.map(([$t,Yt])=>new wu(Si.fromServerFormat($t),Yt));return new Zo(z.indexId,z.collectionGroup,pt,Ne)}(D,B))})).next(()=>g)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((o,u)=>{const d=o.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==d?d:Gn(o.collectionGroup,u.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,o){const u=Gd(e),d=Bc(e);return this._n(e).next(g=>u.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(D=>mt.forEach(D,B=>d.put(Df(B.indexId,this.user,g,o)))))}updateIndexEntries(e,t){const o=new Map;return mt.forEach(t,(u,d)=>{const g=o.get(u.collectionGroup);return(g?mt.resolve(g):this.getFieldIndexes(e,u.collectionGroup)).next(D=>(o.set(u.collectionGroup,D),mt.forEach(D,B=>this.wn(e,u,B).next(z=>{const oe=this.mn(d,B);return z.isEqual(oe)?mt.resolve():this.gn(e,d,B,z,oe)}))))})}yn(e,t,o,u){return pu(e).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.hn(o,t.key),documentKey:t.key.path.toArray()})}pn(e,t,o,u){return pu(e).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.hn(o,t.key),t.key.path.toArray()])}wn(e,t,o){const u=pu(e);let d=new y(Nu);return u.Z({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.hn(o,t)])},(g,D)=>{d=d.add(new Ql(o.indexId,t,D.arrayValue,D.directionalValue))}).next(()=>d)}mn(e,t){let o=new y(Nu);const u=this.an(t,e);if(null==u)return o;const d=to(t);if(null!=d){const g=e.data.field(d.fieldPath);if(qt(g))for(const D of g.arrayValue.values||[])o=o.add(new Ql(t.indexId,e.key,this.on(D),u))}else o=o.add(new Ql(t.indexId,e.key,$d,u));return o}gn(e,t,o,u,d){Ht("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const g=[];return function(D,B,z,oe,Ne){const pt=D.getIterator(),$t=B.getIterator();let Yt=F(pt),On=F($t);for(;Yt||On;){let Bn=!1,gi=!1;if(Yt&&On){const is=z(Yt,On);is<0?gi=!0:is>0&&(Bn=!0)}else null!=Yt?gi=!0:Bn=!0;Bn?(oe(On),On=F($t)):gi?(Ne(Yt),Yt=F(pt)):(Yt=F(pt),On=F($t))}}(u,d,Nu,D=>{g.push(this.yn(e,t,o,D))},D=>{g.push(this.pn(e,t,o,D))}),mt.waitFor(g)}_n(e){let t=1;return Bc(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,u,d)=>{d.done(),t=u.sequenceNumber+1}).next(()=>t)}createRange(e,t,o){o=o.sort((g,D)=>Nu(g,D)).filter((g,D,B)=>!D||0!==Nu(g,B[D-1]));const u=[];u.push(e);for(const g of o){const D=Nu(g,e),B=Nu(g,t);if(0===D)u[0]=e.Ke();else if(D>0&&B<0)u.push(g),u.push(g.Ke());else if(B>0)break}u.push(t);const d=[];for(let g=0;g<u.length;g+=2)d.push(IDBKeyRange.bound([u[g].indexId,this.uid,u[g].arrayValue,u[g].directionalValue,$d,[]],[u[g+1].indexId,this.uid,u[g+1].arrayValue,u[g+1].directionalValue,$d,[]]));return d}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(zd)}getMinOffset(e,t){return mt.mapArray(this.tn(t),o=>this.en(e,o).next(u=>u||xn())).next(zd)}}function Pg(i){return xo(i,"collectionParents")}function pu(i){return xo(i,"indexEntries")}function Gd(i){return xo(i,"indexConfiguration")}function Bc(i){return xo(i,"indexState")}function zd(i){Wt(0!==i.length);let e=i[0].indexState.offset,t=e.largestBatchId;for(let o=1;o<i.length;o++){const u=i[o].indexState.offset;bu(u,e)<0&&(e=u),t<u.largestBatchId&&(t=u.largestBatchId)}return new no(e.readTime,e.documentKey,t)}const Zd={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ta{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new ta(e,ta.DEFAULT_COLLECTION_PERCENTILE,ta.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function r_(i,e,t){const o=i.store("mutations"),u=i.store("documentMutations"),d=[],g=IDBKeyRange.only(t.batchId);let D=0;const B=o.Z({range:g},(oe,Ne,pt)=>(D++,pt.delete()));d.push(B.next(()=>{Wt(1===D)}));const z=[];for(const oe of t.mutations){const Ne=Gy(e,oe.key.path,t.batchId);d.push(u.delete(Ne)),z.push(oe.key)}return mt.waitFor(d).next(()=>z)}function gu(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw xn();e=i.noDocument}return JSON.stringify(e).length}ta.DEFAULT_COLLECTION_PERCENTILE=10,ta.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ta.DEFAULT=new ta(41943040,ta.DEFAULT_COLLECTION_PERCENTILE,ta.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ta.DISABLED=new ta(-1,0,0);class Jl{constructor(e,t,o,u){this.userId=e,this.It=t,this.indexManager=o,this.referenceDelegate=u,this.In={}}static oe(e,t,o,u){Wt(""!==e.uid);const d=e.isAuthenticated()?e.uid:"";return new Jl(d,t,o,u)}checkEmpty(e){let t=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ku(e).Z({index:"userMutationsIndex",range:o},(u,d,g)=>{t=!1,g.done()}).next(()=>t)}addMutationBatch(e,t,o,u){const d=Fu(e),g=ku(e);return g.add({}).next(D=>{Wt("number"==typeof D);const B=new bf(D,t,o,u),z=function(pt,$t,Yt){const On=Yt.baseMutations.map(gi=>Nc(pt.re,gi)),Bn=Yt.mutations.map(gi=>Nc(pt.re,gi));return{userId:$t,batchId:Yt.batchId,localWriteTimeMs:Yt.localWriteTime.toMillis(),baseMutations:On,mutations:Bn}}(this.It,this.userId,B),oe=[];let Ne=new y((pt,$t)=>Gn(pt.canonicalString(),$t.canonicalString()));for(const pt of u){const $t=Gy(this.userId,pt.key.path,D);Ne=Ne.add(pt.key.path.popLast()),oe.push(g.put(z)),oe.push(d.put($t,Zv))}return Ne.forEach(pt=>{oe.push(this.indexManager.addToCollectionParentIndex(e,pt))}),e.addOnCommittedListener(()=>{this.In[D]=B.keys()}),mt.waitFor(oe).next(()=>B)})}lookupMutationBatch(e,t){return ku(e).get(t).next(o=>o?(Wt(o.userId===this.userId),La(this.It,o)):null)}Tn(e,t){return this.In[t]?mt.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(o=>{if(o){const u=o.keys();return this.In[t]=u,u}return null})}getNextMutationBatchAfterBatchId(e,t){const o=t+1,u=IDBKeyRange.lowerBound([this.userId,o]);let d=null;return ku(e).Z({index:"userMutationsIndex",range:u},(g,D,B)=>{D.userId===this.userId&&(Wt(D.batchId>=o),d=La(this.It,D)),B.done()}).next(()=>d)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return ku(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(u,d,g)=>{o=d.batchId,g.done()}).next(()=>o)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ku(e).W("userMutationsIndex",t).next(o=>o.map(u=>La(this.It,u)))}getAllMutationBatchesAffectingDocumentKey(e,t){const o=yf(this.userId,t.path),u=IDBKeyRange.lowerBound(o),d=[];return Fu(e).Z({range:u},(g,D,B)=>{const[z,oe,Ne]=g,pt=Ra(oe);if(z===this.userId&&t.path.isEqual(pt))return ku(e).get(Ne).next($t=>{if(!$t)throw xn();Wt($t.userId===this.userId),d.push(La(this.It,$t))});B.done()}).next(()=>d)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new y(Gn);const u=[];return t.forEach(d=>{const g=yf(this.userId,d.path),D=IDBKeyRange.lowerBound(g),B=Fu(e).Z({range:D},(z,oe,Ne)=>{const[pt,$t,Yt]=z,On=Ra($t);pt===this.userId&&d.path.isEqual(On)?o=o.add(Yt):Ne.done()});u.push(B)}),mt.waitFor(u).next(()=>this.En(e,o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,u=o.length+1,d=yf(this.userId,o),g=IDBKeyRange.lowerBound(d);let D=new y(Gn);return Fu(e).Z({range:g},(B,z,oe)=>{const[Ne,pt,$t]=B,Yt=Ra(pt);Ne===this.userId&&o.isPrefixOf(Yt)?Yt.length===u&&(D=D.add($t)):oe.done()}).next(()=>this.En(e,D))}En(e,t){const o=[],u=[];return t.forEach(d=>{u.push(ku(e).get(d).next(g=>{if(null===g)throw xn();Wt(g.userId===this.userId),o.push(La(this.It,g))}))}),mt.waitFor(u).next(()=>o)}removeMutationBatch(e,t){return r_(e.ie,this.userId,t).next(o=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),mt.forEach(o,u=>this.referenceDelegate.markPotentiallyOrphaned(e,u))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return mt.resolve();const o=IDBKeyRange.lowerBound([this.userId]),u=[];return Fu(e).Z({range:o},(d,g,D)=>{if(d[0]===this.userId){const B=Ra(d[1]);u.push(B)}else D.done()}).next(()=>{Wt(0===u.length)})})}containsKey(e,t){return Af(e,this.userId,t)}Rn(e){return Og(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Af(i,e,t){const o=yf(e,t.path),u=o[1],d=IDBKeyRange.lowerBound(o);let g=!1;return Fu(i).Z({range:d,X:!0},(D,B,z)=>{const[oe,Ne,pt]=D;oe===e&&Ne===u&&(g=!0),z.done()}).next(()=>g)}function ku(i){return xo(i,"mutations")}function Fu(i){return xo(i,"documentMutations")}function Og(i){return xo(i,"mutationQueues")}class fl{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new fl(0)}static vn(){return new fl(-1)}}class i_{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const o=new fl(t.highestTargetId);return t.highestTargetId=o.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>er.fromTimestamp(new ai(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,o){return this.Vn(e).next(u=>(u.highestListenSequenceNumber=t,o&&(u.lastRemoteSnapshotVersion=o.toTimestamp()),t>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=t),this.Sn(e,u)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(o=>(o.targetCount+=1,this.Cn(t,o),this.Sn(e,o))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Xl(e).delete(t.targetId)).next(()=>this.Vn(e)).next(o=>(Wt(o.targetCount>0),o.targetCount-=1,this.Sn(e,o)))}removeTargets(e,t,o){let u=0;const d=[];return Xl(e).Z((g,D)=>{const B=Yl(D);B.sequenceNumber<=t&&null===o.get(B.targetId)&&(u++,d.push(this.removeTargetData(e,B)))}).next(()=>mt.waitFor(d)).next(()=>u)}forEachTarget(e,t){return Xl(e).Z((o,u)=>{const d=Yl(u);t(d)})}Vn(e){return Ng(e).get("targetGlobalKey").next(t=>(Wt(null!==t),t))}Sn(e,t){return Ng(e).put("targetGlobalKey",t)}Dn(e,t){return Xl(e).put(Ag(this.It,t))}Cn(e,t){let o=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,o=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const o=So(t),u=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let d=null;return Xl(e).Z({range:u,index:"queryTargetsIndex"},(g,D,B)=>{const z=Yl(D);Xu(t,z.target)&&(d=z,B.done())}).next(()=>d)}addMatchingKeys(e,t,o){const u=[],d=Lu(e);return t.forEach(g=>{const D=Bo(g.path);u.push(d.put({targetId:o,path:D})),u.push(this.referenceDelegate.addReference(e,o,g))}),mt.waitFor(u)}removeMatchingKeys(e,t,o){const u=Lu(e);return mt.forEach(t,d=>{const g=Bo(d.path);return mt.waitFor([u.delete([o,g]),this.referenceDelegate.removeReference(e,o,d)])})}removeMatchingKeysForTargetId(e,t){const o=Lu(e),u=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(u)}getMatchingKeysForTargetId(e,t){const o=IDBKeyRange.bound([t],[t+1],!1,!0),u=Lu(e);let d=Hr();return u.Z({range:o,X:!0},(g,D,B)=>{const z=Ra(g[1]),oe=new wn(z);d=d.add(oe)}).next(()=>d)}containsKey(e,t){const o=Bo(t.path),u=IDBKeyRange.bound([o],[iu(o)],!1,!0);let d=0;return Lu(e).Z({index:"documentTargetsIndex",X:!0,range:u},([g,D],B,z)=>{0!==g&&(d++,z.done())}).next(()=>d>0)}se(e,t){return Xl(e).get(t).next(o=>o?Yl(o):null)}}function Xl(i){return xo(i,"targets")}function Ng(i){return xo(i,"targetGlobal")}function Lu(i){return xo(i,"targetDocuments")}function Mf([i,e],[t,o]){const u=Gn(i,t);return 0===u?Gn(e,o):u}class xf{constructor(e){this.xn=e,this.buffer=new y(Mf),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();Mf(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class kg{constructor(e,t,o){this.garbageCollector=e,this.asyncQueue=t,this.localStore=o,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Ht("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ge.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(o){Vs(o)?Ht("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield Ta(o)}yield t.Fn(3e5)}))}}class Rf{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(0===t)return mt.resolve(fs.at);const o=new xf(t);return this.$n.forEachTarget(e,u=>o.On(u.sequenceNumber)).next(()=>this.$n.Ln(e,u=>o.On(u))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.$n.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ht("LruGarbageCollector","Garbage collection skipped; disabled"),mt.resolve(Zd)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(Ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Zd):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let o,u,d,g,D,B,z;const oe=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Ne=>(Ne>this.params.maximumSequenceNumbersToCollect?(Ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ne}`),u=this.params.maximumSequenceNumbersToCollect):u=Ne,g=Date.now(),this.nthSequenceNumber(e,u))).next(Ne=>(o=Ne,D=Date.now(),this.removeTargets(e,o,t))).next(Ne=>(d=Ne,B=Date.now(),this.removeOrphanedDocuments(e,o))).next(Ne=>(z=Date.now(),Ws()<=_t.in.DEBUG&&Ht("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${g-oe}ms\n\tDetermined least recently used ${u} in `+(D-g)+`ms\n\tRemoved ${d} targets in `+(B-D)+`ms\n\tRemoved ${Ne} documents in `+(z-B)+`ms\nTotal Duration: ${z-oe}ms`),mt.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:d,documentsRemoved:Ne})))}}class s_{constructor(e,t){this.db=e,this.garbageCollector=new Rf(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>t.next(u=>o+u))}qn(e){let t=0;return this.Ln(e,o=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(o,u)=>t(u))}addReference(e,t,o){return Wd(e,o)}removeReference(e,t,o){return Wd(e,o)}removeTargets(e,t,o){return this.db.getTargetCache().removeTargets(e,t,o)}markPotentiallyOrphaned(e,t){return Wd(e,t)}Gn(e,t){return function(o,u){let d=!1;return Og(o).tt(g=>Af(o,g,u).next(D=>(D&&(d=!0),mt.resolve(!D)))).next(()=>d)}(e,t)}removeOrphanedDocuments(e,t){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let d=0;return this.Kn(e,(g,D)=>{if(D<=t){const B=this.Gn(e,g).next(z=>{if(!z)return d++,o.getEntry(e,g).next(()=>(o.removeEntry(g,er.min()),Lu(e).delete([0,Bo(g.path)])))});u.push(B)}}).next(()=>mt.waitFor(u)).next(()=>o.apply(e)).next(()=>d)}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,t){return Wd(e,t)}Kn(e,t){const o=Lu(e);let u,d=fs.at;return o.Z({index:"documentTargetsIndex"},([g,D],{path:B,sequenceNumber:z})=>{0===g?(d!==fs.at&&t(new wn(Ra(u)),d),d=z,u=B):d=fs.at}).next(()=>{d!==fs.at&&t(new wn(Ra(u)),d)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Wd(i,e){return Lu(i).put((o=i.currentSequenceNumber,{targetId:0,path:Bo(e.path),sequenceNumber:o}));var o}class Pf{constructor(){this.changes=new Ru(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,xi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?mt.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Fg{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,o){return pl(e).put(o)}removeEntry(e,t,o){return pl(e).delete(function(u,d){const g=u.path.toArray();return[g.slice(0,g.length-2),g[g.length-2],Lc(d),g[g.length-1]]}(t,o))}updateMetadata(e,t){return this.getMetadata(e).next(o=>(o.byteSize+=t,this.Qn(e,o)))}getEntry(e,t){let o=xi.newInvalidDocument(t);return pl(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(qd(t))},(u,d)=>{o=this.jn(t,d)}).next(()=>o)}Wn(e,t){let o={size:0,document:xi.newInvalidDocument(t)};return pl(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(qd(t))},(u,d)=>{o={document:this.jn(t,d),size:gu(d)}}).next(()=>o)}getEntries(e,t){let o=wa();return this.zn(e,t,(u,d)=>{const g=this.jn(u,d);o=o.insert(u,g)}).next(()=>o)}Hn(e,t){let o=wa(),u=new Gi(wn.comparator);return this.zn(e,t,(d,g)=>{const D=this.jn(d,g);o=o.insert(d,D),u=u.insert(d,gu(g))}).next(()=>({documents:o,Jn:u}))}zn(e,t,o){if(t.isEmpty())return mt.resolve();let u=new y(Ug);t.forEach(B=>u=u.add(B));const d=IDBKeyRange.bound(qd(u.first()),qd(u.last())),g=u.getIterator();let D=g.getNext();return pl(e).Z({index:"documentKeyIndex",range:d},(B,z,oe)=>{const Ne=wn.fromSegments([...z.prefixPath,z.collectionGroup,z.documentId]);for(;D&&Ug(D,Ne)<0;)o(D,null),D=g.getNext();D&&D.isEqual(Ne)&&(o(D,z),D=g.hasNext()?g.getNext():null),D?oe.j(qd(D)):oe.done()}).next(()=>{for(;D;)o(D,null),D=g.hasNext()?g.getNext():null})}getAllFromCollection(e,t,o){const u=[t.popLast().toArray(),t.lastSegment(),Lc(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],d=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return pl(e).W(IDBKeyRange.bound(u,d,!0)).next(g=>{let D=wa();for(const B of g){const z=this.jn(wn.fromSegments(B.prefixPath.concat(B.collectionGroup,B.documentId)),B);D=D.insert(z.key,z)}return D})}getAllFromCollectionGroup(e,t,o,u){let d=wa();const g=jc(t,o),D=jc(t,no.max());return pl(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(g,D,!0)},(B,z,oe)=>{const Ne=this.jn(wn.fromSegments(z.prefixPath.concat(z.collectionGroup,z.documentId)),z);d=d.insert(Ne.key,Ne),d.size===u&&oe.done()}).next(()=>d)}newChangeBuffer(e){return new Lg(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Of(e).get("remoteDocumentGlobalKey").next(t=>(Wt(!!t),t))}Qn(e,t){return Of(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const o=function ea(i,e){let t;if(e.document)t=mg(i.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=wn.fromSegments(e.noDocument.path),u=qs(e.noDocument.readTime);t=xi.newNoDocument(o,u),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return xn();{const o=wn.fromSegments(e.unknownDocument.path),u=qs(e.unknownDocument.version);t=xi.newUnknownDocument(o,u)}}return e.readTime&&t.setReadTime(function(o){const u=new ai(o[0],o[1]);return er.fromTimestamp(u)}(e.readTime)),t}(this.It,t);if(!o.isNoDocument()||!o.version.isEqual(er.min()))return o}return xi.newInvalidDocument(e)}}function Uu(i){return new Fg(i)}class Lg extends Pf{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Ru(o=>o.toString(),(o,u)=>o.isEqual(u))}applyChanges(e){const t=[];let o=0,u=new y((d,g)=>Gn(d.canonicalString(),g.canonicalString()));return this.changes.forEach((d,g)=>{const D=this.Xn.get(d);if(t.push(this.Yn.removeEntry(e,d,D.readTime)),g.isValidDocument()){const B=Vd(this.Yn.It,g);u=u.add(d.path.popLast()),o+=gu(B)-D.size,t.push(this.Yn.addEntry(e,d,B))}else if(o-=D.size,this.trackRemovals){const B=Vd(this.Yn.It,g.convertToNoDocument(er.min()));t.push(this.Yn.addEntry(e,d,B))}}),u.forEach(d=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,d))}),t.push(this.Yn.updateMetadata(e,o)),mt.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(o=>(this.Xn.set(t,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:o,Jn:u})=>(u.forEach((d,g)=>{this.Xn.set(d,{size:g,readTime:o.get(d).readTime})}),o))}}function Of(i){return xo(i,"remoteDocumentGlobal")}function pl(i){return xo(i,"remoteDocumentsV14")}function qd(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function jc(i,e){const t=e.documentKey.path.toArray();return[i,Lc(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Ug(i,e){const t=i.path.toArray(),o=e.path.toArray();let u=0;for(let d=0;d<t.length-2&&d<o.length-2;++d)if(u=Gn(t[d],o[d]),u)return u;return u=Gn(t.length,o.length),u||(u=Gn(t[t.length-2],o[o.length-2]),u||Gn(t[t.length-1],o[o.length-1]))}class Vg{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Nf{constructor(e,t,o,u){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,t){let o=null;return this.documentOverlayCache.getOverlay(e,t).next(u=>(o=u,this.getBaseDocument(e,t,o))).next(u=>(null!==o&&Mu(o.mutation,u,X.empty(),ai.now()),u))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.getLocalViewOfDocuments(e,o,Hr()).next(()=>o))}getLocalViewOfDocuments(e,t,o=Hr()){const u=Fa();return this.populateOverlays(e,u,t).next(()=>this.computeViews(e,t,u,o).next(d=>{let g=du();return d.forEach((D,B)=>{g=g.insert(D,B.overlayedDocument)}),g}))}getOverlayedDocuments(e,t){const o=Fa();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,Hr()))}populateOverlays(e,t,o){const u=[];return o.forEach(d=>{t.has(d)||u.push(d)}),this.documentOverlayCache.getOverlays(e,u).next(d=>{d.forEach((g,D)=>{t.set(g,D)})})}computeViews(e,t,o,u){let d=wa();const g=Wl(),D=Wl();return t.forEach((B,z)=>{const oe=o.get(z.key);u.has(z.key)&&(void 0===oe||oe.mutation instanceof Ea)?d=d.insert(z.key,z):void 0!==oe&&(g.set(z.key,oe.mutation.getFieldMask()),Mu(oe.mutation,z,oe.mutation.getFieldMask(),ai.now()))}),this.recalculateAndSaveOverlays(e,d).next(B=>(B.forEach((z,oe)=>g.set(z,oe)),t.forEach((z,oe)=>{var Ne;return D.set(z,new Vg(oe,null!==(Ne=g.get(z))&&void 0!==Ne?Ne:null))}),D))}recalculateAndSaveOverlays(e,t){const o=Wl();let u=new Gi((g,D)=>g-D),d=Hr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(g=>{for(const D of g)D.keys().forEach(B=>{const z=t.get(B);if(null===z)return;let oe=o.get(B)||X.empty();oe=D.applyToLocalView(z,oe),o.set(B,oe);const Ne=(u.get(D.batchId)||Hr()).add(B);u=u.insert(D.batchId,Ne)})}).next(()=>{const g=[],D=u.getReverseIterator();for(;D.hasNext();){const B=D.getNext(),z=B.key,oe=B.value,Ne=af();oe.forEach(pt=>{if(!d.has(pt)){const $t=zl(t.get(pt),o.get(pt));null!==$t&&Ne.set(pt,$t),d=d.add(pt)}}),g.push(this.documentOverlayCache.saveOverlays(e,z,Ne))}return mt.waitFor(g)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,t,o){return wn.isDocumentKey((u=t).path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):tl(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,o):this.getDocumentsMatchingCollectionQuery(e,t,o);var u}getNextDocuments(e,t,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,o,u).next(d=>{const g=u-d.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,o.largestBatchId,u-d.size):mt.resolve(Fa());let D=-1,B=d;return g.next(z=>mt.forEach(z,(oe,Ne)=>(D<Ne.largestBatchId&&(D=Ne.largestBatchId),d.get(oe)?mt.resolve():this.getBaseDocument(e,oe,Ne).next(pt=>{B=B.insert(oe,pt)}))).next(()=>this.populateOverlays(e,z,d)).next(()=>this.computeViews(e,B,z,Hr())).next(oe=>({batchId:D,changes:Nd(oe)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new wn(t)).next(o=>{let u=du();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,t,o){const u=t.collectionGroup;let d=du();return this.indexManager.getCollectionParents(e,u).next(g=>mt.forEach(g,D=>{const B=(z=t,oe=D.child(u),new da(oe,null,z.explicitOrderBy.slice(),z.filters.slice(),z.limit,z.limitType,z.startAt,z.endAt));var z,oe;return this.getDocumentsMatchingCollectionQuery(e,B,o).next(z=>{z.forEach((oe,Ne)=>{d=d.insert(oe,Ne)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,t,o){let u;return this.remoteDocumentCache.getAllFromCollection(e,t.path,o).next(d=>(u=d,this.documentOverlayCache.getOverlaysForCollection(e,t.path,o.largestBatchId))).next(d=>{d.forEach((D,B)=>{const z=B.getKey();null===u.get(z)&&(u=u.insert(z,xi.newInvalidDocument(z)))});let g=du();return u.forEach((D,B)=>{const z=d.get(D);void 0!==z&&Mu(z.mutation,B,X.empty(),ai.now()),Hl(t,B)&&(g=g.insert(D,B))}),g})}getBaseDocument(e,t,o){return null===o||1===o.mutation.type?this.remoteDocumentCache.getEntry(e,t):mt.resolve(xi.newInvalidDocument(t))}}class Bg{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return mt.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var o;return this.Zn.set(t.id,{id:(o=t).id,version:o.version,createTime:Mo(o.createTime)}),mt.resolve()}getNamedQuery(e,t){return mt.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(o=t).name,query:Cf(o.bundledQuery),readTime:Mo(o.readTime)}),mt.resolve();var o}}class kf{constructor(){this.overlays=new Gi(wn.comparator),this.es=new Map}getOverlay(e,t){return mt.resolve(this.overlays.get(t))}getOverlays(e,t){const o=Fa();return mt.forEach(t,u=>this.getOverlay(e,u).next(d=>{null!==d&&o.set(u,d)})).next(()=>o)}saveOverlays(e,t,o){return o.forEach((u,d)=>{this.ue(e,t,d)}),mt.resolve()}removeOverlaysForBatchId(e,t,o){const u=this.es.get(o);return void 0!==u&&(u.forEach(d=>this.overlays=this.overlays.remove(d)),this.es.delete(o)),mt.resolve()}getOverlaysForCollection(e,t,o){const u=Fa(),d=t.length+1,g=new wn(t.child("")),D=this.overlays.getIteratorFrom(g);for(;D.hasNext();){const B=D.getNext().value,z=B.getKey();if(!t.isPrefixOf(z.path))break;z.path.length===d&&B.largestBatchId>o&&u.set(B.getKey(),B)}return mt.resolve(u)}getOverlaysForCollectionGroup(e,t,o,u){let d=new Gi((z,oe)=>z-oe);const g=this.overlays.getIterator();for(;g.hasNext();){const z=g.getNext().value;if(z.getKey().getCollectionGroup()===t&&z.largestBatchId>o){let oe=d.get(z.largestBatchId);null===oe&&(oe=Fa(),d=d.insert(z.largestBatchId,oe)),oe.set(z.getKey(),z)}}const D=Fa(),B=d.getIterator();for(;B.hasNext()&&(B.getNext().value.forEach((z,oe)=>D.set(z,oe)),!(D.size()>=u)););return mt.resolve(D)}ue(e,t,o){const u=this.overlays.get(o.key);if(null!==u){const g=this.es.get(u.largestBatchId).delete(o.key);this.es.set(u.largestBatchId,g)}this.overlays=this.overlays.insert(o.key,new Ud(t,o));let d=this.es.get(t);void 0===d&&(d=Hr(),this.es.set(t,d)),this.es.set(t,d.add(o.key))}}class Kd{constructor(){this.ns=new y(so.ss),this.rs=new y(so.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const o=new so(e,t);this.ns=this.ns.add(o),this.rs=this.rs.add(o)}us(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.cs(new so(e,t))}hs(e,t){e.forEach(o=>this.removeReference(o,t))}ls(e){const t=new wn(new Pr([])),o=new so(t,e),u=new so(t,e+1),d=[];return this.rs.forEachInRange([o,u],g=>{this.cs(g),d.push(g.key)}),d}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new wn(new Pr([])),o=new so(t,e),u=new so(t,e+1);let d=Hr();return this.rs.forEachInRange([o,u],g=>{d=d.add(g.key)}),d}containsKey(e){const t=new so(e,0),o=this.ns.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class so{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return wn.comparator(e.key,t.key)||Gn(e._s,t._s)}static os(e,t){return Gn(e._s,t._s)||wn.comparator(e.key,t.key)}}class Yd{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new y(so.ss)}checkEmpty(e){return mt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,o,u){const d=this.ws;this.ws++;const g=new bf(d,t,o,u);this.mutationQueue.push(g);for(const D of u)this.gs=this.gs.add(new so(D.key,d)),this.indexManager.addToCollectionParentIndex(e,D.key.path.popLast());return mt.resolve(g)}lookupMutationBatch(e,t){return mt.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const u=this.ps(t+1),d=u<0?0:u;return mt.resolve(this.mutationQueue.length>d?this.mutationQueue[d]:null)}getHighestUnacknowledgedBatchId(){return mt.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return mt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new so(t,0),u=new so(t,Number.POSITIVE_INFINITY),d=[];return this.gs.forEachInRange([o,u],g=>{const D=this.ys(g._s);d.push(D)}),mt.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new y(Gn);return t.forEach(u=>{const d=new so(u,0),g=new so(u,Number.POSITIVE_INFINITY);this.gs.forEachInRange([d,g],D=>{o=o.add(D._s)})}),mt.resolve(this.Is(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,u=o.length+1;let d=o;wn.isDocumentKey(d)||(d=d.child(""));const g=new so(new wn(d),0);let D=new y(Gn);return this.gs.forEachWhile(B=>{const z=B.key.path;return!!o.isPrefixOf(z)&&(z.length===u&&(D=D.add(B._s)),!0)},g),mt.resolve(this.Is(D))}Is(e){const t=[];return e.forEach(o=>{const u=this.ys(o);null!==u&&t.push(u)}),t}removeMutationBatch(e,t){Wt(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let o=this.gs;return mt.forEach(t.mutations,u=>{const d=new so(u.key,t.batchId);return o=o.delete(d),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.gs=o})}An(e){}containsKey(e,t){const o=new so(t,0),u=this.gs.firstAfterOrEqual(o);return mt.resolve(t.isEqual(u&&u.key))}performConsistencyCheck(e){return mt.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class jg{constructor(e){this.Es=e,this.docs=new Gi(wn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,u=this.docs.get(o),d=u?u.size:0,g=this.Es(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:g}),this.size+=g-d,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return mt.resolve(o?o.document.mutableCopy():xi.newInvalidDocument(t))}getEntries(e,t){let o=wa();return t.forEach(u=>{const d=this.docs.get(u);o=o.insert(u,d?d.document.mutableCopy():xi.newInvalidDocument(u))}),mt.resolve(o)}getAllFromCollection(e,t,o){let u=wa();const d=new wn(t.child("")),g=this.docs.getIteratorFrom(d);for(;g.hasNext();){const{key:D,value:{document:B}}=g.getNext();if(!t.isPrefixOf(D.path))break;D.path.length>t.length+1||bu(Nl(B),o)<=0||(u=u.insert(B.key,B.mutableCopy()))}return mt.resolve(u)}getAllFromCollectionGroup(e,t,o,u){xn()}As(e,t){return mt.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new Ff(this)}getSize(e){return mt.resolve(this.size)}}class Ff extends Pf{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?t.push(this.Yn.addEntry(e,u)):this.Yn.removeEntry(o)}),mt.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class Hg{constructor(e){this.persistence=e,this.Rs=new Ru(t=>So(t),Xu),this.lastRemoteSnapshotVersion=er.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Kd,this.targetCount=0,this.vs=fl.Pn()}forEachTarget(e,t){return this.Rs.forEach((o,u)=>t(u)),mt.resolve()}getLastRemoteSnapshotVersion(e){return mt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return mt.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),mt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.bs&&(this.bs=t),mt.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new fl(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,mt.resolve()}updateTargetData(e,t){return this.Dn(t),mt.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,mt.resolve()}removeTargets(e,t,o){let u=0;const d=[];return this.Rs.forEach((g,D)=>{D.sequenceNumber<=t&&null===o.get(D.targetId)&&(this.Rs.delete(g),d.push(this.removeMatchingKeysForTargetId(e,D.targetId)),u++)}),mt.waitFor(d).next(()=>u)}getTargetCount(e){return mt.resolve(this.targetCount)}getTargetData(e,t){const o=this.Rs.get(t)||null;return mt.resolve(o)}addMatchingKeys(e,t,o){return this.Ps.us(t,o),mt.resolve()}removeMatchingKeys(e,t,o){this.Ps.hs(t,o);const u=this.persistence.referenceDelegate,d=[];return u&&t.forEach(g=>{d.push(u.markPotentiallyOrphaned(e,g))}),mt.waitFor(d)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),mt.resolve()}getMatchingKeysForTargetId(e,t){const o=this.Ps.ds(t);return mt.resolve(o)}containsKey(e,t){return mt.resolve(this.Ps.containsKey(t))}}class Qd{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new fs(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new Hg(this),this.indexManager=new Sf,this.remoteDocumentCache=new jg(o=>this.referenceDelegate.xs(o)),this.It=new Sg(t),this.Ns=new Bg(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new kf,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.Vs[e.toKey()];return o||(o=new Yd(t,this.referenceDelegate),this.Vs[e.toKey()]=o),o}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,o){Ht("MemoryPersistence","Starting transaction:",e);const u=new Hc(this.Ss.next());return this.referenceDelegate.ks(),o(u).next(d=>this.referenceDelegate.Os(u).next(()=>d)).toPromise().then(d=>(u.raiseOnCommittedEvent(),d))}Ms(e,t){return mt.or(Object.values(this.Vs).map(o=>()=>o.containsKey(e,t)))}}class Hc extends kl{constructor(e){super(),this.currentSequenceNumber=e}}class Jd{constructor(e){this.persistence=e,this.Fs=new Kd,this.$s=null}static Bs(e){return new Jd(e)}get Ls(){if(this.$s)return this.$s;throw xn()}addReference(e,t,o){return this.Fs.addReference(o,t),this.Ls.delete(o.toString()),mt.resolve()}removeReference(e,t,o){return this.Fs.removeReference(o,t),this.Ls.add(o.toString()),mt.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),mt.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(u=>this.Ls.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(u=>{u.forEach(d=>this.Ls.add(d.toString()))}).next(()=>o.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return mt.forEach(this.Ls,o=>{const u=wn.fromPath(o);return this.Us(e,u).next(d=>{d||t.removeEntry(u,er.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(o=>{o?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return mt.or([()=>mt.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class $g{constructor(e){this.It=e}$(e,t,o,u){const d=new ma("createOrUpgrade",t);var D;o<1&&u>=1&&(e.createObjectStore("owner"),(D=e).createObjectStore("mutationQueues",{keyPath:"userId"}),D.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",$y,{unique:!0}),D.createObjectStore("documentMutations"),Gg(e),function(D){D.createObjectStore("remoteDocuments")}(e));let g=mt.resolve();return o<3&&u>=3&&(0!==o&&(function(D){D.deleteObjectStore("targetDocuments"),D.deleteObjectStore("targets"),D.deleteObjectStore("targetGlobal")}(e),Gg(e)),g=g.next(()=>function(D){const B=D.store("targetGlobal"),z={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:er.min().toTimestamp(),targetCount:0};return B.put("targetGlobalKey",z)}(d))),o<4&&u>=4&&(0!==o&&(g=g.next(()=>function(D,B){return B.store("mutations").W().next(z=>{D.deleteObjectStore("mutations"),D.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",$y,{unique:!0});const oe=B.store("mutations"),Ne=z.map(pt=>oe.put(pt));return mt.waitFor(Ne)})}(e,d))),g=g.next(()=>{!function(D){D.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&u>=5&&(g=g.next(()=>this.qs(d))),o<6&&u>=6&&(g=g.next(()=>(function(D){D.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(d)))),o<7&&u>=7&&(g=g.next(()=>this.Gs(d))),o<8&&u>=8&&(g=g.next(()=>this.Qs(e,d))),o<9&&u>=9&&(g=g.next(()=>{!function(D){D.objectStoreNames.contains("remoteDocumentChanges")&&D.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&u>=10&&(g=g.next(()=>this.js(d))),o<11&&u>=11&&(g=g.next(()=>{(function(D){D.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(D){D.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&u>=12&&(g=g.next(()=>{!function(D){const B=D.createObjectStore("documentOverlays",{keyPath:Wy});B.createIndex("collectionPathOverlayIndex",qy,{unique:!1}),B.createIndex("collectionGroupOverlayIndex",Ky,{unique:!1})}(e)})),o<13&&u>=13&&(g=g.next(()=>function(D){const B=D.createObjectStore("remoteDocumentsV14",{keyPath:Wv});B.createIndex("documentKeyIndex",zy),B.createIndex("collectionGroupIndex",wg)}(e)).next(()=>this.Ws(e,d)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&u>=14&&(g=g.next(()=>this.zs(e,d))),o<15&&u>=15&&(g=g.next(()=>function(D){D.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),D.createObjectStore("indexState",{keyPath:vf}).createIndex("sequenceNumberIndex",Zy,{unique:!1}),D.createObjectStore("indexEntries",{keyPath:Ef}).createIndex("documentKeyIndex",kc,{unique:!1})}(e))),g}Ks(e){let t=0;return e.store("remoteDocuments").Z((o,u)=>{t+=gu(u)}).next(()=>{const o={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}qs(e){const t=e.store("mutationQueues"),o=e.store("mutations");return t.W().next(u=>mt.forEach(u,d=>{const g=IDBKeyRange.bound([d.userId,-1],[d.userId,d.lastAcknowledgedBatchId]);return o.W("userMutationsIndex",g).next(D=>mt.forEach(D,B=>{Wt(B.userId===d.userId);const z=La(this.It,B);return r_(e,d.userId,z).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(u=>{const d=[];return o.Z((g,D)=>{const B=new Pr(g),z=[0,Bo(B)];d.push(t.get(z).next(oe=>oe?mt.resolve():t.put({targetId:0,path:Bo(B),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>mt.waitFor(d))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:Cg});const o=t.store("collectionParents"),u=new Vc,d=g=>{if(u.add(g)){const D=g.lastSegment(),B=g.popLast();return o.put({collectionId:D,parent:Bo(B)})}};return t.store("remoteDocuments").Z({X:!0},(g,D)=>{const B=new Pr(g);return d(B.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([g,D,B],z)=>{const oe=Ra(D);return d(oe.popLast())}))}js(e){const t=e.store("targets");return t.Z((o,u)=>{const d=Yl(u),g=Ag(this.It,d);return t.put(g)})}Ws(e,t){const o=t.store("remoteDocuments"),u=[];return o.Z((d,g)=>{const D=t.store("remoteDocumentsV14"),B=(z=g,z.document?new wn(Pr.fromString(z.document.name).popFirst(5)):z.noDocument?wn.fromSegments(z.noDocument.path):z.unknownDocument?wn.fromSegments(z.unknownDocument.path):xn()).path.toArray();var z;const oe={prefixPath:B.slice(0,B.length-2),collectionGroup:B[B.length-2],documentId:B[B.length-1],readTime:g.readTime||[0,0],unknownDocument:g.unknownDocument,noDocument:g.noDocument,document:g.document,hasCommittedMutations:!!g.hasCommittedMutations};u.push(D.put(oe))}).next(()=>mt.waitFor(u))}zs(e,t){const o=t.store("mutations"),u=Uu(this.It),d=new Qd(Jd.Bs,this.It.re);return o.W().next(g=>{const D=new Map;return g.forEach(B=>{var z;let oe=null!==(z=D.get(B.userId))&&void 0!==z?z:Hr();La(this.It,B).keys().forEach(Ne=>oe=oe.add(Ne)),D.set(B.userId,oe)}),mt.forEach(D,(B,z)=>{const oe=new Zr(z),Ne=jd.oe(this.It,oe),pt=d.getIndexManager(oe),$t=Jl.oe(oe,this.It,pt,d.referenceDelegate);return new Nf(u,$t,Ne,pt).recalculateAndSaveOverlaysForDocumentKeys(new Fc(t,fs.at),B).next()})})}}function Gg(i){i.createObjectStore("targetDocuments",{keyPath:bg}).createIndex("documentTargetsIndex",Ig,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",_f,{unique:!0}),i.createObjectStore("targetGlobal")}const Lf="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Xd{constructor(e,t,o,u,d,g,D,B,z,oe,Ne=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=o,this.Hs=d,this.window=g,this.document=D,this.Js=z,this.Ys=oe,this.Xs=Ne,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=pt=>Promise.resolve(),!Xd.C())throw new kt(at.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new s_(this,u),this.ii=t+"main",this.It=new Sg(B),this.ri=new To(this.ii,this.Xs,new $g(this.It)),this.Cs=new i_(this.referenceDelegate,this.It),this.remoteDocumentCache=Uu(this.It),this.Ns=new Jy,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===oe&&ui("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new kt(at.FAILED_PRECONDITION,Lf);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new fs(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var o=(0,ge.Z)(function*(u){if(t.started)return e(u)});return function(u){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,ge.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,ge.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>$c(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Vs(e))return Ht("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ht("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return gl(e).get("owner").next(t=>mt.resolve(this.mi(t)))}gi(e){return $c(e).delete(this.clientId)}yi(){var e=this;return(0,ge.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const u=xo(o,"clientMetadata");return u.W().next(d=>{const g=e.Ii(d,18e5),D=d.filter(B=>-1===g.indexOf(B));return mt.forEach(D,B=>u.delete(B.clientId)).next(()=>D)})}).catch(()=>[]);if(e.oi)for(const o of t)e.oi.removeItem(e.Ti(o.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?mt.resolve(!0):gl(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new kt(at.FAILED_PRECONDITION,Lf);return!1}}return!(!this.networkEnabled||!this.inForeground)||$c(e).W().next(o=>void 0===this.Ii(o,5e3).find(u=>{if(this.clientId!==u.clientId){const g=!this.inForeground&&u.inForeground,D=this.networkEnabled===u.networkEnabled;if(!this.networkEnabled&&u.networkEnabled||g&&D)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ht("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ge.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const o=new Fc(t,fs.at);return e._i(o).next(()=>e.gi(o))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(o=>this.pi(o.updateTimeMs,t)&&!this.Ei(o.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>$c(e).W().next(t=>this.Ii(t,18e5).map(o=>o.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return Jl.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Rg(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return jd.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,o){Ht("IndexedDbPersistence","Starting transaction:",e);const u="readonly"===t?"readonly":"readwrite",d=15===(g=this.Xs)?Qy:14===g?Tg:13===g?Dg:12===g?Yy:11===g?wf:void xn();var g;let D;return this.ri.runTransaction(e,u,d,B=>(D=new Fc(B,this.Ss?this.Ss.next():fs.at),"readwrite-primary"===t?this.fi(D).next(z=>!!z||this.di(D)).next(z=>{if(!z)throw ui(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new kt(at.FAILED_PRECONDITION,la);return o(D)}).next(z=>this.wi(D).next(()=>z)):this.Vi(D).next(()=>o(D)))).then(B=>(D.raiseOnCommittedEvent(),B))}Vi(e){return gl(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new kt(at.FAILED_PRECONDITION,Lf)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return gl(e).put("owner",t)}static C(){return To.C()}_i(e){const t=gl(e);return t.get("owner").next(o=>this.mi(o)?(Ht("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):mt.resolve())}pi(e,t){const o=Date.now();return!(e<o-t||e>o&&(ui(`Detected an update time that is in the future: ${e} > ${o}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,Re.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const o=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Ht("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return ui("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){ui("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function gl(i){return xo(i,"owner")}function $c(i){return xo(i,"clientMetadata")}function zg(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class eh{constructor(e,t,o,u){this.targetId=e,this.fromCache=t,this.Si=o,this.Di=u}static Ci(e,t){let o=Hr(),u=Hr();for(const d of t.docChanges)switch(d.type){case 0:o=o.add(d.doc.key);break;case 1:u=u.add(d.doc.key)}return new eh(e,t.fromCache,o,u)}}class Zg{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,o,u){return this.ki(e,t).next(d=>d||this.Oi(e,t,u,o)).next(d=>d||this.Mi(e,t))}ki(e,t){if(Ac(t))return mt.resolve(null);let o=Ao(t);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==t.limit&&1===u&&(t=jl(t,null,"F"),o=Ao(t)),this.indexManager.getDocumentsMatchingTarget(e,o).next(d=>{const g=Hr(...d);return this.Ni.getDocuments(e,g).next(D=>this.indexManager.getMinOffset(e,o).next(B=>{const z=this.Fi(t,D);return this.$i(t,z,g,B.readTime)?this.ki(e,jl(t,null,"F")):this.Bi(e,z,t,B)}))})))}Oi(e,t,o,u){return Ac(t)||u.isEqual(er.min())?this.Mi(e,t):this.Ni.getDocuments(e,o).next(d=>{const g=this.Fi(t,d);return this.$i(t,g,o,u)?this.Mi(e,t):(Ws()<=_t.in.DEBUG&&Ht("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),qa(t)),this.Bi(e,g,t,ou(u,-1)))})}Fi(e,t){let o=new y(ef(e));return t.forEach((u,d)=>{Hl(e,d)&&(o=o.add(d))}),o}$i(e,t,o,u){if(null===e.limit)return!1;if(o.size!==t.size)return!0;const d="F"===e.limitType?t.last():t.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(u)>0)}Mi(e,t){return Ws()<=_t.in.DEBUG&&Ht("QueryEngine","Using full collection scan to execute query:",qa(t)),this.Ni.getDocumentsMatchingQuery(e,t,no.min())}Bi(e,t,o,u){return this.Ni.getDocumentsMatchingQuery(e,o,u).next(d=>(t.forEach(g=>{d=d.insert(g.key,g)}),d))}}class Wg{constructor(e,t,o,u){this.persistence=e,this.Li=t,this.It=u,this.Ui=new Gi(Gn),this.qi=new Ru(d=>So(d),Xu),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(o)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Nf(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function qg(i,e,t,o){return new Wg(i,e,t,o)}function Kg(i,e){return ba.apply(this,arguments)}function ba(){return ba=(0,ge.Z)(function*(i,e){const t=Nt(i);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let u;return t.mutationQueue.getAllMutationBatches(o).next(d=>(u=d,t.Qi(e),t.mutationQueue.getAllMutationBatches(o))).next(d=>{const g=[],D=[];let B=Hr();for(const z of u){g.push(z.batchId);for(const oe of z.mutations)B=B.add(oe.key)}for(const z of d){D.push(z.batchId);for(const oe of z.mutations)B=B.add(oe.key)}return t.localDocuments.getDocuments(o,B).next(z=>({ji:z,removedBatchIds:g,addedBatchIds:D}))})})}),ba.apply(this,arguments)}function o_(i,e){const t=Nt(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),d=t.Gi.newChangeBuffer({trackRemovals:!0});return function(g,D,B,z){const oe=B.batch,Ne=oe.keys();let pt=mt.resolve();return Ne.forEach($t=>{pt=pt.next(()=>z.getEntry(D,$t)).next(Yt=>{const On=B.docVersions.get($t);Wt(null!==On),Yt.version.compareTo(On)<0&&(oe.applyToRemoteDocument(Yt,B),Yt.isValidDocument()&&(Yt.setReadTime(B.commitVersion),z.addEntry(Yt)))})}),pt.next(()=>g.mutationQueue.removeMutationBatch(D,oe))}(t,o,e,d).next(()=>d.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(g){let D=Hr();for(let B=0;B<g.mutationResults.length;++B)g.mutationResults[B].transformResults.length>0&&(D=D.add(g.batch.mutations[B].key));return D}(e))).next(()=>t.localDocuments.getDocuments(o,u))})}function Uf(i){const e=Nt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function a_(i,e){const t=Nt(i),o=e.snapshotVersion;let u=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const g=t.Gi.newChangeBuffer({trackRemovals:!0});u=t.Ui;const D=[];e.targetChanges.forEach((oe,Ne)=>{const pt=u.get(Ne);if(!pt)return;D.push(t.Cs.removeMatchingKeys(d,oe.removedDocuments,Ne).next(()=>t.Cs.addMatchingKeys(d,oe.addedDocuments,Ne)));let $t=pt.withSequenceNumber(d.currentSequenceNumber);var Yt,On,Bn;e.targetMismatches.has(Ne)?$t=$t.withResumeToken(Ie.EMPTY_BYTE_STRING,er.min()).withLastLimboFreeSnapshotVersion(er.min()):oe.resumeToken.approximateByteSize()>0&&($t=$t.withResumeToken(oe.resumeToken,o)),u=u.insert(Ne,$t),On=$t,Bn=oe,(0===(Yt=pt).resumeToken.approximateByteSize()||On.snapshotVersion.toMicroseconds()-Yt.snapshotVersion.toMicroseconds()>=3e8||Bn.addedDocuments.size+Bn.modifiedDocuments.size+Bn.removedDocuments.size>0)&&D.push(t.Cs.updateTargetData(d,$t))});let B=wa(),z=Hr();if(e.documentUpdates.forEach(oe=>{e.resolvedLimboDocuments.has(oe)&&D.push(t.persistence.referenceDelegate.updateLimboDocument(d,oe))}),D.push(Yg(d,g,e.documentUpdates).next(oe=>{B=oe.Wi,z=oe.zi})),!o.isEqual(er.min())){const oe=t.Cs.getLastRemoteSnapshotVersion(d).next(Ne=>t.Cs.setTargetsMetadata(d,d.currentSequenceNumber,o));D.push(oe)}return mt.waitFor(D).next(()=>g.apply(d)).next(()=>t.localDocuments.getLocalViewOfDocuments(d,B,z)).next(()=>B)}).then(d=>(t.Ui=u,d))}function Yg(i,e,t){let o=Hr(),u=Hr();return t.forEach(d=>o=o.add(d)),e.getEntries(i,o).next(d=>{let g=wa();return t.forEach((D,B)=>{const z=d.get(D);B.isFoundDocument()!==z.isFoundDocument()&&(u=u.add(D)),B.isNoDocument()&&B.version.isEqual(er.min())?(e.removeEntry(D,B.readTime),g=g.insert(D,B)):!z.isValidDocument()||B.version.compareTo(z.version)>0||0===B.version.compareTo(z.version)&&z.hasPendingWrites?(e.addEntry(B),g=g.insert(D,B)):Ht("LocalStore","Ignoring outdated watch update for ",D,". Current version:",z.version," Watch version:",B.version)}),{Wi:g,zi:u}})}function u_(i,e){const t=Nt(i);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function ec(i,e){const t=Nt(i);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return t.Cs.getTargetData(o,e).next(d=>d?(u=d,mt.resolve(u)):t.Cs.allocateTargetId(o).next(g=>(u=new Ou(e,g,0,o.currentSequenceNumber),t.Cs.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=t.Ui.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(o.targetId,o),t.qi.set(e,o.targetId)),o})}function ml(i,e,t){return Vf.apply(this,arguments)}function Vf(){return Vf=(0,ge.Z)(function*(i,e,t){const o=Nt(i),u=o.Ui.get(e),d=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",d,g=>o.persistence.referenceDelegate.removeTarget(g,u)))}catch(g){if(!Vs(g))throw g;Ht("LocalStore",`Failed to update sequence numbers for target ${e}: ${g}`)}o.Ui=o.Ui.remove(e),o.qi.delete(u.target)}),Vf.apply(this,arguments)}function th(i,e,t){const o=Nt(i);let u=er.min(),d=Hr();return o.persistence.runTransaction("Execute query","readonly",g=>function(D,B,z){const oe=Nt(D),Ne=oe.qi.get(z);return void 0!==Ne?mt.resolve(oe.Ui.get(Ne)):oe.Cs.getTargetData(B,z)}(o,g,Ao(e)).next(D=>{if(D)return u=D.lastLimboFreeSnapshotVersion,o.Cs.getMatchingKeysForTargetId(g,D.targetId).next(B=>{d=B})}).next(()=>o.Li.getDocumentsMatchingQuery(g,e,t?u:er.min(),t?d:Hr())).next(D=>(Bf(o,Xh(e),D),{documents:D,Hi:d})))}function Qg(i,e){const t=Nt(i),o=Nt(t.Cs),u=t.Ui.get(e);return u?Promise.resolve(u.target):t.persistence.runTransaction("Get target data","readonly",d=>o.se(d,e).next(g=>g?g.target:null))}function kr(i,e){const t=Nt(i),o=t.Ki.get(e)||er.min();return t.persistence.runTransaction("Get new document changes","readonly",u=>t.Gi.getAllFromCollectionGroup(u,e,ou(o,-1),Number.MAX_SAFE_INTEGER)).then(u=>(Bf(t,e,u),u))}function Bf(i,e,t){let o=i.Ki.get(e)||er.min();t.forEach((u,d)=>{d.readTime.compareTo(o)>0&&(o=d.readTime)}),i.Ki.set(e,o)}function nh(){return nh=(0,ge.Z)(function*(i,e,t,o){const u=Nt(i);let d=Hr(),g=wa();for(const z of t){const oe=e.Ji(z.metadata.name);z.document&&(d=d.add(oe));const Ne=e.Yi(z);Ne.setReadTime(e.Xi(z.metadata.readTime)),g=g.insert(oe,Ne)}const D=u.Gi.newChangeBuffer({trackRemovals:!0}),B=yield ec(u,(z=o,Ao(lu(Pr.fromString(`__bundle__/docs/${z}`)))));var z;return u.persistence.runTransaction("Apply bundle documents","readwrite",z=>Yg(z,D,g).next(oe=>(D.apply(z),oe)).next(oe=>u.Cs.removeMatchingKeysForTargetId(z,B.targetId).next(()=>u.Cs.addMatchingKeys(z,d,B.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(z,oe.Wi,oe.zi)).next(()=>oe.Wi)))}),nh.apply(this,arguments)}function l_(i,e){return jf.apply(this,arguments)}function jf(){return jf=(0,ge.Z)(function*(i,e,t=Hr()){const o=yield ec(i,Ao(Cf(e.bundledQuery))),u=Nt(i);return u.persistence.runTransaction("Save named query","readwrite",d=>{const g=Mo(e.readTime);if(o.snapshotVersion.compareTo(g)>=0)return u.Ns.saveNamedQuery(d,e);const D=o.withResumeToken(Ie.EMPTY_BYTE_STRING,g);return u.Ui=u.Ui.insert(D.targetId,D),u.Cs.updateTargetData(d,D).next(()=>u.Cs.removeMatchingKeysForTargetId(d,o.targetId)).next(()=>u.Cs.addMatchingKeys(d,t,o.targetId)).next(()=>u.Ns.saveNamedQuery(d,e))})}),jf.apply(this,arguments)}function Hf(i,e){return`firestore_clients_${i}_${e}`}function Xg(i,e,t){let o=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function rh(i,e){return`firestore_targets_${i}_${e}`}class ih{constructor(e,t,o,u){this.user=e,this.batchId=t,this.state=o,this.error=u}static Zi(e,t,o){const u=JSON.parse(o);let d,g="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return g&&u.error&&(g="string"==typeof u.error.message&&"string"==typeof u.error.code,g&&(d=new kt(u.error.code,u.error.message))),g?new ih(e,t,u.state,d):(ui("SharedClientState",`Failed to parse mutation state for ID '${t}': ${o}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Gc{constructor(e,t,o){this.targetId=e,this.state=t,this.error=o}static Zi(e,t){const o=JSON.parse(t);let u,d="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return d&&o.error&&(d="string"==typeof o.error.message&&"string"==typeof o.error.code,d&&(u=new kt(o.error.code,o.error.message))),d?new Gc(e,o.state,u):(ui("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class $f{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const o=JSON.parse(t);let u="object"==typeof o&&o.activeTargetIds instanceof Array,d=lf();for(let g=0;u&&g<o.activeTargetIds.length;++g)u=ya(o.activeTargetIds[g]),d=d.add(o.activeTargetIds[g]);return u?new $f(e,d):(ui("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class sh{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new sh(t.clientId,t.onlineState):(ui("SharedClientState",`Failed to parse online state: ${e}`),null)}}class oh{constructor(){this.activeTargetIds=lf()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mu{constructor(e,t,o,u,d){this.window=e,this.Hs=t,this.persistenceKey=o,this.sr=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Gi(Gn),this.started=!1,this.cr=[];const g=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=d,this.ar=Hf(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new oh),this.lr=new RegExp(`^firestore_clients_${g}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${g}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${g}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(D){return`firestore_bundle_loaded_v2_${D}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ge.Z)(function*(){const t=yield e.syncEngine.vi();for(const u of t){if(u===e.sr)continue;const d=e.getItem(Hf(e.persistenceKey,u));if(d){const g=$f.Zi(u,d);g&&(e.ur=e.ur.insert(g.clientId,g))}}e.gr();const o=e.storage.getItem(e.wr);if(o){const u=e.yr(o);u&&e.pr(u)}for(const u of e.cr)e.rr(u);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((o,u)=>{u.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,o){this.Tr(e,t,o),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(rh(this.persistenceKey,e));if(o){const u=Gc.Zi(e,o);u&&(t=u.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(rh(this.persistenceKey,e))}updateQueryState(e,t,o){this.Rr(e,t,o)}handleUserChange(e,t,o){t.forEach(u=>{this.Er(u)}),this.currentUser=e,o.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ht("SharedClientState","READ",e,t),t}setItem(e,t){Ht("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ht("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const o=e;if(o.storageArea===this.storage){if(Ht("SharedClientState","EVENT",o.key,o.newValue),o.key===this.ar)return void ui("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,ge.Z)(function*(){if(t.started){if(null!==o.key)if(t.lr.test(o.key)){if(null==o.newValue){const u=t.vr(o.key);return t.Vr(u,null)}{const u=t.Sr(o.key,o.newValue);if(u)return t.Vr(u.clientId,u)}}else if(t.dr.test(o.key)){if(null!==o.newValue){const u=t.Dr(o.key,o.newValue);if(u)return t.Cr(u)}}else if(t._r.test(o.key)){if(null!==o.newValue){const u=t.Nr(o.key,o.newValue);if(u)return t.kr(u)}}else if(o.key===t.wr){if(null!==o.newValue){const u=t.yr(o.newValue);if(u)return t.pr(u)}}else if(o.key===t.hr){const u=function(d){let g=fs.at;if(null!=d)try{const D=JSON.parse(d);Wt("number"==typeof D),g=D}catch(D){ui("SharedClientState","Failed to read sequence number from WebStorage",D)}return g}(o.newValue);u!==fs.at&&t.sequenceNumberHandler(u)}else if(o.key===t.mr){const u=t.Or(o.newValue);yield Promise.all(u.map(d=>t.syncEngine.Mr(d)))}}else t.cr.push(o)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,o){const u=new ih(this.currentUser,e,t,o),d=Xg(this.persistenceKey,this.currentUser,e);this.setItem(d,u.tr())}Er(e){const t=Xg(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,o){const u=rh(this.persistenceKey,e),d=new Gc(e,t,o);this.setItem(u,d.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const o=this.vr(e);return $f.Zi(o,t)}Dr(e,t){const o=this.dr.exec(e),u=Number(o[1]);return ih.Zi(new Zr(void 0!==o[2]?o[2]:null),u,t)}Nr(e,t){const o=this._r.exec(e),u=Number(o[1]);return Gc.Zi(u,t)}yr(e){return sh.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,ge.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Ht("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const o=t?this.ur.insert(e,t):this.ur.remove(e),u=this.Ir(this.ur),d=this.Ir(o),g=[],D=[];return d.forEach(B=>{u.has(B)||g.push(B)}),u.forEach(B=>{d.has(B)||D.push(B)}),this.syncEngine.Br(g,D).then(()=>{this.ur=o})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=lf();return e.forEach((o,u)=>{t=t.unionWith(u.activeTargetIds)}),t}}class em{constructor(){this.Lr=new oh,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,o){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new oh,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Gf{qr(e){}shutdown(){}}class ah{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Ht("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Ht("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const c_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qv{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class Kv extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,o,u,d){const g=this.ho(e,t);Ht("RestConnection","Sending: ",g,o);const D={};return this.lo(D,u,d),this.fo(e,g,D,o).then(B=>(Ht("RestConnection","Received: ",B),B),B=>{throw li("RestConnection",`${e} failed with error: `,B,"url: ",g,"request:",o),B})}_o(e,t,o,u,d,g){return this.ao(e,t,o,u,d)}lo(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+Vi,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((u,d)=>e[d]=u),o&&o.headers.forEach((u,d)=>e[d]=u)}ho(e,t){return`${this.oo}/v1/${t}:${c_[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,o,u){return new Promise((d,g)=>{const D=new Ur;D.setWithCredentials(!0),D.listenOnce(ar.COMPLETE,()=>{try{switch(D.getLastErrorCode()){case Zn.NO_ERROR:const z=D.getResponseJson();Ht("Connection","XHR received:",JSON.stringify(z)),d(z);break;case Zn.TIMEOUT:Ht("Connection",'RPC "'+e+'" timed out'),g(new kt(at.DEADLINE_EXCEEDED,"Request time out"));break;case Zn.HTTP_ERROR:const oe=D.getStatus();if(Ht("Connection",'RPC "'+e+'" failed with status:',oe,"response text:",D.getResponseText()),oe>0){const Ne=D.getResponseJson().error;if(Ne&&Ne.status&&Ne.message){const pt=function($t){const Yt=$t.toLowerCase().replace(/_/g,"-");return Object.values(at).indexOf(Yt)>=0?Yt:at.UNKNOWN}(Ne.status);g(new kt(pt,Ne.message))}else g(new kt(at.UNKNOWN,"Server responded with status "+D.getStatus()))}else g(new kt(at.UNAVAILABLE,"Connection failed."));break;default:xn()}}finally{Ht("Connection",'RPC "'+e+'" completed.')}});const B=JSON.stringify(u);D.send(t,"POST",B,o,15)})}wo(e,t,o){const u=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Rr(),g=Cr(),D={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(D.xmlHttpFactory=new Ki({})),this.lo(D.initMessageHeaders,t,o),D.encodeInitMessageHeaders=!0;const B=u.join("");Ht("Connection","Creating WebChannel: "+B,D);const z=d.createWebChannel(B,D);let oe=!1,Ne=!1;const pt=new qv({Hr:Yt=>{Ne?Ht("Connection","Not sending because WebChannel is closed:",Yt):(oe||(Ht("Connection","Opening WebChannel transport."),z.open(),oe=!0),Ht("Connection","WebChannel sending:",Yt),z.send(Yt))},Jr:()=>z.close()}),$t=(Yt,On,Bn)=>{Yt.listen(On,gi=>{try{Bn(gi)}catch(is){setTimeout(()=>{throw is},0)}})};return $t(z,ns.EventType.OPEN,()=>{Ne||Ht("Connection","WebChannel transport opened.")}),$t(z,ns.EventType.CLOSE,()=>{Ne||(Ne=!0,Ht("Connection","WebChannel transport closed"),pt.io())}),$t(z,ns.EventType.ERROR,Yt=>{Ne||(Ne=!0,li("Connection","WebChannel transport errored:",Yt),pt.io(new kt(at.UNAVAILABLE,"The operation could not be completed")))}),$t(z,ns.EventType.MESSAGE,Yt=>{var On;if(!Ne){const Bn=Yt.data[0];Wt(!!Bn);const gi=Bn,is=gi.error||(null===(On=gi[0])||void 0===On?void 0:On.error);if(is){Ht("Connection","WebChannel received error:",is);const fi=is.status;let Hs=function(mi){const wo=io[mi];if(void 0!==wo)return cg(wo)}(fi),pi=is.message;void 0===Hs&&(Hs=at.INTERNAL,pi="Unknown error status: "+fi+" with message "+is.message),Ne=!0,pt.io(new kt(Hs,pi)),z.close()}else Ht("Connection","WebChannel received:",Bn),pt.ro(Bn)}}),$t(g,Jr.STAT_EVENT,Yt=>{Yt.stat===Xr.PROXY?Ht("Connection","Detected buffering proxy"):Yt.stat===Xr.NOPROXY&&Ht("Connection","Detected no buffering proxy")}),setTimeout(()=>{pt.so()},0),pt}}function d_(){return typeof window<"u"?window:null}function uh(){return typeof document<"u"?document:null}function tc(i){return new il(i,!0)}class tm{constructor(e,t,o=1e3,u=1.5,d=6e4){this.Hs=e,this.timerId=t,this.mo=o,this.yo=u,this.po=d,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),o=Math.max(0,Date.now()-this.Eo),u=Math.max(0,t-o);u>0&&Ht("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,u,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class nm{constructor(e,t,o,u,d,g,D,B){this.Hs=e,this.vo=o,this.Vo=u,this.So=d,this.authCredentialsProvider=g,this.appCheckCredentialsProvider=D,this.listener=B,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new tm(e,t)}ko(){return 1===this.state||5===this.state||this.Oo()}Oo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,ge.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Oo()&&null===this.Co&&(this.Co=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,ge.Z)(function*(){if(e.Oo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,t){var o=this;return(0,ge.Z)(function*(){o.Uo(),o.qo(),o.No.cancel(),o.Do++,4!==e?o.No.reset():t&&t.code===at.RESOURCE_EXHAUSTED?(ui(t.toString()),ui("Using maximum backoff delay to prevent overloading the backend."),o.No.Ao()):t&&t.code===at.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Ko(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Zr(t)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.Do===t&&this.Qo(o,u)},o=>{e(()=>{const u=new kt(at.UNKNOWN,"Fetching auth token failed: "+o.message);return this.jo(u)})})}Qo(e,t){const o=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Yr(()=>{o(()=>(this.state=2,this.xo=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.Oo()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(u=>{o(()=>this.jo(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}Mo(){var e=this;this.state=5,this.No.Ro((0,ge.Z)(function*(){e.state=0,e.start()}))}jo(e){return Ht("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Hs.enqueueAndForget(()=>this.Do===e?t():(Ht("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class nc extends nm{constructor(e,t,o,u,d,g){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,u,g),this.It=d}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=function $v(i,e){let t;if("targetChange"in e){const o="NO_CHANGE"===(B=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===B?1:"REMOVE"===B?2:"CURRENT"===B?3:"RESET"===B?4:xn(),u=e.targetChange.targetIds||[],d=function(B,z){return B.gt?(Wt(void 0===z||"string"==typeof z),Ie.fromBase64String(z||"")):(Wt(void 0===z||z instanceof Uint8Array),Ie.fromUint8Array(z||new Uint8Array))}(i,e.targetChange.resumeToken),g=e.targetChange.cause,D=g&&function(B){const z=void 0===B.code?at.UNKNOWN:cg(B.code);return new kt(z,B.message||"")}(g);t=new Pu(o,u,d,D||null)}else if("documentChange"in e){const o=e.documentChange,u=Ka(i,o.document.name),d=Mo(o.document.updateTime),g=new Mi({mapValue:{fields:o.document.fields}}),D=xi.newFoundDocument(u,d,g);t=new Rc(o.targetIds||[],o.removedTargetIds||[],D.key,D)}else if("documentDelete"in e){const o=e.documentDelete,u=Ka(i,o.document),d=o.readTime?Mo(o.readTime):er.min(),g=xi.newNoDocument(u,d);t=new Rc([],o.removedTargetIds||[],g.key,g)}else if("documentRemove"in e){const o=e.documentRemove,u=Ka(i,o.document);t=new Rc([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return xn();{const o=e.filter,d=new sf(o.count||0);t=new cf(o.targetId,d)}}var B;return t}(this.It,e),o=function(u){if(!("targetChange"in u))return er.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?er.min():d.readTime?Mo(d.readTime):er.min()}(e);return this.listener.zo(t,o)}Ho(e){const t={};t.database=ol(this.It),t.addTarget=function(u,d){let g;const D=d.target;return g=el(D)?{documents:ul(u,D)}:{query:ll(u,D)},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0?g.resumeToken=Fd(u,d.resumeToken):d.snapshotVersion.compareTo(er.min())>0&&(g.readTime=ql(u,d.snapshotVersion.toTimestamp())),g}(this.It,e);const o=function Gv(i,e){const t=function(o,u){switch(u){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return xn()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Lo(t)}Jo(e){const t={};t.database=ol(this.It),t.removeTarget=e,this.Lo(t)}}class h_ extends nm{constructor(e,t,o,u,d,g){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,u,g),this.It=d,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(Wt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=function Uy(i,e){return i&&i.length>0?(Wt(void 0!==e),i.map(t=>function(o,u){let d=Mo(o.updateTime?o.updateTime:u);return d.isEqual(er.min())&&(d=Mo(u)),new ha(d,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=Mo(e.commitTime);return this.listener.tu(o,t)}return Wt(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=ol(this.It),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>Nc(this.It,o))};this.Lo(t)}}class rm extends class{}{constructor(e,t,o,u){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=o,this.It=u,this.su=!1}iu(){if(this.su)throw new kt(at.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,o){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.So.ao(e,t,o,u,d)).catch(u=>{throw"FirebaseError"===u.name?(u.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new kt(at.UNKNOWN,u.toString())})}_o(e,t,o,u){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.So._o(e,t,o,d,g,u)).catch(d=>{throw"FirebaseError"===d.name?(d.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new kt(at.UNKNOWN,d.toString())})}terminate(){this.su=!0}}class im{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}cu(){0===this.ru&&(this.au("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.au("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.au("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.au("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.au(e)}au(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(ui(t),this.uu=!1):Ht("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class f_{constructor(e,t,o,u,d){var g=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=d,this.gu.qr(D=>{o.enqueueAndForget((0,ge.Z)(function*(){var B;Ua(g)&&(Ht("RemoteStore","Restarting streams for network reachability change."),yield(B=(0,ge.Z)(function*(z){const oe=Nt(z);oe.wu.add(4),yield rc(oe),oe.yu.set("Unknown"),oe.wu.delete(4),yield zc(oe)}),function(z){return B.apply(this,arguments)})(g))}))}),this.yu=new im(o,u)}}function zc(i){return Zf.apply(this,arguments)}function Zf(){return Zf=(0,ge.Z)(function*(i){if(Ua(i))for(const e of i.mu)yield e(!0)}),Zf.apply(this,arguments)}function rc(i){return Wf.apply(this,arguments)}function Wf(){return Wf=(0,ge.Z)(function*(i){for(const e of i.mu)yield e(!1)}),Wf.apply(this,arguments)}function Zc(i,e){const t=Nt(i);t._u.has(e.targetId)||(t._u.set(e.targetId,e),sm(t)?qc(t):Xc(t).Oo()&&ch(t,e))}function Wc(i,e){const t=Nt(i),o=Xc(t);t._u.delete(e),o.Oo()&&qf(t,e),0===t._u.size&&(o.Oo()?o.$o():Ua(t)&&t.yu.set("Unknown"))}function ch(i,e){i.pu.Mt(e.targetId),Xc(i).Ho(e)}function qf(i,e){i.pu.Mt(e),Xc(i).Jo(e)}function qc(i){i.pu=new df({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),se:e=>i._u.get(e)||null}),Xc(i).start(),i.yu.cu()}function sm(i){return Ua(i)&&!Xc(i).ko()&&i._u.size>0}function Ua(i){return 0===Nt(i).wu.size}function om(i){i.pu=void 0}function Yv(i){return Vu.apply(this,arguments)}function Vu(){return Vu=(0,ge.Z)(function*(i){i._u.forEach((e,t)=>{ch(i,e)})}),Vu.apply(this,arguments)}function am(i,e){return dh.apply(this,arguments)}function dh(){return dh=(0,ge.Z)(function*(i,e){om(i),sm(i)?(i.yu.lu(e),qc(i)):i.yu.set("Unknown")}),dh.apply(this,arguments)}function hh(i,e,t){return Ia.apply(this,arguments)}function Ia(){return Ia=(0,ge.Z)(function*(i,e,t){if(i.yu.set("Online"),e instanceof Pu&&2===e.state&&e.cause)try{yield(o=(0,ge.Z)(function*(u,d){const g=d.cause;for(const D of d.targetIds)u._u.has(D)&&(yield u.remoteSyncer.rejectListen(D,g),u._u.delete(D),u.pu.removeTarget(D))}),function(u,d){return o.apply(this,arguments)})(i,e)}catch(o){Ht("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Kc(i,o)}else if(e instanceof Rc?i.pu.Gt(e):e instanceof cf?i.pu.Yt(e):i.pu.Wt(e),!t.isEqual(er.min()))try{const o=yield Uf(i.localStore);t.compareTo(o)>=0&&(yield function(u,d){const g=u.pu.te(d);return g.targetChanges.forEach((D,B)=>{if(D.resumeToken.approximateByteSize()>0){const z=u._u.get(B);z&&u._u.set(B,z.withResumeToken(D.resumeToken,d))}}),g.targetMismatches.forEach(D=>{const B=u._u.get(D);if(!B)return;u._u.set(D,B.withResumeToken(Ie.EMPTY_BYTE_STRING,B.snapshotVersion)),qf(u,D);const z=new Ou(B.target,D,1,B.sequenceNumber);ch(u,z)}),u.remoteSyncer.applyRemoteEvent(g)}(i,t))}catch(o){Ht("RemoteStore","Failed to raise snapshot:",o),yield Kc(i,o)}var o}),Ia.apply(this,arguments)}function Kc(i,e,t){return Kf.apply(this,arguments)}function Kf(){return Kf=(0,ge.Z)(function*(i,e,t){if(!Vs(e))throw e;i.wu.add(1),yield rc(i),i.yu.set("Offline"),t||(t=()=>Uf(i.localStore)),i.asyncQueue.enqueueRetryable((0,ge.Z)(function*(){Ht("RemoteStore","Retrying IndexedDB access"),yield t(),i.wu.delete(1),yield zc(i)}))}),Kf.apply(this,arguments)}function fh(i,e){return e().catch(t=>Kc(i,t,e))}function fa(i){return Yc.apply(this,arguments)}function Yc(){return Yc=(0,ge.Z)(function*(i){const e=Nt(i),t=Bu(e);let o=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;um(e);)try{const u=yield u_(e.localStore,o);if(null===u){0===e.du.length&&t.$o();break}o=u.batchId,Yf(e,u)}catch(u){yield Kc(e,u)}p_(e)&&Qf(e)}),Yc.apply(this,arguments)}function um(i){return Ua(i)&&i.du.length<10}function Yf(i,e){i.du.push(e);const t=Bu(i);t.Oo()&&t.Xo&&t.Zo(e.mutations)}function p_(i){return Ua(i)&&!Bu(i).ko()&&i.du.length>0}function Qf(i){Bu(i).start()}function Qv(i){return ic.apply(this,arguments)}function ic(){return ic=(0,ge.Z)(function*(i){Bu(i).nu()}),ic.apply(this,arguments)}function ph(i){return Qc.apply(this,arguments)}function Qc(){return Qc=(0,ge.Z)(function*(i){const e=Bu(i);for(const t of i.du)e.Zo(t.mutations)}),Qc.apply(this,arguments)}function Jf(i,e,t){return Jc.apply(this,arguments)}function Jc(){return Jc=(0,ge.Z)(function*(i,e,t){const o=i.du.shift(),u=If.from(o,e,t);yield fh(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield fa(i)}),Jc.apply(this,arguments)}function Jv(i,e){return Xf.apply(this,arguments)}function Xf(){return Xf=(0,ge.Z)(function*(i,e){var t;e&&Bu(i).Xo&&(yield(t=(0,ge.Z)(function*(o,u){if(lg(d=u.code)&&d!==at.ABORTED){const g=o.du.shift();Bu(o).Fo(),yield fh(o,()=>o.remoteSyncer.rejectFailedWrite(g.batchId,u)),yield fa(o)}var d}),function(o,u){return t.apply(this,arguments)})(i,e)),p_(i)&&Qf(i)}),Xf.apply(this,arguments)}function lm(i,e){return ep.apply(this,arguments)}function ep(){return ep=(0,ge.Z)(function*(i,e){const t=Nt(i);t.asyncQueue.verifyOperationInProgress(),Ht("RemoteStore","RemoteStore received new credentials");const o=Ua(t);t.wu.add(3),yield rc(t),o&&t.yu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.wu.delete(3),yield zc(t)}),ep.apply(this,arguments)}function tp(i,e){return gh.apply(this,arguments)}function gh(){return gh=(0,ge.Z)(function*(i,e){const t=Nt(i);e?(t.wu.delete(2),yield zc(t)):e||(t.wu.add(2),yield rc(t),t.yu.set("Unknown"))}),gh.apply(this,arguments)}function Xc(i){return i.Iu||(i.Iu=function(e,t,o){const u=Nt(e);return u.iu(),new nc(t,u.So,u.authCredentials,u.appCheckCredentials,u.It,o)}(i.datastore,i.asyncQueue,{Yr:Yv.bind(null,i),Zr:am.bind(null,i),zo:hh.bind(null,i)}),i.mu.push(function(){var e=(0,ge.Z)(function*(t){t?(i.Iu.Fo(),sm(i)?qc(i):i.yu.set("Unknown")):(yield i.Iu.stop(),om(i))});return function(t){return e.apply(this,arguments)}}())),i.Iu}function Bu(i){return i.Tu||(i.Tu=function(e,t,o){const u=Nt(e);return u.iu(),new h_(t,u.So,u.authCredentials,u.appCheckCredentials,u.It,o)}(i.datastore,i.asyncQueue,{Yr:Qv.bind(null,i),Zr:Jv.bind(null,i),eu:ph.bind(null,i),tu:Jf.bind(null,i)}),i.mu.push(function(){var e=(0,ge.Z)(function*(t){t?(i.Tu.Fo(),yield fa(i)):(yield i.Tu.stop(),i.du.length>0&&(Ht("RemoteStore",`Stopping write stream with ${i.du.length} pending writes`),i.du=[]))});return function(t){return e.apply(this,arguments)}}())),i.Tu}class cm{constructor(e,t,o,u,d){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=u,this.removalCallback=d,this.deferred=new Wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(g=>{})}static createAndSchedule(e,t,o,u,d){const g=Date.now()+o,D=new cm(e,t,g,u,d);return D.start(o),D}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new kt(at.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yl(i,e){if(ui("AsyncQueue",`${e}: ${i}`),Vs(i))return new kt(at.UNAVAILABLE,`${e}: ${i}`);throw i}class _l{constructor(e){this.comparator=e?(t,o)=>e(t,o)||wn.comparator(t.key,o.key):(t,o)=>wn.comparator(t.key,o.key),this.keyedMap=du(),this.sortedSet=new Gi(this.comparator)}static emptySet(e){return new _l(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof _l)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const u=t.getNext().key,d=o.getNext().key;if(!u.isEqual(d))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new _l;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class dm{constructor(){this.Eu=new Gi(wn.comparator)}track(e){const t=e.doc.key,o=this.Eu.get(t);o?0!==e.type&&3===o.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==o.type?this.Eu=this.Eu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Eu=this.Eu.remove(t):1===e.type&&2===o.type?this.Eu=this.Eu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):xn():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal((t,o)=>{e.push(o)}),e}}class ju{constructor(e,t,o,u,d,g,D,B,z){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=d,this.fromCache=g,this.syncStateChanged=D,this.excludesMetadataChanges=B,this.hasCachedResults=z}static fromInitialDocuments(e,t,o,u,d){const g=[];return t.forEach(D=>{g.push({type:0,doc:D})}),new ju(e,t,_l.emptySet(t),g,o,u,!0,!1,d)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let u=0;u<t.length;u++)if(t[u].type!==o[u].type||!t[u].doc.isEqual(o[u].doc))return!1;return!0}}class Xv{constructor(){this.Ru=void 0,this.listeners=[]}}class e0{constructor(){this.queries=new Ru(e=>ka(e),cu),this.onlineState="Unknown",this.bu=new Set}}function hm(i,e){return fm.apply(this,arguments)}function fm(){return fm=(0,ge.Z)(function*(i,e){const t=Nt(i),o=e.query;let u=!1,d=t.queries.get(o);if(d||(u=!0,d=new Xv),u)try{d.Ru=yield t.onListen(o)}catch(g){const D=yl(g,`Initialization of query '${qa(e.query)}' failed`);return void e.onError(D)}t.queries.set(o,d),d.listeners.push(e),e.Pu(t.onlineState),d.Ru&&e.vu(d.Ru)&&mm(t)}),fm.apply(this,arguments)}function pm(i,e){return gm.apply(this,arguments)}function gm(){return gm=(0,ge.Z)(function*(i,e){const t=Nt(i),o=e.query;let u=!1;const d=t.queries.get(o);if(d){const g=d.listeners.indexOf(e);g>=0&&(d.listeners.splice(g,1),u=0===d.listeners.length)}if(u)return t.queries.delete(o),t.onUnlisten(o)}),gm.apply(this,arguments)}function t0(i,e){const t=Nt(i);let o=!1;for(const u of e){const g=t.queries.get(u.query);if(g){for(const D of g.listeners)D.vu(u)&&(o=!0);g.Ru=u}}o&&mm(t)}function n0(i,e,t){const o=Nt(i),u=o.queries.get(e);if(u)for(const d of u.listeners)d.onError(t);o.queries.delete(e)}function mm(i){i.bu.forEach(e=>{e.next()})}class ym{constructor(e,t,o){this.query=e,this.Vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=o||{}}vu(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new ju(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Su?this.Cu(e)&&(this.Vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.Vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){return!e.fromCache||(!this.options.ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=ju.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Su=!0,this.Vu.next(e)}}class Hu{constructor(e,t){this.payload=e,this.byteLength=t}Ou(){return"metadata"in this.payload}}class mh{constructor(e){this.It=e}Ji(e){return Ka(this.It,e)}Yi(e){return e.metadata.exists?mg(this.It,e.document,!1):xi.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Mo(e)}}class g_{constructor(e,t,o){this.Mu=e,this.localStore=t,this.It=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=np(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const o=Pr.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,o=new mh(this.It);for(const u of e)if(u.metadata.queries){const d=o.Ji(u.metadata.name);for(const g of u.metadata.queries){const D=(t.get(g)||Hr()).add(d);t.set(g,D)}}return t}complete(){var e=this;return(0,ge.Z)(function*(){const t=yield function Jg(i,e,t,o){return nh.apply(this,arguments)}(e.localStore,new mh(e.It),e.documents,e.Mu.id),o=e.$u(e.documents);for(const u of e.queries)yield l_(e.localStore,u,o.get(u.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function np(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class yh{constructor(e){this.key=e}}class rp{constructor(e){this.key=e}}class _h{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Hr(),this.mutatedKeys=Hr(),this.Gu=ef(e),this.Qu=new _l(this.Gu)}get ju(){return this.Uu}Wu(e,t){const o=t?t.zu:new dm,u=t?t.Qu:this.Qu;let d=t?t.mutatedKeys:this.mutatedKeys,g=u,D=!1;const B="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,z="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((oe,Ne)=>{const pt=u.get(oe),$t=Hl(this.query,Ne)?Ne:null,Yt=!!pt&&this.mutatedKeys.has(pt.key),On=!!$t&&($t.hasLocalMutations||this.mutatedKeys.has($t.key)&&$t.hasCommittedMutations);let Bn=!1;pt&&$t?pt.data.isEqual($t.data)?Yt!==On&&(o.track({type:3,doc:$t}),Bn=!0):this.Hu(pt,$t)||(o.track({type:2,doc:$t}),Bn=!0,(B&&this.Gu($t,B)>0||z&&this.Gu($t,z)<0)&&(D=!0)):!pt&&$t?(o.track({type:0,doc:$t}),Bn=!0):pt&&!$t&&(o.track({type:1,doc:pt}),Bn=!0,(B||z)&&(D=!0)),Bn&&($t?(g=g.add($t),d=On?d.add(oe):d.delete(oe)):(g=g.delete(oe),d=d.delete(oe)))}),null!==this.query.limit)for(;g.size>this.query.limit;){const oe="F"===this.query.limitType?g.last():g.first();g=g.delete(oe.key),d=d.delete(oe.key),o.track({type:1,doc:oe})}return{Qu:g,zu:o,$i:D,mutatedKeys:d}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const u=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const d=e.zu.Au();d.sort((z,oe)=>function(Ne,pt){const $t=Yt=>{switch(Yt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xn()}};return $t(Ne)-$t(pt)}(z.type,oe.type)||this.Gu(z.doc,oe.doc)),this.Ju(o);const g=t?this.Yu():[],D=0===this.Ku.size&&this.current?1:0,B=D!==this.qu;return this.qu=D,0!==d.length||B?{snapshot:new ju(this.query,e.Qu,u,d,e.mutatedKeys,0===D,B,!1,!!o&&o.resumeToken.approximateByteSize()>0),Xu:g}:{Xu:g}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new dm,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Hr(),this.Qu.forEach(o=>{this.Zu(o.key)&&(this.Ku=this.Ku.add(o.key))});const t=[];return e.forEach(o=>{this.Ku.has(o)||t.push(new rp(o))}),this.Ku.forEach(o=>{e.has(o)||t.push(new yh(o))}),t}tc(e){this.Uu=e.Hi,this.Ku=Hr();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return ju.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class m_{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class $u{constructor(e){this.key=e,this.nc=!1}}class _m{constructor(e,t,o,u,d,g){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=u,this.currentUser=d,this.maxConcurrentLimboResolutions=g,this.sc={},this.ic=new Ru(D=>ka(D),cu),this.rc=new Map,this.oc=new Set,this.uc=new Gi(wn.comparator),this.cc=new Map,this.ac=new Kd,this.hc={},this.lc=new Map,this.fc=fl.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function y_(i,e){return ip.apply(this,arguments)}function ip(){return ip=(0,ge.Z)(function*(i,e){const t=Tm(i);let o,u;const d=t.ic.get(e);if(d)o=d.targetId,t.sharedClientState.addLocalQueryTarget(o),u=d.view.ec();else{const g=yield ec(t.localStore,Ao(e));t.isPrimaryClient&&Zc(t.remoteStore,g);const D=t.sharedClientState.addLocalQueryTarget(g.targetId);o=g.targetId,u=yield vh(t,e,o,"current"===D,g.resumeToken)}return u}),ip.apply(this,arguments)}function vh(i,e,t,o,u){return sp.apply(this,arguments)}function sp(){return sp=(0,ge.Z)(function*(i,e,t,o,u){i._c=(Ne,pt,$t)=>{return(Yt=(0,ge.Z)(function*(On,Bn,gi,is){let fi=Bn.view.Wu(gi);fi.$i&&(fi=yield th(On.localStore,Bn.query,!1).then(({documents:mi})=>Bn.view.Wu(mi,fi)));const Hs=is&&is.targetChanges.get(Bn.targetId),pi=Bn.view.applyChanges(fi,On.isPrimaryClient,Hs);return bh(On,Bn.targetId,pi.Xu),pi.snapshot}),function(On,Bn,gi,is){return Yt.apply(this,arguments)})(i,Ne,pt,$t);var Yt};const d=yield th(i.localStore,e,!0),g=new _h(e,d.Hi),D=g.Wu(d.documents),B=rl.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==i.onlineState,u),z=g.applyChanges(D,i.isPrimaryClient,B);bh(i,t,z.Xu);const oe=new m_(e,t,g);return i.ic.set(e,oe),i.rc.has(t)?i.rc.get(t).push(e):i.rc.set(t,[e]),z.snapshot}),sp.apply(this,arguments)}function __(i,e){return sc.apply(this,arguments)}function sc(){return sc=(0,ge.Z)(function*(i,e){const t=Nt(i),o=t.ic.get(e),u=t.rc.get(o.targetId);if(u.length>1)return t.rc.set(o.targetId,u.filter(d=>!cu(d,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield ml(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),Wc(t.remoteStore,o.targetId),ac(t,o.targetId)}).catch(Ta))):(ac(t,o.targetId),yield ml(t.localStore,o.targetId,!0))}),sc.apply(this,arguments)}function ed(){return ed=(0,ge.Z)(function*(i,e,t){const o=Ch(i);try{const u=yield function(d,g){const D=Nt(d),B=ai.now(),z=g.reduce((pt,$t)=>pt.add($t.key),Hr());let oe,Ne;return D.persistence.runTransaction("Locally write mutations","readwrite",pt=>{let $t=wa(),Yt=Hr();return D.Gi.getEntries(pt,z).next(On=>{$t=On,$t.forEach((Bn,gi)=>{gi.isValidDocument()||(Yt=Yt.add(Bn))})}).next(()=>D.localDocuments.getOverlayedDocuments(pt,$t)).next(On=>{oe=On;const Bn=[];for(const gi of g){const is=Mc(gi,oe.get(gi.key).overlayedDocument);null!=is&&Bn.push(new Ea(gi.key,is,Aa(is.value.mapValue),Ri.exists(!0)))}return D.mutationQueue.addMutationBatch(pt,B,Bn,g)}).next(On=>{Ne=On;const Bn=On.applyToLocalDocumentSet(oe,Yt);return D.documentOverlayCache.saveOverlays(pt,On.batchId,Bn)})}).then(()=>({batchId:Ne.batchId,changes:Nd(oe)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(d,g,D){let B=d.hc[d.currentUser.toKey()];B||(B=new Gi(Gn)),B=B.insert(g,D),d.hc[d.currentUser.toKey()]=B}(o,u.batchId,t),yield Qa(o,u.changes),yield fa(o.remoteStore)}catch(u){const d=yl(u,"Failed to persist write");t.reject(d)}}),ed.apply(this,arguments)}function vl(i,e){return td.apply(this,arguments)}function td(){return td=(0,ge.Z)(function*(i,e){const t=Nt(i);try{const o=yield a_(t.localStore,e);e.targetChanges.forEach((u,d)=>{const g=t.cc.get(d);g&&(Wt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?g.nc=!0:u.modifiedDocuments.size>0?Wt(g.nc):u.removedDocuments.size>0&&(Wt(g.nc),g.nc=!1))}),yield Qa(t,o,e)}catch(o){yield Ta(o)}}),td.apply(this,arguments)}function nd(i,e,t){const o=Nt(i);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const u=[];o.ic.forEach((d,g)=>{const D=g.view.Pu(e);D.snapshot&&u.push(D.snapshot)}),function(d,g){const D=Nt(d);D.onlineState=g;let B=!1;D.queries.forEach((z,oe)=>{for(const Ne of oe.listeners)Ne.Pu(g)&&(B=!0)}),B&&mm(D)}(o.eventManager,e),u.length&&o.sc.zo(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function vm(i,e,t){return Eh.apply(this,arguments)}function Eh(){return Eh=(0,ge.Z)(function*(i,e,t){const o=Nt(i);o.sharedClientState.updateQueryState(e,"rejected",t);const u=o.cc.get(e),d=u&&u.key;if(d){let g=new Gi(wn.comparator);g=g.insert(d,xi.newNoDocument(d,er.min()));const D=Hr().add(d),B=new xc(er.min(),new Map,new y(Gn),g,D);yield vl(o,B),o.uc=o.uc.remove(d),o.cc.delete(e),na(o)}else yield ml(o.localStore,e,!1).then(()=>ac(o,e,t)).catch(Ta)}),Eh.apply(this,arguments)}function op(i,e){return rd.apply(this,arguments)}function rd(){return rd=(0,ge.Z)(function*(i,e){const t=Nt(i),o=e.batch.batchId;try{const u=yield o_(t.localStore,e);wh(t,o,null),ap(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield Qa(t,u)}catch(u){yield Ta(u)}}),rd.apply(this,arguments)}function Em(i,e,t){return id.apply(this,arguments)}function id(){return id=(0,ge.Z)(function*(i,e,t){const o=Nt(i);try{const u=yield function(d,g){const D=Nt(d);return D.persistence.runTransaction("Reject batch","readwrite-primary",B=>{let z;return D.mutationQueue.lookupMutationBatch(B,g).next(oe=>(Wt(null!==oe),z=oe.keys(),D.mutationQueue.removeMutationBatch(B,oe))).next(()=>D.mutationQueue.performConsistencyCheck(B)).next(()=>D.documentOverlayCache.removeOverlaysForBatchId(B,z,g)).next(()=>D.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(B,z)).next(()=>D.localDocuments.getDocuments(B,z))})}(o.localStore,e);wh(o,e,t),ap(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield Qa(o,u)}catch(u){yield Ta(u)}}),id.apply(this,arguments)}function wm(){return wm=(0,ge.Z)(function*(i,e){const t=Nt(i);Ua(t.remoteStore)||Ht("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(d){const g=Nt(d);return g.persistence.runTransaction("Get highest unacknowledged batch id","readonly",D=>g.mutationQueue.getHighestUnacknowledgedBatchId(D))}(t.localStore);if(-1===o)return void e.resolve();const u=t.lc.get(o)||[];u.push(e),t.lc.set(o,u)}catch(o){const u=yl(o,"Initialization of waitForPendingWrites() operation failed");e.reject(u)}}),wm.apply(this,arguments)}function ap(i,e){(i.lc.get(e)||[]).forEach(t=>{t.resolve()}),i.lc.delete(e)}function wh(i,e,t){const o=Nt(i);let u=o.hc[o.currentUser.toKey()];if(u){const d=u.get(e);d&&(t?d.reject(t):d.resolve(),u=u.remove(e)),o.hc[o.currentUser.toKey()]=u}}function ac(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.rc.get(e))i.ic.delete(o),t&&i.sc.wc(o,t);i.rc.delete(e),i.isPrimaryClient&&i.ac.ls(e).forEach(o=>{i.ac.containsKey(o)||up(i,o)})}function up(i,e){i.oc.delete(e.path.canonicalString());const t=i.uc.get(e);null!==t&&(Wc(i.remoteStore,t),i.uc=i.uc.remove(e),i.cc.delete(t),na(i))}function bh(i,e,t){for(const o of t)o instanceof yh?(i.ac.addReference(o.key,e),E_(i,o)):o instanceof rp?(Ht("SyncEngine","Document no longer in limbo: "+o.key),i.ac.removeReference(o.key,e),i.ac.containsKey(o.key)||up(i,o.key)):xn()}function E_(i,e){const t=e.key,o=t.path.canonicalString();i.uc.get(t)||i.oc.has(o)||(Ht("SyncEngine","New document in limbo: "+t),i.oc.add(o),na(i))}function na(i){for(;i.oc.size>0&&i.uc.size<i.maxConcurrentLimboResolutions;){const e=i.oc.values().next().value;i.oc.delete(e);const t=new wn(Pr.fromString(e)),o=i.fc.next();i.cc.set(o,new $u(t)),i.uc=i.uc.insert(t,o),Zc(i.remoteStore,new Ou(Ao(lu(t.path)),o,2,fs.at))}}function Qa(i,e,t){return lp.apply(this,arguments)}function lp(){return lp=(0,ge.Z)(function*(i,e,t){const o=Nt(i),u=[],d=[],g=[];var D;o.ic.isEmpty()||(o.ic.forEach((D,B)=>{g.push(o._c(B,e,t).then(z=>{if((z||t)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(B.targetId,z?.fromCache?"not-current":"current"),z){u.push(z);const oe=eh.Ci(B.targetId,z);d.push(oe)}}))}),yield Promise.all(g),o.sc.zo(u),yield(D=(0,ge.Z)(function*(B,z){const oe=Nt(B);try{yield oe.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ne=>mt.forEach(z,pt=>mt.forEach(pt.Si,$t=>oe.persistence.referenceDelegate.addReference(Ne,pt.targetId,$t)).next(()=>mt.forEach(pt.Di,$t=>oe.persistence.referenceDelegate.removeReference(Ne,pt.targetId,$t)))))}catch(Ne){if(!Vs(Ne))throw Ne;Ht("LocalStore","Failed to update sequence numbers: "+Ne)}for(const Ne of z){const pt=Ne.targetId;if(!Ne.fromCache){const $t=oe.Ui.get(pt),On=$t.withLastLimboFreeSnapshotVersion($t.snapshotVersion);oe.Ui=oe.Ui.insert(pt,On)}}}),function(B,z){return D.apply(this,arguments)})(o.localStore,d))}),lp.apply(this,arguments)}function r0(i,e){return cp.apply(this,arguments)}function cp(){return cp=(0,ge.Z)(function*(i,e){const t=Nt(i);if(!t.currentUser.isEqual(e)){Ht("SyncEngine","User change. New user:",e.toKey());const o=yield Kg(t.localStore,e);t.currentUser=e,(u=t).lc.forEach(g=>{g.forEach(D=>{D.reject(new kt(at.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.lc.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Qa(t,o.ji)}var u}),cp.apply(this,arguments)}function dp(i,e){const t=Nt(i),o=t.cc.get(e);if(o&&o.nc)return Hr().add(o.key);{let u=Hr();const d=t.rc.get(e);if(!d)return u;for(const g of d){const D=t.ic.get(g);u=u.unionWith(D.view.ju)}return u}}function bm(i,e){return hp.apply(this,arguments)}function hp(){return hp=(0,ge.Z)(function*(i,e){const t=Nt(i),o=yield th(t.localStore,e.query,!0),u=e.view.tc(o);return t.isPrimaryClient&&bh(t,e.targetId,u.Xu),u}),hp.apply(this,arguments)}function w_(i,e){return fp.apply(this,arguments)}function fp(){return fp=(0,ge.Z)(function*(i,e){const t=Nt(i);return kr(t.localStore,e).then(o=>Qa(t,o))}),fp.apply(this,arguments)}function Im(i,e,t,o){return pp.apply(this,arguments)}function pp(){return pp=(0,ge.Z)(function*(i,e,t,o){const u=Nt(i),d=yield function(g,D){const B=Nt(g),z=Nt(B.mutationQueue);return B.persistence.runTransaction("Lookup mutation documents","readonly",oe=>z.Tn(oe,D).next(Ne=>Ne?B.localDocuments.getDocuments(oe,Ne):mt.resolve(null)))}(u.localStore,e);var D;null!==d?("pending"===t?yield fa(u.remoteStore):"acknowledged"===t||"rejected"===t?(wh(u,e,o||null),ap(u,e),D=e,Nt(Nt(u.localStore).mutationQueue).An(D)):xn(),yield Qa(u,d)):Ht("SyncEngine","Cannot apply mutation batch with id: "+e)}),pp.apply(this,arguments)}function gp(){return gp=(0,ge.Z)(function*(i,e){const t=Nt(i);if(Tm(t),Ch(t),!0===e&&!0!==t.dc){const o=t.sharedClientState.getAllActiveQueryTargets(),u=yield Dm(t,o.toArray());t.dc=!0,yield tp(t.remoteStore,!0);for(const d of u)Zc(t.remoteStore,d)}else if(!1===e&&!1!==t.dc){const o=[];let u=Promise.resolve();t.rc.forEach((d,g)=>{t.sharedClientState.isLocalQueryTarget(g)?o.push(g):u=u.then(()=>(ac(t,g),ml(t.localStore,g,!0))),Wc(t.remoteStore,g)}),yield u,yield Dm(t,o),function(d){const g=Nt(d);g.cc.forEach((D,B)=>{Wc(g.remoteStore,B)}),g.ac.fs(),g.cc=new Map,g.uc=new Gi(wn.comparator)}(t),t.dc=!1,yield tp(t.remoteStore,!1)}}),gp.apply(this,arguments)}function Dm(i,e,t){return Ih.apply(this,arguments)}function Ih(){return Ih=(0,ge.Z)(function*(i,e,t){const o=Nt(i),u=[],d=[];for(const g of e){let D;const B=o.rc.get(g);if(B&&0!==B.length){D=yield ec(o.localStore,Ao(B[0]));for(const z of B){const oe=o.ic.get(z),Ne=yield bm(o,oe);Ne.snapshot&&d.push(Ne.snapshot)}}else{const z=yield Qg(o.localStore,g);D=yield ec(o.localStore,z),yield vh(o,mp(z),g,!1,D.resumeToken)}u.push(D)}return o.sc.zo(d),u}),Ih.apply(this,arguments)}function mp(i){return Vl(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function b_(i){const e=Nt(i);return Nt(Nt(e.localStore).persistence).vi()}function Ja(i,e,t,o){return sd.apply(this,arguments)}function sd(){return sd=(0,ge.Z)(function*(i,e,t,o){const u=Nt(i);if(u.dc)return void Ht("SyncEngine","Ignoring unexpected query state notification.");const d=u.rc.get(e);if(d&&d.length>0)switch(t){case"current":case"not-current":{const g=yield kr(u.localStore,Xh(d[0])),D=xc.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Ie.EMPTY_BYTE_STRING);yield Qa(u,g,D);break}case"rejected":yield ml(u.localStore,e,!0),ac(u,e,o);break;default:xn()}}),sd.apply(this,arguments)}function I_(i,e,t){return yp.apply(this,arguments)}function yp(){return yp=(0,ge.Z)(function*(i,e,t){const o=Tm(i);if(o.dc){for(const u of e){if(o.rc.has(u)){Ht("SyncEngine","Adding an already active target "+u);continue}const d=yield Qg(o.localStore,u),g=yield ec(o.localStore,d);yield vh(o,mp(d),g.targetId,!1,g.resumeToken),Zc(o.remoteStore,g)}for(const u of t)o.rc.has(u)&&(yield ml(o.localStore,u,!1).then(()=>{Wc(o.remoteStore,u),ac(o,u)}).catch(Ta))}}),yp.apply(this,arguments)}function Tm(i){const e=Nt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=vl.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dp.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vm.bind(null,e),e.sc.zo=t0.bind(null,e.eventManager),e.sc.wc=n0.bind(null,e.eventManager),e}function Ch(i){const e=Nt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=op.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Em.bind(null,e),e}class Sm{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ge.Z)(function*(){t.It=tc(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return qg(this.persistence,new Zg,e.initialUser,this.It)}yc(e){return new Qd(Jd.Bs,this.It)}gc(e){return new em}terminate(){var e=this;return(0,ge.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Am extends Sm{constructor(e,t,o){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,o=this;return(0,ge.Z)(function*(){yield t().call(o,e),yield o.Ac.initialize(o,e),yield Ch(o.Ac.syncEngine),yield fa(o.Ac.remoteStore),yield o.persistence.li(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return qg(this.persistence,new Zg,e.initialUser,this.It)}Tc(e,t){return new kg(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const o=new Ju(t,this.persistence);return new Iu(e.asyncQueue,o)}yc(e){const t=zg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?ta.withCacheSize(this.cacheSizeBytes):ta.DEFAULT;return new Xd(this.synchronizeTabs,t,e.clientId,o,e.asyncQueue,d_(),uh(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new em}}class _p extends Am{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,o=this;return(0,ge.Z)(function*(){yield t().call(o,e);const u=o.Ac.syncEngine;o.sharedClientState instanceof mu&&(o.sharedClientState.syncEngine={Fr:Im.bind(null,u),$r:Ja.bind(null,u),Br:I_.bind(null,u),vi:b_.bind(null,u),Mr:w_.bind(null,u)},yield o.sharedClientState.start()),yield o.persistence.li(function(){var d=(0,ge.Z)(function*(g){yield function Cm(i,e){return gp.apply(this,arguments)}(o.Ac.syncEngine,g),o.gcScheduler&&(g&&!o.gcScheduler.started?o.gcScheduler.start():g||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(g&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():g||o.indexBackfillerScheduler.stop())});return function(g){return d.apply(this,arguments)}}())})()}gc(e){const t=d_();if(!mu.C(t))throw new kt(at.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=zg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new mu(t,e.asyncQueue,o,e.clientId,e.initialUser)}}class vp{initialize(e,t){var o=this;return(0,ge.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>nd(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=r0.bind(null,o.syncEngine),yield tp(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new e0}createDatastore(e){const t=tc(e.databaseInfo.databaseId),o=new Kv(e.databaseInfo);return new rm(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,u=e.asyncQueue,d=D=>nd(this.syncEngine,D,0),g=ah.C()?new ah:new Gf,new f_(t,o,u,d,g);var t,o,u,d,g}createSyncEngine(e,t){return function(o,u,d,g,D,B,z){const oe=new _m(o,u,d,g,D,B);return z&&(oe.dc=!0),oe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ge.Z)(function*(t){const o=Nt(t);Ht("RemoteStore","RemoteStore shutting down."),o.wu.add(5),yield rc(o),o.gu.shutdown(),o.yu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Ep(i,e,t){if(!t)throw new kt(at.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function od(i,e,t,o){if(!0===e&&!0===o)throw new kt(at.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function Dh(i){if(!wn.isDocumentKey(i))throw new kt(at.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function ad(i){if(wn.isDocumentKey(i))throw new kt(at.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function wp(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":xn()}function ri(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new kt(at.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=wp(i);throw new kt(at.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function D_(i,e){if(e<=0)throw new kt(at.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}const bp=new Map;class Ip{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new kt(at.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new kt(at.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,od("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class uc{constructor(e,t,o,u){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ip({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new kt(at.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new kt(at.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ip(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new xs;switch(t.type){case"gapi":return new Ti(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new kt(at.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=bp.get(e);t&&(Ht("ComponentProvider","Removing Datastore"),bp.delete(e),t.terminate())}(this),Promise.resolve()}}class rs{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ca(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rs(this.firestore,e,this._key)}}class ks{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new ks(this.firestore,e,this._query)}}class Ca extends ks{constructor(e,t,o){super(e,t,lu(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rs(this.firestore,null,new wn(e))}withConverter(e){return new Ca(this.firestore,e,this._path)}}function ud(i,e,...t){if(i=(0,Re.m9)(i),Ep("collection","path",e),i instanceof uc){const o=Pr.fromString(e,...t);return ad(o),new Ca(i,null,o)}{if(!(i instanceof rs||i instanceof Ca))throw new kt(at.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Pr.fromString(e,...t));return ad(o),new Ca(i.firestore,null,o)}}function Th(i,e,...t){if(i=(0,Re.m9)(i),1===arguments.length&&(e=ja.R()),Ep("doc","path",e),i instanceof uc){const o=Pr.fromString(e,...t);return Dh(o),new rs(i,null,new wn(o))}{if(!(i instanceof rs||i instanceof Ca))throw new kt(at.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Pr.fromString(e,...t));return Dh(o),new rs(i.firestore,i instanceof Ca?i.converter:null,new wn(o))}}function Sh(i,e){return i=(0,Re.m9)(i),e=(0,Re.m9)(e),(i instanceof rs||i instanceof Ca)&&(e instanceof rs||e instanceof Ca)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function Ah(i,e){return i=(0,Re.m9)(i),e=(0,Re.m9)(e),i instanceof ks&&e instanceof ks&&i.firestore===e.firestore&&cu(i._query,e._query)&&i.converter===e.converter}function Mm(i,e=10240){let t=0;return{read:()=>(0,ge.Z)(function*(){if(t<i.byteLength){const o={value:i.slice(t,t+e),done:!1};return t+=e,o}return{done:!0}})(),cancel:()=>(0,ge.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Mh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):ui("Uncaught Error in snapshot listener:",e)}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class cd{constructor(e,t){this.Pc=e,this.It=t,this.metadata=new Wr,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(o=>{o&&o.Ou()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(o?.payload)}`))},o=>this.metadata.reject(o))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,ge.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,ge.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,ge.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const o=e.vc.decode(t),u=Number(o);isNaN(u)&&e.Dc(`length string (${o}) is not valid number`);const d=yield e.Cc(u);return new Hu(JSON.parse(d),t.length+u)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,ge.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),o})()}Cc(e){var t=this;return(0,ge.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const o=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),o})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,ge.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const o=new Uint8Array(e.buffer.length+t.value.length);o.set(e.buffer),o.set(t.value,e.buffer.length),e.buffer=o}return t.done})()}}class a0{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ge.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new kt(at.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(u=(0,ge.Z)(function*(d,g){const D=Nt(d),B=ol(D.It)+"/documents",z={documents:g.map($t=>Oc(D.It,$t))},oe=yield D._o("BatchGetDocuments",B,z,g.length),Ne=new Map;oe.forEach($t=>{const Yt=function yg(i,e){return"found"in e?function(t,o){Wt(!!o.found);const u=Ka(t,o.found.name),d=Mo(o.found.updateTime),g=new Mi({mapValue:{fields:o.found.fields}});return xi.newFoundDocument(u,d,g)}(i,e):"missing"in e?function(t,o){Wt(!!o.missing),Wt(!!o.readTime);const u=Ka(t,o.missing),d=Mo(o.readTime);return xi.newNoDocument(u,d)}(i,e):xn()}(D.It,$t);Ne.set(Yt.key.toString(),Yt)});const pt=[];return g.forEach($t=>{const Yt=Ne.get($t.toString());Wt(!!Yt),pt.push(Yt)}),pt}),function(d,g){return u.apply(this,arguments)})(t.datastore,e);var u;return o.forEach(u=>t.recordVersion(u)),o})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new xu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ge.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var o;e.mutations.forEach(o=>{t.delete(o.key.toString())}),t.forEach((o,u)=>{const d=wn.fromPath(u);e.mutations.push(new rf(d,e.precondition(d)))}),yield(o=(0,ge.Z)(function*(u,d){const g=Nt(u),D=ol(g.It)+"/documents",B={writes:d.map(z=>Nc(g.It,z))};yield g.ao("Commit",D,B)}),function(u,d){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw xn();t=er.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!t.isEqual(o))throw new kt(at.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(er.min())?Ri.exists(!1):Ri.updateTime(t):Ri.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(er.min()))throw new kt(at.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ri.updateTime(t)}return Ri.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class S_{constructor(e,t,o,u,d){this.asyncQueue=e,this.datastore=t,this.options=o,this.updateFunction=u,this.deferred=d,this.kc=o.maxAttempts,this.No=new tm(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.No.Ro((0,ge.Z)(function*(){const t=new a0(e.datastore),o=e.Mc(t);o&&o.then(u=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(u)}).catch(d=>{e.Fc(d)}))}).catch(u=>{e.Fc(u)})}))}Mc(e){try{const t=this.updateFunction(e);return!Sa(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!lg(t)}return!1}}class A_{constructor(e,t,o,u){var d=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=u,this.user=Zr.UNAUTHENTICATED,this.clientId=ja.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var g=(0,ge.Z)(function*(D){Ht("FirestoreClient","Received user=",D.uid),yield d.authCredentialListener(D),d.user=D});return function(D){return g.apply(this,arguments)}}()),this.appCheckCredentials.start(o,g=>(Ht("FirestoreClient","Received new app check token=",g),this.appCheckCredentialListener(g,this.user)))}getConfiguration(){var e=this;return(0,ge.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new kt(at.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ge.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const u=yl(o,"Failed to shutdown persistence");t.reject(u)}})),t.promise}}function xm(i,e){return xh.apply(this,arguments)}function xh(){return xh=(0,ge.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Ht("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let o=t.initialUser;i.setCredentialChangeListener(function(){var u=(0,ge.Z)(function*(d){o.isEqual(d)||(yield Kg(e.localStore,d),o=d)});return function(d){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),xh.apply(this,arguments)}function Rh(i,e){return Dp.apply(this,arguments)}function Dp(){return Dp=(0,ge.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield dd(i);Ht("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(t,o),i.setCredentialChangeListener(u=>lm(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,d)=>lm(e.remoteStore,d)),i.onlineComponents=e}),Dp.apply(this,arguments)}function dd(i){return Tp.apply(this,arguments)}function Tp(){return Tp=(0,ge.Z)(function*(i){return i.offlineComponents||(Ht("FirestoreClient","Using default OfflineComponentProvider"),yield xm(i,new Sm)),i.offlineComponents}),Tp.apply(this,arguments)}function Ph(i){return Sp.apply(this,arguments)}function Sp(){return Sp=(0,ge.Z)(function*(i){return i.onlineComponents||(Ht("FirestoreClient","Using default OnlineComponentProvider"),yield Rh(i,new vp)),i.onlineComponents}),Sp.apply(this,arguments)}function Rm(i){return dd(i).then(e=>e.persistence)}function Oh(i){return dd(i).then(e=>e.localStore)}function Ap(i){return Ph(i).then(e=>e.remoteStore)}function lc(i){return Ph(i).then(e=>e.syncEngine)}function hd(i){return El.apply(this,arguments)}function El(){return El=(0,ge.Z)(function*(i){const e=yield Ph(i),t=e.eventManager;return t.onListen=y_.bind(null,e.syncEngine),t.onUnlisten=__.bind(null,e.syncEngine),t}),El.apply(this,arguments)}function Pm(i,e,t={}){const o=new Wr;return i.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function(u,d,g,D,B){const z=new Mh({next:Ne=>{d.enqueueAndForget(()=>pm(u,oe));const pt=Ne.docs.has(g);!pt&&Ne.fromCache?B.reject(new kt(at.UNAVAILABLE,"Failed to get document because the client is offline.")):pt&&Ne.fromCache&&D&&"server"===D.source?B.reject(new kt(at.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):B.resolve(Ne)},error:Ne=>B.reject(Ne)}),oe=new ym(lu(g.path),z,{includeMetadataChanges:!0,ku:!0});return hm(u,oe)}(yield hd(i),i.asyncQueue,e,t,o)})),o.promise}function cc(i,e,t={}){const o=new Wr;return i.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function(u,d,g,D,B){const z=new Mh({next:Ne=>{d.enqueueAndForget(()=>pm(u,oe)),Ne.fromCache&&"server"===D.source?B.reject(new kt(at.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):B.resolve(Ne)},error:Ne=>B.reject(Ne)}),oe=new ym(g,z,{includeMetadataChanges:!0,ku:!0});return hm(u,oe)}(yield hd(i),i.asyncQueue,e,t,o)})),o.promise}class Pa{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.No=new tm(this,"async_queue_retry"),this.Wc=()=>{const t=uh();t&&Ht("AsyncQueue","Visibility state changed to "+t.visibilityState),this.No.Po()};const e=uh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=uh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new Wr;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,ge.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.No.reset()}catch(t){if(!Vs(t))throw t;Ht("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.No.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(o=>{throw this.Kc=o,this.Gc=!1,ui("INTERNAL UNHANDLED ERROR: ",function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+"\n"+d.stack),g}(o)),o}).then(o=>(this.Gc=!1,o))));return this.Bc=t,t}enqueueAfterDelay(e,t,o){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const u=cm.createAndSchedule(this,e,t,o,d=>this.Yc(d));return this.qc.push(u),u}zc(){this.Kc&&xn()}verifyOperationInProgress(){}Xc(){var e=this;return(0,ge.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function fd(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const u of["next","error","complete"])if(u in o&&"function"==typeof o[u])return!0;return!1}(i)}class dc{constructor(){this._progressObserver={},this._taskCompletionResolver=new Wr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,o){this._progressObserver={next:e,error:t,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ji extends uc{constructor(e,t,o,u){super(e,t,o,u),this.type="firestore",this._queue=new Pa,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||bl(this),this._firestoreClient.terminate()}}function ps(i){return i._firestoreClient||bl(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function bl(i){var e;const t=i._freezeSettings(),o=(d=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Xo(i._databaseId,d,i._persistenceKey,(D=t).host,D.ssl,D.experimentalForceLongPolling,D.experimentalAutoDetectLongPolling,D.useFetchStreams));var d,D;i._firestoreClient=new A_(i._authCredentials,i._appCheckCredentials,i._queue,o)}function xp(i,e,t){const o=new Wr;return i.asyncQueue.enqueue((0,ge.Z)(function*(){try{yield xm(i,t),yield Rh(i,e),o.resolve()}catch(u){const d=u;if(!("FirebaseError"===(g=d).name?g.code===at.FAILED_PRECONDITION||g.code===at.UNIMPLEMENTED:!(typeof DOMException<"u"&&g instanceof DOMException)||22===g.code||20===g.code||11===g.code))throw d;li("Error enabling offline persistence. Falling back to persistence disabled: "+d),o.reject(d)}var g})).then(()=>o.promise)}function Rp(i){if(i._initialized||i._terminated)throw new kt(at.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class eu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new eu(Ie.fromBase64String(e))}catch(t){throw new kt(at.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new eu(Ie.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class yu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new kt(at.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Si(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Il{constructor(e){this._methodName=e}}class md{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new kt(at.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new kt(at.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Gn(this._lat,e._lat)||Gn(this._long,e._long)}}const Pp=/^__.*__$/;class Op{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new Ea(e,this.data,this.fieldMask,t,this.fieldTransforms):new xa(e,this.data,t,this.fieldTransforms)}}class Vm{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new Ea(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function yd(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xn()}}class Cl{constructor(e,t,o,u,d,g){this.settings=e,this.databaseId=t,this.It=o,this.ignoreUndefinedProperties=u,void 0===d&&this.na(),this.fieldTransforms=d||[],this.fieldMask=g||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new Cl(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.ia({path:o,oa:!1});return u.ua(e),u}ca(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.ia({path:o,oa:!1});return u.na(),u}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return vd(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(yd(this.sa)&&Pp.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class Np{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=o||tc(e)}da(e,t,o,u=!1){return new Cl({sa:e,methodName:t,fa:o,path:Si.emptyPath(),oa:!1,la:u},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Dl(i){const e=i._freezeSettings(),t=tc(i._databaseId);return new Np(i._databaseId,!!e.ignoreUndefinedProperties,t)}function gc(i,e,t,o,u,d={}){const g=i.da(d.merge||d.mergeFields?2:0,e,t,u);Lh("Data must be an object, but it was:",g,o);const D=Lp(o,g);let B,z;if(d.merge)B=new X(g.fieldMask),z=g.fieldTransforms;else if(d.mergeFields){const oe=[];for(const Ne of d.mergeFields){const pt=Vp(e,Ne,t);if(!g.contains(pt))throw new kt(at.INVALID_ARGUMENT,`Field '${pt}' is specified in your field mask but missing from your input data.`);Ed(oe,pt)||oe.push(pt)}B=new X(oe),z=g.fieldTransforms.filter(Ne=>B.covers(Ne.field))}else B=null,z=g.fieldTransforms;return new Op(new Mi(D),B,z)}class Tl extends Il{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Tl}}function kp(i,e,t){return new Cl({sa:3,fa:e.settings.fa,methodName:i._methodName,oa:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class kh extends Il{_toFieldTransform(e){return new Nr(e.path,new p)}isEqual(e){return e instanceof kh}}class Fp extends Il{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=kp(this,e,!0),o=this._a.map(d=>zu(d,t)),u=new T(o);return new Nr(e.path,u)}isEqual(e){return this===e}}class Bm extends Il{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=kp(this,e,!0),o=this._a.map(d=>zu(d,t)),u=new ae(o);return new Nr(e.path,u)}isEqual(e){return this===e}}class jm extends Il{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new zt(e.It,$l(e.It,this.wa));return new Nr(e.path,t)}isEqual(e){return this===e}}function _d(i,e,t,o){const u=i.da(1,e,t);Lh("Data must be an object, but it was:",u,o);const d=[],g=Mi.empty();Lo(o,(B,z)=>{const oe=Uh(e,B,t);z=(0,Re.m9)(z);const Ne=u.ca(oe);if(z instanceof Tl)d.push(oe);else{const pt=zu(z,Ne);null!=pt&&(d.push(oe),g.set(oe,pt))}});const D=new X(d);return new Vm(g,D,u.fieldTransforms)}function Fh(i,e,t,o,u,d){const g=i.da(1,e,t),D=[Vp(e,o,t)],B=[u];if(d.length%2!=0)throw new kt(at.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let pt=0;pt<d.length;pt+=2)D.push(Vp(e,d[pt])),B.push(d[pt+1]);const z=[],oe=Mi.empty();for(let pt=D.length-1;pt>=0;--pt)if(!Ed(z,D[pt])){const $t=D[pt];let Yt=B[pt];Yt=(0,Re.m9)(Yt);const On=g.ca($t);if(Yt instanceof Tl)z.push($t);else{const Bn=zu(Yt,On);null!=Bn&&(z.push($t),oe.set($t,Bn))}}const Ne=new X(z);return new Vm(oe,Ne,g.fieldTransforms)}function Hm(i,e,t,o=!1){return zu(t,i.da(o?4:3,e))}function zu(i,e){if(Up(i=(0,Re.m9)(i)))return Lh("Unsupported field value:",e,i),Lp(i,e);if(i instanceof Il)return function(t,o){if(!yd(o.sa))throw o.ha(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o.ha(`${t._methodName}() is not currently supported inside arrays`);const u=t._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,o){const u=[];let d=0;for(const g of t){let D=zu(g,o.aa(d));null==D&&(D={nullValue:"NULL_VALUE"}),u.push(D),d++}return{arrayValue:{values:u}}}(i,e)}return function(t,o){if(null===(t=(0,Re.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return $l(o.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const u=ai.fromDate(t);return{timestampValue:ql(o.It,u)}}if(t instanceof ai){const u=new ai(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ql(o.It,u)}}if(t instanceof md)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof eu)return{bytesValue:Fd(o.It,t._byteString)};if(t instanceof rs){const u=o.databaseId,d=t.firestore._databaseId;if(!d.isEqual(u))throw o.ha(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Ld(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o.ha(`Unsupported field value: ${wp(t)}`)}(i,e)}function Lp(i,e){const t={};return ro(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Lo(i,(o,u)=>{const d=zu(u,e.ra(o));null!=d&&(t[o]=d)}),{mapValue:{fields:t}}}function Up(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof ai||i instanceof md||i instanceof eu||i instanceof rs||i instanceof Il)}function Lh(i,e,t){if(!Up(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=wp(t);throw e.ha("an object"===o?i+" a custom object":i+" "+o)}var o}function Vp(i,e,t){if((e=(0,Re.m9)(e))instanceof yu)return e._internalPath;if("string"==typeof e)return Uh(i,e);throw vd("Field path arguments must be of type string or ",i,!1,void 0,t)}const O_=new RegExp("[~\\*/\\[\\]]");function Uh(i,e,t){if(e.search(O_)>=0)throw vd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new yu(...e.split("."))._internalPath}catch{throw vd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function vd(i,e,t,o,u){const d=o&&!o.isEmpty(),g=void 0!==u;let D=`Function ${e}() called with invalid data`;t&&(D+=" (via `toFirestore()`)"),D+=". ";let B="";return(d||g)&&(B+=" (found",d&&(B+=` in field ${o}`),g&&(B+=` in document ${u}`),B+=")"),new kt(at.INVALID_ARGUMENT,D+i+B)}function Ed(i,e){return i.some(t=>t.isEqual(e))}class mc{constructor(e,t,o,u,d){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=u,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new rs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new $m(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(wd("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class $m extends mc{data(){return super.data()}}function wd(i,e){return"string"==typeof e?Uh(i,e):e instanceof yu?e._internalPath:e._delegate._internalPath}function Bp(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new kt(at.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yc{}function _u(i,...e){for(const t of e)i=t._apply(i);return i}class Gm extends yc{constructor(e,t,o){super(),this.ma=e,this.ga=t,this.ya=o,this.type="where"}_apply(e){const t=Dl(e.firestore),o=function(u,d,g,D,B,z,oe){let Ne;if(B.isKeyField()){if("array-contains"===z||"array-contains-any"===z)throw new kt(at.INVALID_ARGUMENT,`Invalid Query. You can't perform '${z}' queries on documentId().`);if("in"===z||"not-in"===z){Sl(oe,z);const $t=[];for(const Yt of oe)$t.push(Hp(D,u,Yt));Ne={arrayValue:{values:$t}}}else Ne=Hp(D,u,oe)}else"in"!==z&&"not-in"!==z&&"array-contains-any"!==z||Sl(oe,z),Ne=Hm(g,"where",oe,"in"===z||"not-in"===z);const pt=Eo.create(B,z,Ne);return function($t,Yt){if(Yt.dt()){const Bn=Bl($t);if(null!==Bn&&!Bn.isEqual(Yt.field))throw new kt(at.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Bn.toString()}' and '${Yt.field.toString()}'`);const gi=Du($t);null!==gi&&Qm(0,Yt.field,gi)}const On=function(Bn,gi){for(const is of Bn.filters)if(gi.indexOf(is.op)>=0)return is.op;return null}($t,function(Bn){switch(Bn){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Yt.op));if(null!==On)throw new kt(at.INVALID_ARGUMENT,On===Yt.op?`Invalid query. You cannot use more than one '${Yt.op.toString()}' filter.`:`Invalid query. You cannot use '${Yt.op.toString()}' filters with '${On.toString()}' filters.`)}(u,pt),pt}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new ks(e.firestore,e.converter,function(u,d){const g=u.filters.concat([d]);return new da(u.path,u.collectionGroup,u.explicitOrderBy.slice(),g,u.limit,u.limitType,u.startAt,u.endAt)}(e._query,o))}}class u0 extends yc{constructor(e,t){super(),this.ma=e,this.pa=t,this.type="orderBy"}_apply(e){const t=function(o,u,d){if(null!==o.startAt)throw new kt(at.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new kt(at.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const g=new va(u,d);return function(D,B){if(null===Du(D)){const z=Bl(D);null!==z&&Qm(0,z,B.field)}}(o,g),g}(e._query,this.ma,this.pa);return new ks(e.firestore,e.converter,function(o,u){const d=o.explicitOrderBy.concat([u]);return new da(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}class Zm extends yc{constructor(e,t,o){super(),this.type=e,this.Ia=t,this.Ta=o}_apply(e){return new ks(e.firestore,e.converter,jl(e._query,this.Ia,this.Ta))}}class go extends yc{constructor(e,t,o){super(),this.type=e,this.Ea=t,this.Aa=o}_apply(e){const t=jp(e,this.type,this.Ea,this.Aa);return new ks(e.firestore,e.converter,(u=t,new da((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)));var o,u}}class Km extends yc{constructor(e,t,o){super(),this.type=e,this.Ea=t,this.Aa=o}_apply(e){const t=jp(e,this.type,this.Ea,this.Aa);return new ks(e.firestore,e.converter,(u=t,new da((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,u)));var o,u}}function jp(i,e,t,o){if(t[0]=(0,Re.m9)(t[0]),t[0]instanceof mc)return function(u,d,g,D,B){if(!D)throw new kt(at.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${g}().`);const z=[];for(const oe of Tu(u))if(oe.field.isKeyField())z.push(nt(d,D.key));else{const Ne=D.data.field(oe.field);if(Or(Ne))throw new kt(at.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+oe.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ne){const pt=oe.field.canonicalString();throw new kt(at.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${pt}' (used as the orderBy) does not exist.`)}z.push(Ne)}return new Ma(z,B)}(i._query,i.firestore._databaseId,e,t[0]._document,o);{const u=Dl(i.firestore);return function(d,g,D,B,z,oe){const Ne=d.explicitOrderBy;if(z.length>Ne.length)throw new kt(at.INVALID_ARGUMENT,`Too many arguments provided to ${B}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const pt=[];for(let $t=0;$t<z.length;$t++){const Yt=z[$t];if(Ne[$t].field.isKeyField()){if("string"!=typeof Yt)throw new kt(at.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${B}(), but got a ${typeof Yt}`);if(!tl(d)&&-1!==Yt.indexOf("/"))throw new kt(at.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${B}() must be a plain document ID, but '${Yt}' contains a slash.`);const On=d.path.child(Pr.fromString(Yt));if(!wn.isDocumentKey(On))throw new kt(at.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${B}() must result in a valid document path, but '${On}' is not because it contains an odd number of segments.`);const Bn=new wn(On);pt.push(nt(g,Bn))}else{const On=Hm(D,B,Yt);pt.push(On)}}return new Ma(pt,oe)}(i._query,i.firestore._databaseId,u,e,t,o)}}function Hp(i,e,t){if("string"==typeof(t=(0,Re.m9)(t))){if(""===t)throw new kt(at.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tl(e)&&-1!==t.indexOf("/"))throw new kt(at.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(Pr.fromString(t));if(!wn.isDocumentKey(o))throw new kt(at.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return nt(i,new wn(o))}if(t instanceof rs)return nt(i,t._key);throw new kt(at.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wp(t)}.`)}function Sl(i,e){if(!Array.isArray(i)||0===i.length)throw new kt(at.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new kt(at.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Qm(i,e,t){if(!t.isEqual(e))throw new kt(at.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class $p{convertValue(e,t="none"){switch(Bi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Un(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Tn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw xn()}}convertObject(e,t){const o={};return Lo(e.fields,(u,d)=>{o[u]=this.convertValue(d,t)}),o}convertGeoPoint(e){return new md(Un(e.latitude),Un(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=Ps(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(Os(e));default:return null}}convertTimestamp(e){const t=an(e);return new ai(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=Pr.fromString(e);Wt(Eg(o));const u=new Ai(o.get(1),o.get(3)),d=new wn(o.popFirst(5));return u.isEqual(t)||ui(`Document ${d} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),d}}function bd(i,e,t){let o;return o=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,o}class U_ extends $p{constructor(e){super(),this.firestore=e}convertBytes(e){return new eu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new rs(this.firestore,null,t)}}class Zu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wu extends mc{constructor(e,t,o,u,d,g){super(e,t,o,u,g),this._firestore=e,this._firestoreImpl=e,this.metadata=d}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new _c(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(wd("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class _c extends Wu{data(e={}){return super.data(e)}}class tu{constructor(e,t,o,u){this._firestore=e,this._userDataWriter=t,this._snapshot=u,this.metadata=new Zu(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new _c(this._firestore,this._userDataWriter,o.key,o,new Zu(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new kt(at.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>({type:"added",doc:new _c(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Zu(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:d++}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>u||3!==g.type).map(g=>{const D=new _c(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Zu(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let B=-1,z=-1;return 0!==g.type&&(B=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),1!==g.type&&(d=d.add(g.doc),z=d.indexOf(g.doc.key)),{type:nu(g.type),doc:D,oldIndex:B,newIndex:z}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function nu(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xn()}}function Jm(i,e){return i instanceof Wu&&e instanceof Wu?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof tu&&e instanceof tu&&i._firestore===e._firestore&&Ah(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}class jo extends $p{constructor(e){super(),this.firestore=e}convertBytes(e){return new eu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new rs(this.firestore,null,t)}}function ty(i,e,t){i=ri(i,rs);const o=ri(i.firestore,ji),u=bd(i.converter,e,t);return Al(o,[gc(Dl(o),"setDoc",i._key,u,null!==i.converter,t).toMutation(i._key,Ri.none())])}function ny(i,e,t,...o){i=ri(i,rs);const u=ri(i.firestore,ji),d=Dl(u);let g;return g="string"==typeof(e=(0,Re.m9)(e))||e instanceof yu?Fh(d,"updateDoc",i._key,e,t,o):_d(d,"updateDoc",i._key,e),Al(u,[g.toMutation(i._key,Ri.exists(!0))])}function vc(i,...e){var t,o,u;i=(0,Re.m9)(i);let d={includeMetadataChanges:!1},g=0;"object"!=typeof e[g]||fd(e[g])||(d=e[g],g++);const D={includeMetadataChanges:d.includeMetadataChanges};if(fd(e[g])){const Ne=e[g];e[g]=null===(t=Ne.next)||void 0===t?void 0:t.bind(Ne),e[g+1]=null===(o=Ne.error)||void 0===o?void 0:o.bind(Ne),e[g+2]=null===(u=Ne.complete)||void 0===u?void 0:u.bind(Ne)}let B,z,oe;if(i instanceof rs)z=ri(i.firestore,ji),oe=lu(i._key.path),B={next:Ne=>{e[g]&&e[g](zp(z,i,Ne))},error:e[g+1],complete:e[g+2]};else{const Ne=ri(i,ks);z=ri(Ne.firestore,ji),oe=Ne._query;const pt=new jo(z);B={next:$t=>{e[g]&&e[g](new tu(z,pt,Ne,$t))},error:e[g+1],complete:e[g+2]},Bp(i._query)}return function(Ne,pt,$t,Yt){const On=new Mh(Yt),Bn=new ym(pt,On,$t);return Ne.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return hm(yield hd(Ne),Bn)})),()=>{On.bc(),Ne.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return pm(yield hd(Ne),Bn)}))}}(ps(z),oe,D,B)}function Al(i,e){return function(t,o){const u=new Wr;return t.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function oc(i,e,t){return ed.apply(this,arguments)}(yield lc(t),o,u)})),u.promise}(ps(i),e)}function zp(i,e,t){const o=t.docs.get(e._key),u=new jo(i);return new Wu(i,u,e._key,o,new Zu(t.hasPendingWrites,t.fromCache),e.converter)}const Vh={maxAttempts:5};class ry{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Dl(e)}set(e,t,o){this._verifyNotCommitted();const u=vu(e,this._firestore),d=bd(u.converter,t,o),g=gc(this._dataReader,"WriteBatch.set",u._key,d,null!==u.converter,o);return this._mutations.push(g.toMutation(u._key,Ri.none())),this}update(e,t,o,...u){this._verifyNotCommitted();const d=vu(e,this._firestore);let g;return g="string"==typeof(t=(0,Re.m9)(t))||t instanceof yu?Fh(this._dataReader,"WriteBatch.update",d._key,t,o,u):_d(this._dataReader,"WriteBatch.update",d._key,t),this._mutations.push(g.toMutation(d._key,Ri.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=vu(e,this._firestore);return this._mutations=this._mutations.concat(new xu(t._key,Ri.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new kt(at.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function vu(i,e){if((i=(0,Re.m9)(i)).firestore!==e)throw new kt(at.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class iy extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Dl(e)}get(e){const t=vu(e,this._firestore),o=new U_(this._firestore);return this._transaction.lookup([t._key]).then(u=>{if(!u||1!==u.length)return xn();const d=u[0];if(d.isFoundDocument())return new mc(this._firestore,o,d.key,d,t.converter);if(d.isNoDocument())return new mc(this._firestore,o,t._key,null,t.converter);throw xn()})}set(e,t,o){const u=vu(e,this._firestore),d=bd(u.converter,t,o),g=gc(this._dataReader,"Transaction.set",u._key,d,null!==u.converter,o);return this._transaction.set(u._key,g),this}update(e,t,o,...u){const d=vu(e,this._firestore);let g;return g="string"==typeof(t=(0,Re.m9)(t))||t instanceof yu?Fh(this._dataReader,"Transaction.update",d._key,t,o,u):_d(this._dataReader,"Transaction.update",d._key,t),this._transaction.update(d._key,g),this}delete(e){const t=vu(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=vu(e,this._firestore),o=new jo(this._firestore);return super.get(e).then(u=>new Wu(this._firestore,o,t._key,u._document,new Zu(!1,!1),t.converter))}}function Yp(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new kt("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function uy(){if(typeof Uint8Array>"u")throw new kt("unimplemented","Uint8Arrays are not available in this environment.")}function ly(){if(!function Ee(){return typeof atob<"u"}())throw new kt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(i,e=!0){Vi=He.SDK_VERSION,(0,He._registerComponent)(new ot.wA("firestore",(t,{instanceIdentifier:o,options:u})=>{const d=t.getProvider("app").getImmediate(),g=new ji(new aa(t.getProvider("auth-internal")),new Cs(t.getProvider("app-check-internal")),function(D,B){if(!Object.prototype.hasOwnProperty.apply(D.options,["projectId"]))throw new kt(at.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ai(D.options.projectId,B)}(d,o),d);return u=Object.assign({useFetchStreams:e},u),g._setSettings(u),g},"PUBLIC").setMultipleInstances(!0)),(0,He.registerVersion)(sa,"3.7.1",i),(0,He.registerVersion)(sa,"3.7.1","esm2017")}();class Id{constructor(e){this._delegate=e}static fromBase64String(e){return ly(),new Id(eu.fromBase64String(e))}static fromUint8Array(e){return uy(),new Id(eu.fromUint8Array(e))}toBase64(){return ly(),this._delegate.toBase64()}toUint8Array(){return uy(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Qp(i){return function q_(i,e){if("object"!=typeof i||null===i)return!1;const t=i;for(const o of e)if(o in t&&"function"==typeof t[o])return!0;return!1}(i,["next","error","complete"])}class K_{enableIndexedDbPersistence(e,t){return function fc(i,e){Rp(i=ri(i,ji));const t=ps(i),o=i._freezeSettings(),u=new vp;return xp(t,u,new Am(u,o.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function pc(i){Rp(i=ri(i,ji));const e=ps(i),t=i._freezeSettings(),o=new vp;return xp(e,o,new _p(o,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Om(i){if(i._initialized&&!i._terminated)throw new kt(at.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Wr;return i._queue.enqueueAndForgetEvenWhileRestricted((0,ge.Z)(function*(){try{yield(t=(0,ge.Z)(function*(o){if(!To.C())return Promise.resolve();const u=o+"main";yield To.delete(u)}),function(o){return t.apply(this,arguments)})(zg(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class cy{constructor(e,t,o){this._delegate=t,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ai||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&li("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,o={}){!function Cp(i,e,t,o={}){var u;const d=(i=ri(i,uc))._getSettings();if("firestore.googleapis.com"!==d.host&&d.host!==e&&li("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},d),{host:`${e}:${t}`,ssl:!1})),o.mockUserToken){let g,D;if("string"==typeof o.mockUserToken)g=o.mockUserToken,D=Zr.MOCK_USER;else{g=(0,Re.Sg)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const B=o.mockUserToken.sub||o.mockUserToken.user_id;if(!B)throw new kt(at.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");D=new Zr(B)}i._authCredentials=new Di(new $i(g,D))}}(this._delegate,e,t,o)}enableNetwork(){return function km(i){return function M_(i){return i.asyncQueue.enqueue((0,ge.Z)(function*(){const e=yield Rm(i),t=yield Ap(i);return e.setNetworkEnabled(!0),function(o){const u=Nt(o);return u.wu.delete(0),zc(u)}(t)}))}(ps(i=ri(i,ji)))}(this._delegate)}disableNetwork(){return function Fm(i){return function x_(i){return i.asyncQueue.enqueue((0,ge.Z)(function*(){const e=yield Rm(i),t=yield Ap(i);return e.setNetworkEnabled(!1),(o=(0,ge.Z)(function*(u){const d=Nt(u);d.wu.add(0),yield rc(d),d.yu.set("Offline")}),function(u){return o.apply(this,arguments)})(t);var o}))}(ps(i=ri(i,ji)))}(this._delegate)}enablePersistence(e){let t=!1,o=!1;return e&&(t=!!e.synchronizeTabs,o=!!e.experimentalForceOwningTab,od("synchronizeTabs",t,"experimentalForceOwningTab",o)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Nm(i){return function(e){const t=new Wr;return e.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function v_(i,e){return wm.apply(this,arguments)}(yield lc(e),t)})),t.promise}(ps(i=ri(i,ji)))}(this._delegate)}onSnapshotsInSync(e){return function H_(i,e){return function qo(i,e){const t=new Mh(e);return i.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return o=yield hd(i),u=t,Nt(o).bu.add(u),void u.next();var o,u})),()=>{t.bc(),i.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return o=yield hd(i),u=t,void Nt(o).bu.delete(u);var o,u}))}}(ps(i=ri(i,ji)),fd(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new kt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new xl(this,ud(this._delegate,e))}catch(t){throw ra(t,"collection()","Firestore.collection()")}}doc(e){try{return new Oa(this,Th(this._delegate,e))}catch(t){throw ra(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ko(this,function ld(i,e){if(i=ri(i,uc),Ep("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new kt(at.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ks(i,null,(t=e,new da(Pr.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ra(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Zp(i,e,t){i=ri(i,ji);const o=Object.assign(Object.assign({},Vh),t);return function(u){if(u.maxAttempts<1)throw new kt(at.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function(u,d,g){const D=new Wr;return u.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){const B=yield function Gu(i){return Ph(i).then(e=>e.datastore)}(u);new S_(u.asyncQueue,B,g,d,D).run()})),D.promise}(ps(i),u=>e(new iy(i,u)),o)}(this._delegate,t=>e(new dy(this,t)))}batch(){return ps(this._delegate),new hy(new ry(this._delegate,e=>Al(this._delegate,e)))}loadBundle(e){return function Lm(i,e){const t=ps(i=ri(i,ji)),o=new dc;return function wl(i,e,t,o){const u=function(d,g){let D;return D="string"==typeof d?(new TextEncoder).encode(d):d,B=function(B,z){if(B instanceof Uint8Array)return Mm(B,z);if(B instanceof ArrayBuffer)return Mm(new Uint8Array(B),z);if(B instanceof ReadableStream)return B.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(D),new cd(B,g);var B}(t,tc(e));i.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){!function C_(i,e,t){const o=Nt(i);var u;(u=(0,ge.Z)(function*(d,g,D){try{const B=yield g.getMetadata();if(yield function(pt,$t){const Yt=Nt(pt),On=Mo($t.createTime);return Yt.persistence.runTransaction("hasNewerBundle","readonly",Bn=>Yt.Ns.getBundleMetadata(Bn,$t.id)).then(Bn=>!!Bn&&Bn.createTime.compareTo(On)>=0)}(d.localStore,B))return yield g.close(),D._completeWith({taskState:"Success",documentsLoaded:(pt=B).totalDocuments,bytesLoaded:pt.totalBytes,totalDocuments:pt.totalDocuments,totalBytes:pt.totalBytes}),Promise.resolve(new Set);D._updateProgress(np(B));const z=new g_(B,d.localStore,g.It);let oe=yield g.mc();for(;oe;){const pt=yield z.Fu(oe);pt&&D._updateProgress(pt),oe=yield g.mc()}const Ne=yield z.complete();return yield Qa(d,Ne.Lu,void 0),yield function(pt,$t){const Yt=Nt(pt);return Yt.persistence.runTransaction("Save bundle","readwrite",On=>Yt.Ns.saveBundleMetadata(On,$t))}(d.localStore,B),D._completeWith(Ne.progress),Promise.resolve(Ne.Bu)}catch(B){return li("SyncEngine",`Loading bundle failed with ${B}`),D._failWith(B),Promise.resolve(new Set)}var pt}),function(d,g,D){return u.apply(this,arguments)})(o,e,t).then(u=>{o.sharedClientState.notifyBundleLoaded(u)})}(yield lc(i),u,o)}))}(t,i._databaseId,e,o),o}(this._delegate,e)}namedQuery(e){return function Um(i,e){return function Nh(i,e){return i.asyncQueue.enqueue((0,ge.Z)(function*(){return function(t,o){const u=Nt(t);return u.persistence.runTransaction("Get named query","readonly",d=>u.Ns.getNamedQuery(d,o))}(yield Oh(i),e)}))}(ps(i=ri(i,ji)),e).then(t=>t?new ks(i,null,t.query):null)}(this._delegate,e).then(t=>t?new Ko(this,t):null)}}class jh extends $p{constructor(e){super(),this.firestore=e}convertBytes(e){return new Id(new eu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Oa.forKey(t,this.firestore,null)}}class dy{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new jh(e)}get(e){const t=qu(e);return this._delegate.get(t).then(o=>new Ec(this._firestore,new Wu(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,t.converter)))}set(e,t,o){const u=qu(e);return o?(Yp("Transaction.set",o),this._delegate.set(u,t,o)):this._delegate.set(u,t),this}update(e,t,o,...u){const d=qu(e);return 2===arguments.length?this._delegate.update(d,t):this._delegate.update(d,t,o,...u),this}delete(e){const t=qu(e);return this._delegate.delete(t),this}}class hy{constructor(e){this._delegate=e}set(e,t,o){const u=qu(e);return o?(Yp("WriteBatch.set",o),this._delegate.set(u,t,o)):this._delegate.set(u,t),this}update(e,t,o,...u){const d=qu(e);return 2===arguments.length?this._delegate.update(d,t):this._delegate.update(d,t,o,...u),this}delete(e){const t=qu(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Ml{constructor(e,t,o){this._firestore=e,this._userDataWriter=t,this._delegate=o}fromFirestore(e,t){const o=new _c(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new wc(this._firestore,o),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const o=Ml.INSTANCES;let u=o.get(e);u||(u=new WeakMap,o.set(e,u));let d=u.get(t);return d||(d=new Ml(e,new jh(e),t),u.set(t,d)),d}}Ml.INSTANCES=new WeakMap;class Oa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new jh(e)}static forPath(e,t,o){if(e.length%2!=0)throw new kt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Oa(t,new rs(t._delegate,o,new wn(e)))}static forKey(e,t,o){return new Oa(t,new rs(t._delegate,o,e))}get id(){return this._delegate.id}get parent(){return new xl(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new xl(this.firestore,ud(this._delegate,e))}catch(t){throw ra(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Re.m9)(e))instanceof rs&&Sh(this._delegate,e)}set(e,t){t=Yp("DocumentReference.set",t);try{return t?ty(this._delegate,e,t):ty(this._delegate,e)}catch(o){throw ra(o,"setDoc()","DocumentReference.set()")}}update(e,t,...o){try{return 1===arguments.length?ny(this._delegate,e):ny(this._delegate,e,t,...o)}catch(u){throw ra(u,"updateDoc()","DocumentReference.update()")}}delete(){return function j_(i){return Al(ri(i.firestore,ji),[new xu(i._key,Ri.none())])}(this._delegate)}onSnapshot(...e){const t=fy(e),o=py(e,u=>new Ec(this.firestore,new Wu(this.firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,this._delegate.converter)));return vc(this._delegate,t,o)}get(e){let t;return t="cache"===e?.source?function Va(i){i=ri(i,rs);const e=ri(i.firestore,ji),t=ps(e),o=new jo(e);return function Mp(i,e){const t=new Wr;return i.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return(o=(0,ge.Z)(function*(u,d,g){try{const D=yield function(B,z){const oe=Nt(B);return oe.persistence.runTransaction("read document","readonly",Ne=>oe.localDocuments.getDocument(Ne,z))}(u,d);D.isFoundDocument()?g.resolve(D):D.isNoDocument()?g.resolve(null):g.reject(new kt(at.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(D){const B=yl(D,`Failed to get document '${d} from cache`);g.reject(B)}}),function(u,d,g){return o.apply(this,arguments)})(yield Oh(i),e,t);var o})),t.promise}(t,i._key).then(u=>new Wu(e,o,i._key,u,new Zu(null!==u&&u.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===e?.source?function Ba(i){i=ri(i,rs);const e=ri(i.firestore,ji);return Pm(ps(e),i._key,{source:"server"}).then(t=>zp(e,i,t))}(this._delegate):function V_(i){i=ri(i,rs);const e=ri(i.firestore,ji);return Pm(ps(e),i._key).then(t=>zp(e,i,t))}(this._delegate),t.then(o=>new Ec(this.firestore,new Wu(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(e){return new Oa(this.firestore,this._delegate.withConverter(e?Ml.getInstance(this.firestore,e):null))}}function ra(i,e,t){return i.message=i.message.replace(e,t),i}function fy(i){for(const e of i)if("object"==typeof e&&!Qp(e))return e;return{}}function py(i,e){var t,o;let u;return u=Qp(i[0])?i[0]:Qp(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:d=>{u.next&&u.next(e(d))},error:null===(t=u.error)||void 0===t?void 0:t.bind(u),complete:null===(o=u.complete)||void 0===o?void 0:o.bind(u)}}class Ec{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Oa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Jm(this._delegate,e._delegate)}}class wc extends Ec{data(e){const t=this._delegate.data(e);return function Yn(i,e){i||xn()}(void 0!==t),t}}class Ko{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new jh(e)}where(e,t,o){try{return new Ko(this.firestore,_u(this._delegate,function zm(i,e,t){const o=e,u=wd("where",i);return new Gm(u,o,t)}(e,t,o)))}catch(u){throw ra(u,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ko(this.firestore,_u(this._delegate,function N_(i,e="asc"){const t=e,o=wd("orderBy",i);return new u0(o,t)}(e,t)))}catch(o){throw ra(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ko(this.firestore,_u(this._delegate,function Wm(i){return D_("limit",i),new Zm("limit",i,"F")}(e)))}catch(t){throw ra(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ko(this.firestore,_u(this._delegate,function k_(i){return D_("limitToLast",i),new Zm("limitToLast",i,"L")}(e)))}catch(t){throw ra(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ko(this.firestore,_u(this._delegate,function qm(...i){return new go("startAt",i,!0)}(...e)))}catch(t){throw ra(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ko(this.firestore,_u(this._delegate,function F_(...i){return new go("startAfter",i,!1)}(...e)))}catch(t){throw ra(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ko(this.firestore,_u(this._delegate,function Ym(...i){return new Km("endBefore",i,!1)}(...e)))}catch(t){throw ra(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ko(this.firestore,_u(this._delegate,function L_(...i){return new Km("endAt",i,!0)}(...e)))}catch(t){throw ra(t,"endAt()","Query.endAt()")}}isEqual(e){return Ah(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function ey(i){i=ri(i,ks);const e=ri(i.firestore,ji),t=ps(e),o=new jo(e);return function Xa(i,e){const t=new Wr;return i.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return(o=(0,ge.Z)(function*(u,d,g){try{const D=yield th(u,d,!0),B=new _h(d,D.Hi),z=B.Wu(D.documents),oe=B.applyChanges(z,!1);g.resolve(oe.snapshot)}catch(D){const B=yl(D,`Failed to execute query '${d} against cache`);g.reject(B)}}),function(u,d,g){return o.apply(this,arguments)})(yield Oh(i),e,t);var o})),t.promise}(t,i._query).then(u=>new tu(e,o,i,u))}(this._delegate):"server"===e?.source?function B_(i){i=ri(i,ks);const e=ri(i.firestore,ji),t=ps(e),o=new jo(e);return cc(t,i._query,{source:"server"}).then(u=>new tu(e,o,i,u))}(this._delegate):function Xm(i){i=ri(i,ks);const e=ri(i.firestore,ji),t=ps(e),o=new jo(e);return Bp(i._query),cc(t,i._query).then(u=>new tu(e,o,i,u))}(this._delegate),t.then(o=>new Hh(this.firestore,new tu(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...e){const t=fy(e),o=py(e,u=>new Hh(this.firestore,new tu(this.firestore._delegate,this._userDataWriter,this._delegate,u._snapshot)));return vc(this._delegate,t,o)}withConverter(e){return new Ko(this.firestore,this._delegate.withConverter(e?Ml.getInstance(this.firestore,e):null))}}class gy{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new wc(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Hh{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ko(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new wc(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new gy(this._firestore,t))}forEach(e,t){this._delegate.forEach(o=>{e.call(t,new wc(this._firestore,o))})}isEqual(e){return Jm(this._delegate,e._delegate)}}class xl extends Ko{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Oa(this.firestore,e):null}doc(e){try{return new Oa(this.firestore,void 0===e?Th(this._delegate):Th(this._delegate,e))}catch(t){throw ra(t,"doc()","CollectionReference.doc()")}}add(e){return function Gp(i,e){const t=ri(i.firestore,ji),o=Th(i),u=bd(i.converter,e);return Al(t,[gc(Dl(i.firestore),"addDoc",o._key,u,null!==i.converter,{}).toMutation(o._key,Ri.exists(!1))]).then(()=>o)}(this._delegate,e).then(t=>new Oa(this.firestore,t))}isEqual(e){return Sh(this._delegate,e._delegate)}withConverter(e){return new xl(this.firestore,this._delegate.withConverter(e?Ml.getInstance(this.firestore,e):null))}}function qu(i){return ri(i,rs)}class $h{constructor(...e){this._delegate=new yu(...e)}static documentId(){return new $h(Si.keyField().canonicalString())}isEqual(e){return(e=(0,Re.m9)(e))instanceof yu&&this._delegate._internalPath.isEqual(e._internalPath)}}class Ku{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Wp(){return new kh("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Ku(e)}static delete(){const e=function Bh(){return new Tl("deleteField")}();return e._methodName="FieldValue.delete",new Ku(e)}static arrayUnion(...e){const t=function qp(...i){return new Fp("arrayUnion",i)}(...e);return t._methodName="FieldValue.arrayUnion",new Ku(t)}static arrayRemove(...e){const t=function sy(...i){return new Bm("arrayRemove",i)}(...e);return t._methodName="FieldValue.arrayRemove",new Ku(t)}static increment(e){const t=function oy(i){return new jm("increment",i)}(e);return t._methodName="FieldValue.increment",new Ku(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const my={Firestore:cy,GeoPoint:md,Timestamp:ai,Blob:Id,Transaction:dy,WriteBatch:hy,DocumentReference:Oa,DocumentSnapshot:Ec,Query:Ko,QueryDocumentSnapshot:wc,QuerySnapshot:Hh,CollectionReference:xl,FieldPath:$h,FieldValue:Ku,setLogLevel:function Y_(i){!function Do(i){Yi.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function Rl(i){(function yy(i,e){i.INTERNAL.registerComponent(new ot.wA("firestore-compat",t=>{const o=t.getProvider("app-compat").getImmediate(),u=t.getProvider("firestore").getImmediate();return e(o,u)},"PUBLIC").setServiceProps(Object.assign({},my)))})(i,(e,t)=>new cy(e,t,new K_)),i.registerVersion("@firebase/firestore-compat","0.2.1")}(Bt.Z);var Yu=P(1205),Q_=P(7128),bc=P(127);function Gh(i,e){return function l0(i,e=U.z){return new j.y(t=>{let o;return null!=e?e.schedule(()=>{o=i.onSnapshot({includeMetadataChanges:!0},t)}):o=i.onSnapshot({includeMetadataChanges:!0},t),()=>{o?.()}})}(i,e)}function zh(i,e){return Gh(i,e).pipe((0,Q.U)(t=>({payload:t,type:"query"})))}function Cd(i,e){return zh(i,e).pipe((0,ke.O)(void 0),q(),(0,Q.U)(([t,o])=>{const u=o.payload.docChanges(),d=u.map(g=>({type:g.type,payload:g}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((g,D)=>{const B=u.find(oe=>oe.doc.ref.isEqual(g.ref)),z=t?.payload.docs.find(oe=>oe.ref.isEqual(g.ref));B&&JSON.stringify(B.doc.metadata)===JSON.stringify(g.metadata)||!B&&z&&JSON.stringify(z.metadata)===JSON.stringify(g.metadata)||d.push({type:"modified",payload:{oldIndex:D,newIndex:D,type:"modified",doc:g}})}),d}))}function J_(i,e,t){return Cd(i,t).pipe((0,me.R)((o,u)=>function mr(i,e,t){return e.forEach(o=>{t.indexOf(o.type)>-1&&(i=function X_(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return Jp(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=i.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Jp(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Jp(i,e.oldIndex,1)}return i}(i,o))}),i}(o,u.map(d=>d.payload),e),[]),function Qe(i,e=tt.y){return i=i??ze,(0,Pe.e)((t,o)=>{let u,d=!0;t.subscribe((0,Ae.x)(o,g=>{const D=e(g);(d||!i(u,D))&&(d=!1,u=D,o.next(g))}))})}(),(0,Q.U)(o=>o.map(u=>({type:u.type,payload:u}))))}function Jp(i,e,t,...o){const u=i.slice();return u.splice(e,t,...o),u}function _y(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class Pl{constructor(e,t,o){this.ref=e,this.query=t,this.afs=o}stateChanges(e){let t=Cd(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Q.U)(o=>o.filter(u=>e.indexOf(u.type)>-1)))),t.pipe((0,ke.O)(void 0),q(),(0,Pt.h)(([o,u])=>u.length>0||!o),(0,Q.U)(([o,u])=>u),Te.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,me.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=_y(e);return J_(this.query,t,this.afs.schedulers.outsideAngular).pipe(Te.iC)}valueChanges(e={}){return zh(this.query,this.afs.schedulers.outsideAngular).pipe((0,Q.U)(t=>t.payload.docs.map(o=>e.idField?Object.assign(Object.assign({},o.data()),{[e.idField]:o.id}):o.data())),Te.iC)}get(e){return(0,pe.D)(this.query.get(e)).pipe(Te.iC)}add(e){return this.ref.add(e)}doc(e){return new vy(this.ref.doc(e),this.afs)}}class vy{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const o=this.ref.collection(e),{ref:u,query:d}=Xp(o,t);return new Pl(u,d,this.afs)}snapshotChanges(){return function c0(i,e){return Gh(i,e).pipe((0,ke.O)(void 0),q(),(0,Q.U)(([t,o])=>o.exists?t?.exists?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Te.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Q.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,pe.D)(this.ref.get(e)).pipe(Te.iC)}}class Zh{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Cd(this.query,this.afs.schedulers.outsideAngular).pipe((0,Q.U)(t=>t.filter(o=>e.indexOf(o.type)>-1)),(0,Pt.h)(t=>t.length>0),Te.iC):Cd(this.query,this.afs.schedulers.outsideAngular).pipe(Te.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,me.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=_y(e);return J_(this.query,t,this.afs.schedulers.outsideAngular).pipe(Te.iC)}valueChanges(e={}){return zh(this.query,this.afs.schedulers.outsideAngular).pipe((0,Q.U)(o=>o.payload.docs.map(u=>e.idField?Object.assign({[e.idField]:u.id},u.data()):u.data())),Te.iC)}get(e){return(0,pe.D)(this.query.get(e)).pipe(Te.iC)}}const Dd=new c.OlP("angularfire2.enableFirestorePersistence"),js=new c.OlP("angularfire2.firestore.persistenceSettings"),d0=new c.OlP("angularfire2.firestore.settings"),Ey=new c.OlP("angularfire2.firestore.use-emulator");function Xp(i,e=(t=>t)){return{query:e(i),ref:i}}let wy=(()=>{class i{constructor(t,o,u,d,g,D,B,z,oe,Ne,pt,$t,Yt,On,Bn,gi,is){this.schedulers=B;const fi=(0,We.on)(t,D,o),Hs=oe;Ne&&(0,Yu.nw)(fi,D,pt,Yt,On,Bn,$t,gi),[this.firestore,this.persistenceEnabled$]=(0,We.cc)(`${fi.name}.firestore`,"AngularFirestore",fi.name,()=>{const pi=D.runOutsideAngular(()=>fi.firestore());if(d&&pi.settings(d),Hs&&pi.useEmulator(...Hs),u&&!(0,Ge.PM)(g)){const mi=()=>{try{return(0,pe.D)(pi.enablePersistence(z||void 0).then(()=>!0,()=>!1))}catch(wo){return typeof console<"u"&&console.warn(wo),(0,m.of)(!1)}};return[pi,D.runOutsideAngular(mi)]}return[pi,(0,m.of)(!1)]},[d,Hs,u])}collection(t,o){let u;u="string"==typeof t?this.firestore.collection(t):t;const{ref:d,query:g}=Xp(u,o),D=this.schedulers.ngZone.run(()=>d);return new Pl(D,g,this)}collectionGroup(t,o){const u=o||(g=>g),d=this.firestore.collectionGroup(t);return new Zh(u(d),this)}doc(t){let o;o="string"==typeof t?this.firestore.doc(t):t;const u=this.schedulers.ngZone.run(()=>o);return new vy(u,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(t){return new(t||i)(c.LFG(We.Dh),c.LFG(We.xv,8),c.LFG(Dd,8),c.LFG(d0,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Te.HU),c.LFG(js,8),c.LFG(Ey,8),c.LFG(Yu.zQ,8),c.LFG(Yu.Qv,8),c.LFG(Yu.L6,8),c.LFG(Yu._Q,8),c.LFG(Yu.rT,8),c.LFG(Yu.lh,8),c.LFG(Yu.f7,8),c.LFG(Q_.nm,8))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),by=(()=>{class i{constructor(){bc.Z.registerVersion("angularfire",Te.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:i,providers:[{provide:Dd,useValue:!0},{provide:js,useValue:t}]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({providers:[wy]}),i})()},7385:(tn,et,P)=>{P.d(et,{Q1:()=>un,TE:()=>fn});var c=P(9751),U=P(9646),j=P(8996),pe=P(4986),m=P(4482),Te=P(5403),Pe=P(4004),Ae=P(3900),q=P(5813),Q=P(4650),me=P(2011),tt=P(3942),Qe=P(6961),ze=P(4859);class Pt{constructor(ht,wt,Xt){this._delegate=ht,this.task=wt,this.ref=Xt}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class We{constructor(ht,wt){this._delegate=ht,this._ref=wt,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Pt(this._delegate.snapshot,this,this._ref)}then(ht,wt){return this._delegate.then(Xt=>{if(ht)return ht(new Pt(Xt,this,this._ref))},wt)}on(ht,wt,Xt,Fn){let sr;return wt&&(sr="function"==typeof wt?Wn=>wt(new Pt(Wn,this,this._ref)):{next:wt.next?Wn=>wt.next(new Pt(Wn,this,this._ref)):void 0,complete:wt.complete||void 0,error:wt.error||void 0}),this._delegate.on(ht,sr,Xt||void 0,Fn||void 0)}}class Ge{constructor(ht,wt){this._delegate=ht,this._service=wt}get prefixes(){return this._delegate.prefixes.map(ht=>new Tt(ht,this._service))}get items(){return this._delegate.items.map(ht=>new Tt(ht,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Tt{constructor(ht,wt){this._delegate=ht,this.storage=wt}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(ht){const wt=(0,Qe.g6)(this._delegate,ht);return new Tt(wt,this.storage)}get root(){return new Tt(this._delegate.root,this.storage)}get parent(){const ht=this._delegate.parent;return null==ht?null:new Tt(ht,this.storage)}put(ht,wt){return this._throwIfRoot("put"),new We((0,Qe.B0)(this._delegate,ht,wt),this)}putString(ht,wt=Qe.bm.RAW,Xt){this._throwIfRoot("putString");const Fn=(0,Qe.qm)(wt,ht),sr=Object.assign({},Xt);return null==sr.contentType&&null!=Fn.contentType&&(sr.contentType=Fn.contentType),new We(new Qe.IX(this._delegate,new Qe.UJ(Fn.data,!0),sr),this)}listAll(){return(0,Qe.aF)(this._delegate).then(ht=>new Ge(ht,this.storage))}list(ht){return(0,Qe.pb)(this._delegate,ht||void 0).then(wt=>new Ge(wt,this.storage))}getMetadata(){return(0,Qe.sd)(this._delegate)}updateMetadata(ht){return(0,Qe.Ym)(this._delegate,ht)}getDownloadURL(){return(0,Qe.Jt)(this._delegate)}delete(){return this._throwIfRoot("delete"),(0,Qe.oq)(this._delegate)}_throwIfRoot(ht){if(""===this._delegate._location.path)throw(0,Qe.y4)(ht)}}class Bt{constructor(ht,wt){this.app=ht,this._delegate=wt}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(ht){if(ge(ht))throw(0,Qe.gH)("ref() expected a child path but got a URL, use refFromURL instead.");return new Tt((0,Qe.iH)(this._delegate,ht),this)}refFromURL(ht){if(!ge(ht))throw(0,Qe.gH)("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Qe.gE.makeFromUrl(ht,this._delegate.host)}catch{throw(0,Qe.gH)("refFromUrl() expected a valid full URL but got an invalid one.")}return new Tt((0,Qe.iH)(this._delegate,ht),this)}setMaxUploadRetryTime(ht){this._delegate.maxUploadRetryTime=ht}setMaxOperationRetryTime(ht){this._delegate.maxOperationRetryTime=ht}useEmulator(ht,wt,Xt={}){(0,Qe.a1)(this._delegate,ht,wt,Xt)}}function ge(Dt){return/^[A-Za-z]+:\/\//.test(Dt)}function Re(Dt,{instanceIdentifier:ht}){const wt=Dt.getProvider("app-compat").getImmediate(),Xt=Dt.getProvider("storage").getImmediate({identifier:ht});return new Bt(wt,Xt)}!function Ye(Dt){const ht={TaskState:Qe.$Y,TaskEvent:Qe.FN,StringFormat:Qe.bm,Storage:Bt,Reference:Tt};Dt.INTERNAL.registerComponent(new ze.wA("storage-compat",Re,"PUBLIC").setServiceProps(ht).setMultipleInstances(!0)),Dt.registerVersion("@firebase/storage-compat","0.1.20")}(tt.Z);var rt=P(7128),_e=P(127);function xe(Dt){const ht=function Ve(Dt){return new c.y(ht=>{const wt=Wn=>ht.next(Wn);wt(Dt.snapshot);const sr=Dt.on("state_changed",wt);return Dt.then(Wn=>{wt(Wn),ht.complete()},Wn=>{wt(Dt.snapshot),(Wn=>{ht.error(Wn)})(Wn)}),function(){sr()}}).pipe(function ke(Dt,ht=pe.z){return(0,m.e)((wt,Xt)=>{let Fn=null,sr=null,Wn=null;const nr=()=>{if(Fn){Fn.unsubscribe(),Fn=null;const fr=sr;sr=null,Xt.next(fr)}};function Kn(){const fr=Wn+Dt,cn=ht.now();if(cn<fr)return Fn=this.schedule(void 0,fr-cn),void Xt.add(Fn);nr()}wt.subscribe((0,Te.x)(Xt,fr=>{sr=fr,Wn=ht.now(),Fn||(Fn=ht.schedule(Kn,Dt),Xt.add(Fn))},()=>{nr(),Xt.complete()},void 0,()=>{sr=Fn=null}))})}(0))}(Dt);return{task:Dt,then:Dt.then.bind(Dt),catch:Dt.catch.bind(Dt),pause:Dt.pause.bind(Dt),cancel:Dt.cancel.bind(Dt),resume:Dt.resume.bind(Dt),snapshotChanges:()=>ht,percentageChanges:()=>ht.pipe((0,Pe.U)(wt=>wt.bytesTransferred/wt.totalBytes*100))}}function $e(Dt){return{getDownloadURL:()=>(0,U.of)(void 0).pipe(q.fc,(0,Ae.w)(()=>Dt.getDownloadURL()),q.iC),getMetadata:()=>(0,U.of)(void 0).pipe(q.fc,(0,Ae.w)(()=>Dt.getMetadata()),q.iC),delete:()=>(0,j.D)(Dt.delete()),child:ht=>$e(Dt.child(ht)),updateMetadata:ht=>(0,j.D)(Dt.updateMetadata(ht)),put:(ht,wt)=>xe(Dt.put(ht,wt)),putString:(ht,wt,Xt)=>xe(Dt.putString(ht,wt,Xt)),list:ht=>(0,j.D)(Dt.list(ht)),listAll:()=>(0,j.D)(Dt.listAll())}}const Ft=new Q.OlP("angularfire2.storageBucket"),jt=new Q.OlP("angularfire2.storage.maxUploadRetryTime"),Kt=new Q.OlP("angularfire2.storage.maxOperationRetryTime"),nn=new Q.OlP("angularfire2.storage.use-emulator");let un=(()=>{class Dt{constructor(wt,Xt,Fn,sr,Wn,nr,Kn,fr,cn,rr){const br=(0,me.on)(wt,Wn,Xt);this.storage=(0,me.cc)(`${br.name}.storage.${Fn}`,"AngularFireStorage",br.name,()=>{const dr=Wn.runOutsideAngular(()=>br.storage(Fn||void 0)),Ut=cn;return Ut&&dr.useEmulator(...Ut),Kn&&dr.setMaxUploadRetryTime(Kn),fr&&dr.setMaxOperationRetryTime(fr),dr},[Kn,fr])}ref(wt){return $e(this.storage.ref(wt))}refFromURL(wt){return $e(this.storage.refFromURL(wt))}upload(wt,Xt,Fn){return $e(this.storage.ref(wt)).put(Xt,Fn)}}return Dt.\u0275fac=function(wt){return new(wt||Dt)(Q.LFG(me.Dh),Q.LFG(me.xv,8),Q.LFG(Ft,8),Q.LFG(Q.Lbi),Q.LFG(Q.R0b),Q.LFG(q.HU),Q.LFG(jt,8),Q.LFG(Kt,8),Q.LFG(nn,8),Q.LFG(rt.nm,8))},Dt.\u0275prov=Q.Yz7({token:Dt,factory:Dt.\u0275fac,providedIn:"any"}),Dt})(),vn=(()=>{class Dt{}return Dt.\u0275fac=function(wt){return new(wt||Dt)},Dt.\u0275mod=Q.oAB({type:Dt}),Dt.\u0275inj=Q.cJS({}),Dt})(),fn=(()=>{class Dt{constructor(){_e.Z.registerVersion("angularfire",q.q4.full,"gcs-compat")}}return Dt.\u0275fac=function(wt){return new(wt||Dt)},Dt.\u0275mod=Q.oAB({type:Dt}),Dt.\u0275inj=Q.cJS({providers:[un],imports:[vn]}),Dt})()},2011:(tn,et,P)=>{P.d(et,{Dh:()=>Pe,GT:()=>Te,cc:()=>Qe,hO:()=>tt,on:()=>q,pX:()=>m,xv:()=>Ae});var c=P(4650),U=P(127),j=P(5813);tn=P.hmd(tn);const pe=["ngOnDestroy"],m=(Ge,Tt,Bt,ge={})=>new Proxy(Ge,{get:(He,ot)=>Bt.runOutsideAngular(()=>{var _t;if(Ge[ot])return!(null===(_t=ge?.spy)||void 0===_t)&&_t.get&&ge.spy.get(ot,Ge[ot]),Ge[ot];if(pe.indexOf(ot)>-1)return()=>{};const Re=Tt.toPromise().then(Ye=>{const rt=Ye&&Ye[ot];return"function"==typeof rt?rt.bind(Ye):rt&&rt.then?rt.then(_e=>Bt.run(()=>_e)):Bt.run(()=>rt)});return new Proxy(()=>{},{get:(Ye,rt)=>Re[rt],apply:(Ye,rt,_e)=>Re.then(Ve=>{var xe;const $e=Ve&&Ve(..._e);return!(null===(xe=ge?.spy)||void 0===xe)&&xe.apply&&ge.spy.apply(ot,_e,$e),$e})})})}),Te=(Ge,Tt)=>{Tt.forEach(Bt=>{Object.getOwnPropertyNames(Bt.prototype||Bt).forEach(ge=>{Object.defineProperty(Ge.prototype,ge,Object.getOwnPropertyDescriptor(Bt.prototype||Bt,ge))})})};class ke{constructor(Tt){return Tt}}const Pe=new c.OlP("angularfire2.app.options"),Ae=new c.OlP("angularfire2.app.name");function q(Ge,Tt,Bt){const He="object"==typeof Bt&&Bt||{};He.name=He.name||"string"==typeof Bt&&Bt||"[DEFAULT]";const _t=U.Z.apps.filter(Re=>Re&&Re.name===He.name)[0]||Tt.runOutsideAngular(()=>U.Z.initializeApp(Ge,He));try{JSON.stringify(Ge)!==JSON.stringify(_t.options)&&Q("error",`${_t.name} Firebase App already initialized with different options${tn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ke(_t)}const Q=(Ge,...Tt)=>{(0,c.X6Q)()&&typeof console<"u"&&console[Ge](...Tt)},me={provide:ke,useFactory:q,deps:[Pe,c.R0b,[new c.FiY,Ae]]};let tt=(()=>{class Ge{constructor(Bt){U.Z.registerVersion("angularfire",j.q4.full,"core"),U.Z.registerVersion("angularfire",j.q4.full,"app-compat"),U.Z.registerVersion("angular",c.q4F.full,Bt.toString())}static initializeApp(Bt,ge){return{ngModule:Ge,providers:[{provide:Pe,useValue:Bt},{provide:Ae,useValue:ge}]}}}return Ge.\u0275fac=function(Bt){return new(Bt||Ge)(c.LFG(c.Lbi))},Ge.\u0275mod=c.oAB({type:Ge}),Ge.\u0275inj=c.cJS({providers:[me]}),Ge})();function Qe(Ge,Tt,Bt,ge,He){const[,ot,_t]=globalThis.\u0275AngularfireInstanceCache.find(Re=>Re[0]===Ge)||[];if(ot)return function ze(Ge,Tt){try{return Ge.toString()===Tt.toString()}catch{return Ge===Tt}}(He,_t)||(We("error",`${Tt} was already initialized on the ${Bt} Firebase App with different settings.${Pt?" You may need to reload as Firebase is not HMR aware.":""}`),We("warn",{is:He,was:_t})),ot;{const Re=ge();return globalThis.\u0275AngularfireInstanceCache.push([Ge,Re,He]),Re}}const Pt=!!tn.hot,We=(Ge,...Tt)=>{(0,c.X6Q)()&&typeof console<"u"&&console[Ge](...Tt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(tn,et,P)=>{P.d(et,{q4:()=>Gi,iC:()=>uu,fc:()=>ya,HU:()=>Xo,vb:()=>Tn,JM:()=>Un,u3:()=>Ga});var c=P(4650),U=P(5867),j=P(5861),pe=P(9681),m=P(2090),Te=P(4859),ke=P(1877),Pe=P(8766);const Ae="@firebase/installations",q="0.5.15",me=`w:${q}`,tt="FIS_v2",Tt=new m.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Bt(R){return R instanceof m.ZR&&R.code.includes("request-failed")}function ge({projectId:R}){return`https://firebaseinstallations.googleapis.com/v1/projects/${R}/installations`}function He(R){return{token:R.token,requestStatus:2,expiresIn:Ve(R.expiresIn),creationTime:Date.now()}}function ot(R,V){return _t.apply(this,arguments)}function _t(){return(_t=(0,j.Z)(function*(R,V){const Ce=(yield V.json()).error;return Tt.create("request-failed",{requestName:R,serverCode:Ce.code,serverMessage:Ce.message,serverStatus:Ce.status})})).apply(this,arguments)}function Re({apiKey:R}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":R})}function Ye(R,{refreshToken:V}){const ee=Re(R);return ee.append("Authorization",function xe(R){return`${tt} ${R}`}(V)),ee}function rt(R){return _e.apply(this,arguments)}function _e(){return(_e=(0,j.Z)(function*(R){const V=yield R();return V.status>=500&&V.status<600?R():V})).apply(this,arguments)}function Ve(R){return Number(R.replace("s","000"))}function $e(R,V){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,j.Z)(function*({appConfig:R,heartbeatServiceProvider:V},{fid:ee}){const Ce=ge(R),nt=Re(R),bt=V.getImmediate({optional:!0});if(bt){const Er=yield bt.getHeartbeatsHeader();Er&&nt.append("x-firebase-client",Er)}const Cn={method:"POST",headers:nt,body:JSON.stringify({fid:ee,authVersion:tt,appId:R.appId,sdkVersion:me})},Qn=yield rt(()=>fetch(Ce,Cn));if(Qn.ok){const Er=yield Qn.json();return{fid:Er.fid||ee,registrationStatus:2,refreshToken:Er.refreshToken,authToken:He(Er.authToken)}}throw yield ot("Create Installation",Qn)})).apply(this,arguments)}function jt(R){return new Promise(V=>{setTimeout(V,R)})}const nn=/^[cdef][\w-]{21}$/;function Ot(){try{const R=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(R),R[0]=112+R[0]%16;const ee=function vn(R){return function Kt(R){return btoa(String.fromCharCode(...R)).replace(/\+/g,"-").replace(/\//g,"_")}(R).substr(0,22)}(R);return nn.test(ee)?ee:""}catch{return""}}function fn(R){return`${R.appName}!${R.appId}`}const Dt=new Map;function ht(R,V){const ee=fn(R);Fn(ee,V),function sr(R,V){const ee=function nr(){return!Wn&&"BroadcastChannel"in self&&(Wn=new BroadcastChannel("[Firebase] FID Change"),Wn.onmessage=R=>{Fn(R.data.key,R.data.fid)}),Wn}();ee&&ee.postMessage({key:R,fid:V}),function Kn(){0===Dt.size&&Wn&&(Wn.close(),Wn=null)}()}(ee,V)}function Fn(R,V){const ee=Dt.get(R);if(ee)for(const Ce of ee)Ce(V)}let Wn=null;const rr="firebase-installations-store";let br=null;function dr(){return br||(br=(0,Pe.X3)("firebase-installations-database",1,{upgrade:(R,V)=>{0===V&&R.createObjectStore(rr)}})),br}function Ut(R,V){return or.apply(this,arguments)}function or(){return(or=(0,j.Z)(function*(R,V){const ee=fn(R),nt=(yield dr()).transaction(rr,"readwrite"),bt=nt.objectStore(rr),qt=yield bt.get(ee);return yield bt.put(V,ee),yield nt.done,(!qt||qt.fid!==V.fid)&&ht(R,V.fid),V})).apply(this,arguments)}function Ln(R){return jn.apply(this,arguments)}function jn(){return(jn=(0,j.Z)(function*(R){const V=fn(R),Ce=(yield dr()).transaction(rr,"readwrite");yield Ce.objectStore(rr).delete(V),yield Ce.done})).apply(this,arguments)}function pr(R,V){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,j.Z)(function*(R,V){const ee=fn(R),nt=(yield dr()).transaction(rr,"readwrite"),bt=nt.objectStore(rr),qt=yield bt.get(ee),Cn=V(qt);return void 0===Cn?yield bt.delete(ee):yield bt.put(Cn,ee),yield nt.done,Cn&&(!qt||qt.fid!==Cn.fid)&&ht(R,Cn.fid),Cn})).apply(this,arguments)}function Ar(R){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,j.Z)(function*(R){let V;const ee=yield pr(R.appConfig,Ce=>{const nt=qn(Ce),bt=yn(R,nt);return V=bt.registrationPromise,bt.installationEntry});return""===ee.fid?{installationEntry:yield V}:{installationEntry:ee,registrationPromise:V}})).apply(this,arguments)}function qn(R){return yt(R||{fid:Ot(),registrationStatus:0})}function yn(R,V){if(0===V.registrationStatus){if(!navigator.onLine)return{installationEntry:V,registrationPromise:Promise.reject(Tt.create("app-offline"))};const ee={fid:V.fid,registrationStatus:1,registrationTime:Date.now()},Ce=function mn(R,V){return Rn.apply(this,arguments)}(R,ee);return{installationEntry:ee,registrationPromise:Ce}}return 1===V.registrationStatus?{installationEntry:V,registrationPromise:Et(R)}:{installationEntry:V}}function Rn(){return(Rn=(0,j.Z)(function*(R,V){try{const ee=yield $e(R,V);return Ut(R.appConfig,ee)}catch(ee){throw Bt(ee)&&409===ee.customData.serverCode?yield Ln(R.appConfig):yield Ut(R.appConfig,{fid:V.fid,registrationStatus:0}),ee}})).apply(this,arguments)}function Et(R){return Se.apply(this,arguments)}function Se(){return(Se=(0,j.Z)(function*(R){let V=yield Ue(R.appConfig);for(;1===V.registrationStatus;)yield jt(100),V=yield Ue(R.appConfig);if(0===V.registrationStatus){const{installationEntry:ee,registrationPromise:Ce}=yield Ar(R);return Ce||ee}return V})).apply(this,arguments)}function Ue(R){return pr(R,V=>{if(!V)throw Tt.create("installation-not-found");return yt(V)})}function yt(R){return function St(R){return 1===R.registrationStatus&&R.registrationTime+1e4<Date.now()}(R)?{fid:R.fid,registrationStatus:0}:R}function Qt(R,V){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,j.Z)(function*({appConfig:R,heartbeatServiceProvider:V},ee){const Ce=ln(R,ee),nt=Ye(R,ee),bt=V.getImmediate({optional:!0});if(bt){const Er=yield bt.getHeartbeatsHeader();Er&&nt.append("x-firebase-client",Er)}const Cn={method:"POST",headers:nt,body:JSON.stringify({installation:{sdkVersion:me,appId:R.appId}})},Qn=yield rt(()=>fetch(Ce,Cn));if(Qn.ok)return He(yield Qn.json());throw yield ot("Generate Auth Token",Qn)})).apply(this,arguments)}function ln(R,{fid:V}){return`${ge(R)}/${V}/authTokens:generate`}function Sn(R){return we.apply(this,arguments)}function we(){return(we=(0,j.Z)(function*(R,V=!1){let ee;const Ce=yield pr(R.appConfig,bt=>{if(!pn(bt))throw Tt.create("not-registered");const qt=bt.authToken;if(!V&&De(qt))return bt;if(1===qt.requestStatus)return ee=lt(R,V),bt;{if(!navigator.onLine)throw Tt.create("app-offline");const Cn=Oe(bt);return ee=ut(R,Cn),Cn}});return ee?yield ee:Ce.authToken})).apply(this,arguments)}function lt(R,V){return le.apply(this,arguments)}function le(){return(le=(0,j.Z)(function*(R,V){let ee=yield ve(R.appConfig);for(;1===ee.authToken.requestStatus;)yield jt(100),ee=yield ve(R.appConfig);const Ce=ee.authToken;return 0===Ce.requestStatus?Sn(R,V):Ce})).apply(this,arguments)}function ve(R){return pr(R,V=>{if(!pn(V))throw Tt.create("not-registered");return function ue(R){return 1===R.requestStatus&&R.requestTime+1e4<Date.now()}(V.authToken)?Object.assign(Object.assign({},V),{authToken:{requestStatus:0}}):V})}function ut(R,V){return It.apply(this,arguments)}function It(){return(It=(0,j.Z)(function*(R,V){try{const ee=yield Qt(R,V),Ce=Object.assign(Object.assign({},V),{authToken:ee});return yield Ut(R.appConfig,Ce),ee}catch(ee){if(!Bt(ee)||401!==ee.customData.serverCode&&404!==ee.customData.serverCode){const Ce=Object.assign(Object.assign({},V),{authToken:{requestStatus:0}});yield Ut(R.appConfig,Ce)}else yield Ln(R.appConfig);throw ee}})).apply(this,arguments)}function pn(R){return void 0!==R&&2===R.registrationStatus}function De(R){return 2===R.requestStatus&&!function ce(R){const V=Date.now();return V<R.creationTime||R.creationTime+R.expiresIn<V+36e5}(R)}function Oe(R){const V={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},R),{authToken:V})}function ie(){return(ie=(0,j.Z)(function*(R){const V=R,{installationEntry:ee,registrationPromise:Ce}=yield Ar(V);return Ce?Ce.catch(console.error):Sn(V).catch(console.error),ee.fid})).apply(this,arguments)}function xt(){return(xt=(0,j.Z)(function*(R,V=!1){const ee=R;return yield rn(ee),(yield Sn(ee,V)).token})).apply(this,arguments)}function rn(R){return sn.apply(this,arguments)}function sn(){return(sn=(0,j.Z)(function*(R){const{registrationPromise:V}=yield Ar(R);V&&(yield V)})).apply(this,arguments)}function ur(R){return Tt.create("missing-app-config-values",{valueName:R})}const Yr="installations",Zi=R=>{const V=R.getProvider("app").getImmediate(),ee=function An(R){if(!R||!R.options)throw ur("App Configuration");if(!R.name)throw ur("App Name");const V=["projectId","apiKey","appId"];for(const ee of V)if(!R.options[ee])throw ur(ee);return{appName:R.name,projectId:R.options.projectId,apiKey:R.options.apiKey,appId:R.options.appId}}(V);return{app:V,appConfig:ee,heartbeatServiceProvider:(0,pe._getProvider)(V,"heartbeat"),_delete:()=>Promise.resolve()}},yi=R=>{const V=R.getProvider("app").getImmediate(),ee=(0,pe._getProvider)(V,Yr).getImmediate();return{getId:()=>function Z(R){return ie.apply(this,arguments)}(ee),getToken:nt=>function Be(R){return xt.apply(this,arguments)}(ee,nt)}};(function _i(){(0,pe._registerComponent)(new Te.wA(Yr,Zi,"PUBLIC")),(0,pe._registerComponent)(new Te.wA("installations-internal",yi,"PRIVATE"))})(),(0,pe.registerVersion)(Ae,q),(0,pe.registerVersion)(Ae,q,"esm2017");const gs="@firebase/remote-config",qr=new m.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class os{constructor(V,ee,Ce,nt){this.client=V,this.storage=ee,this.storageCache=Ce,this.logger=nt}isCachedDataFresh(V,ee){if(!ee)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Ce=Date.now()-ee,nt=Ce<=V;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Ce}. Cache max age millis (minimumFetchIntervalMillis setting): ${V}. Is cache hit: ${nt}.`),nt}fetch(V){var ee=this;return(0,j.Z)(function*(){const[Ce,nt]=yield Promise.all([ee.storage.getLastSuccessfulFetchTimestampMillis(),ee.storage.getLastSuccessfulFetchResponse()]);if(nt&&ee.isCachedDataFresh(V.cacheMaxAgeMillis,Ce))return nt;V.eTag=nt&&nt.eTag;const bt=yield ee.client.fetch(V),qt=[ee.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===bt.status&&qt.push(ee.storage.setLastSuccessfulFetchResponse(bt)),yield Promise.all(qt),bt})()}}function Xi(R=navigator){return R.languages&&R.languages[0]||R.language}class Ts{constructor(V,ee,Ce,nt,bt,qt){this.firebaseInstallations=V,this.sdkVersion=ee,this.namespace=Ce,this.projectId=nt,this.apiKey=bt,this.appId=qt}fetch(V){var ee=this;return(0,j.Z)(function*(){var Ce,nt,bt;const[qt,Cn]=yield Promise.all([ee.firebaseInstallations.getId(),ee.firebaseInstallations.getToken()]),Er=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${ee.projectId}/namespaces/${ee.namespace}:fetch?key=${ee.apiKey}`,wr={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":V.eTag||"*"},tr={sdk_version:ee.sdkVersion,app_instance_id:qt,app_instance_id_token:Cn,app_id:ee.appId,language_code:Xi()},Ns={method:"POST",headers:wr,body:JSON.stringify(tr)},vo=fetch(Er,Ns),za=new Promise((_a,So)=>{V.signal.addEventListener(()=>{const Dc=new Error("The operation was aborted.");Dc.name="AbortError",So(Dc)})});let Za;try{yield Promise.race([vo,za]),Za=yield vo}catch(_a){let So="fetch-client-network";throw"AbortError"===(null===(Ce=_a)||void 0===Ce?void 0:Ce.name)&&(So="fetch-timeout"),qr.create(So,{originalErrorMessage:null===(nt=_a)||void 0===nt?void 0:nt.message})}let Mi=Za.status;const Aa=Za.headers.get("ETag")||void 0;let xi,Cu;if(200===Za.status){let _a;try{_a=yield Za.json()}catch(So){throw qr.create("fetch-client-parse",{originalErrorMessage:null===(bt=So)||void 0===bt?void 0:bt.message})}xi=_a.entries,Cu=_a.state}if("INSTANCE_STATE_UNSPECIFIED"===Cu?Mi=500:"NO_CHANGE"===Cu?Mi=304:("NO_TEMPLATE"===Cu||"EMPTY_CONFIG"===Cu)&&(xi={}),304!==Mi&&200!==Mi)throw qr.create("fetch-status",{httpStatus:Mi});return{status:Mi,eTag:Aa,config:xi}})()}}class as{constructor(V,ee){this.client=V,this.storage=ee}fetch(V){var ee=this;return(0,j.Z)(function*(){const Ce=(yield ee.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return ee.attemptFetch(V,Ce)})()}attemptFetch(V,{throttleEndTimeMillis:ee,backoffCount:Ce}){var nt=this;return(0,j.Z)(function*(){yield function Li(R,V){return new Promise((ee,Ce)=>{const nt=Math.max(V-Date.now(),0),bt=setTimeout(ee,nt);R.addEventListener(()=>{clearTimeout(bt),Ce(qr.create("fetch-throttle",{throttleEndTimeMillis:V}))})})}(V.signal,ee);try{const bt=yield nt.client.fetch(V);return yield nt.storage.deleteThrottleMetadata(),bt}catch(bt){if(!function Ei(R){if(!(R instanceof m.ZR&&R.customData))return!1;const V=Number(R.customData.httpStatus);return 429===V||500===V||503===V||504===V}(bt))throw bt;const qt={throttleEndTimeMillis:Date.now()+(0,m.$s)(Ce),backoffCount:Ce+1};return yield nt.storage.setThrottleMetadata(qt),nt.attemptFetch(V,qt)}})()}}class ao{constructor(V,ee,Ce,nt,bt){this.app=V,this._client=ee,this._storageCache=Ce,this._storage=nt,this._logger=bt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function $s(R,V){var ee;const Ce=R.target.error||void 0;return qr.create(V,{originalErrorMessage:Ce&&(null===(ee=Ce)||void 0===ee?void 0:ee.message)})}const Ss="app_namespace_store";class uo{constructor(V,ee,Ce,nt=function yo(){return new Promise((R,V)=>{var ee;try{const Ce=indexedDB.open("firebase_remote_config",1);Ce.onerror=nt=>{V($s(nt,"storage-open"))},Ce.onsuccess=nt=>{R(nt.target.result)},Ce.onupgradeneeded=nt=>{0===nt.oldVersion&&nt.target.result.createObjectStore(Ss,{keyPath:"compositeKey"})}}catch(Ce){V(qr.create("storage-open",{originalErrorMessage:null===(ee=Ce)||void 0===ee?void 0:ee.message}))}})}()){this.appId=V,this.appName=ee,this.namespace=Ce,this.openDbPromise=nt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(V){return this.set("last_fetch_status",V)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(V){return this.set("last_successful_fetch_timestamp_millis",V)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(V){return this.set("last_successful_fetch_response",V)}getActiveConfig(){return this.get("active_config")}setActiveConfig(V){return this.set("active_config",V)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(V){return this.set("active_config_etag",V)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(V){return this.set("throttle_metadata",V)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(V){var ee=this;return(0,j.Z)(function*(){const Ce=yield ee.openDbPromise;return new Promise((nt,bt)=>{var qt;const Qn=Ce.transaction([Ss],"readonly").objectStore(Ss),Er=ee.createCompositeKey(V);try{const wr=Qn.get(Er);wr.onerror=tr=>{bt($s(tr,"storage-get"))},wr.onsuccess=tr=>{const Ns=tr.target.result;nt(Ns?Ns.value:void 0)}}catch(wr){bt(qr.create("storage-get",{originalErrorMessage:null===(qt=wr)||void 0===qt?void 0:qt.message}))}})})()}set(V,ee){var Ce=this;return(0,j.Z)(function*(){const nt=yield Ce.openDbPromise;return new Promise((bt,qt)=>{var Cn;const Er=nt.transaction([Ss],"readwrite").objectStore(Ss),wr=Ce.createCompositeKey(V);try{const tr=Er.put({compositeKey:wr,value:ee});tr.onerror=Ns=>{qt($s(Ns,"storage-set"))},tr.onsuccess=()=>{bt()}}catch(tr){qt(qr.create("storage-set",{originalErrorMessage:null===(Cn=tr)||void 0===Cn?void 0:Cn.message}))}})})()}delete(V){var ee=this;return(0,j.Z)(function*(){const Ce=yield ee.openDbPromise;return new Promise((nt,bt)=>{var qt;const Qn=Ce.transaction([Ss],"readwrite").objectStore(Ss),Er=ee.createCompositeKey(V);try{const wr=Qn.delete(Er);wr.onerror=tr=>{bt($s(tr,"storage-delete"))},wr.onsuccess=()=>{nt()}}catch(wr){bt(qr.create("storage-delete",{originalErrorMessage:null===(qt=wr)||void 0===qt?void 0:qt.message}))}})})()}createCompositeKey(V){return[this.appId,this.appName,this.namespace,V].join()}}class us{constructor(V){this.storage=V}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var V=this;return(0,j.Z)(function*(){const ee=V.storage.getLastFetchStatus(),Ce=V.storage.getLastSuccessfulFetchTimestampMillis(),nt=V.storage.getActiveConfig(),bt=yield ee;bt&&(V.lastFetchStatus=bt);const qt=yield Ce;qt&&(V.lastSuccessfulFetchTimestampMillis=qt);const Cn=yield nt;Cn&&(V.activeConfig=Cn)})()}setLastFetchStatus(V){return this.lastFetchStatus=V,this.storage.setLastFetchStatus(V)}setLastSuccessfulFetchTimestampMillis(V){return this.lastSuccessfulFetchTimestampMillis=V,this.storage.setLastSuccessfulFetchTimestampMillis(V)}setActiveConfig(V){return this.activeConfig=V,this.storage.setActiveConfig(V)}}function Qs(){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,j.Z)(function*(){if(!(0,m.hl)())return!1;try{return yield(0,m.eu)()}catch{return!1}})).apply(this,arguments)}!function ls(){(0,pe._registerComponent)(new Te.wA("remote-config",function R(V,{instanceIdentifier:ee}){const Ce=V.getProvider("app").getImmediate(),nt=V.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw qr.create("registration-window");if(!(0,m.hl)())throw qr.create("indexed-db-unavailable");const{projectId:bt,apiKey:qt,appId:Cn}=Ce.options;if(!bt)throw qr.create("registration-project-id");if(!qt)throw qr.create("registration-api-key");if(!Cn)throw qr.create("registration-app-id");const Qn=new uo(Cn,Ce.name,ee=ee||"firebase"),Er=new us(Qn),wr=new ke.Yd(gs);wr.logLevel=ke.in.ERROR;const tr=new Ts(nt,pe.SDK_VERSION,ee,bt,qt,Cn),Ns=new as(tr,Qn),vo=new os(Ns,Qn,Er,wr),za=new ao(Ce,vo,Er,Qn,wr);return function it(R){const V=(0,m.m9)(R);V._initializePromise||(V._initializePromise=V._storageCache.loadFromStorage().then(()=>{V._isInitializationComplete=!0}))}(za),za},"PUBLIC").setMultipleInstances(!0)),(0,pe.registerVersion)(gs,"0.3.14"),(0,pe.registerVersion)(gs,"0.3.14","esm2017")}();const di="/firebase-messaging-sw.js",ys="/firebase-cloud-messaging-push-scope",Ui="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Js="google.c.a.c_id",zs="google.c.a.c_l",_s="google.c.a.ts",vs="google.c.a.e";var ki=(()=>{return(R=ki||(ki={})).PUSH_RECEIVED="push-received",R.NOTIFICATION_CLICKED="notification-clicked",ki;var R})();function bi(R){const V=new Uint8Array(R);return btoa(String.fromCharCode(...V)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Hi(R){const ee=(R+"=".repeat((4-R.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Ce=atob(ee),nt=new Uint8Array(Ce.length);for(let bt=0;bt<Ce.length;++bt)nt[bt]=Ce.charCodeAt(bt);return nt}const es="fcm_token_details_db",W="fcm_token_object_Store";function be(R){return Fe.apply(this,arguments)}function Fe(){return Fe=(0,j.Z)(function*(R){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(bt=>bt.name).includes(es))return null;let V=null;return(yield(0,Pe.X3)(es,5,{upgrade:(Ce=(0,j.Z)(function*(nt,bt,qt,Cn){var Qn;if(bt<2||!nt.objectStoreNames.contains(W))return;const Er=Cn.objectStore(W),wr=yield Er.index("fcmSenderId").get(R);if(yield Er.clear(),wr)if(2===bt){const tr=wr;if(!tr.auth||!tr.p256dh||!tr.endpoint)return;V={token:tr.fcmToken,createTime:null!==(Qn=tr.createTime)&&void 0!==Qn?Qn:Date.now(),subscriptionOptions:{auth:tr.auth,p256dh:tr.p256dh,endpoint:tr.endpoint,swScope:tr.swScope,vapidKey:"string"==typeof tr.vapidKey?tr.vapidKey:bi(tr.vapidKey)}}}else if(3===bt){const tr=wr;V={token:tr.fcmToken,createTime:tr.createTime,subscriptionOptions:{auth:bi(tr.auth),p256dh:bi(tr.p256dh),endpoint:tr.endpoint,swScope:tr.swScope,vapidKey:bi(tr.vapidKey)}}}else if(4===bt){const tr=wr;V={token:tr.fcmToken,createTime:tr.createTime,subscriptionOptions:{auth:bi(tr.auth),p256dh:bi(tr.p256dh),endpoint:tr.endpoint,swScope:tr.swScope,vapidKey:bi(tr.vapidKey)}}}}),function(bt,qt,Cn,Qn){return Ce.apply(this,arguments)})})).close(),yield(0,Pe.Lj)(es),yield(0,Pe.Lj)("fcm_vapid_details_db"),yield(0,Pe.Lj)("undefined"),Ze(V)?V:null;var Ce}),Fe.apply(this,arguments)}function Ze(R){if(!R||!R.subscriptionOptions)return!1;const{subscriptionOptions:V}=R;return"number"==typeof R.createTime&&R.createTime>0&&"string"==typeof R.token&&R.token.length>0&&"string"==typeof V.auth&&V.auth.length>0&&"string"==typeof V.p256dh&&V.p256dh.length>0&&"string"==typeof V.endpoint&&V.endpoint.length>0&&"string"==typeof V.swScope&&V.swScope.length>0&&"string"==typeof V.vapidKey&&V.vapidKey.length>0}const In="firebase-messaging-store";let hn=null;function _n(){return hn||(hn=(0,Pe.X3)("firebase-messaging-database",1,{upgrade:(R,V)=>{0===V&&R.createObjectStore(In)}})),hn}function cr(R){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,j.Z)(function*(R){const V=xr(R),Ce=yield(yield _n()).transaction(In).objectStore(In).get(V);if(Ce)return Ce;{const nt=yield be(R.appConfig.senderId);if(nt)return yield $n(R,nt),nt}})).apply(this,arguments)}function $n(R,V){return si.apply(this,arguments)}function si(){return(si=(0,j.Z)(function*(R,V){const ee=xr(R),nt=(yield _n()).transaction(In,"readwrite");return yield nt.objectStore(In).put(V,ee),yield nt.done,V})).apply(this,arguments)}function $r(R){return ts.apply(this,arguments)}function ts(){return(ts=(0,j.Z)(function*(R){const V=xr(R),Ce=(yield _n()).transaction(In,"readwrite");yield Ce.objectStore(In).delete(V),yield Ce.done})).apply(this,arguments)}function xr({appConfig:R}){return R.appId}const Gr=new m.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Dn(R,V){return zr.apply(this,arguments)}function zr(){return(zr=(0,j.Z)(function*(R,V){var ee;const Ce=yield Fi(R),nt=Gt(V),bt={method:"POST",headers:Ce,body:JSON.stringify(nt)};let qt;try{qt=yield(yield fetch(ws(R.appConfig),bt)).json()}catch(Cn){throw Gr.create("token-subscribe-failed",{errorInfo:null===(ee=Cn)||void 0===ee?void 0:ee.toString()})}if(qt.error)throw Gr.create("token-subscribe-failed",{errorInfo:qt.error.message});if(!qt.token)throw Gr.create("token-subscribe-no-token");return qt.token})).apply(this,arguments)}function Xs(R,V){return Es.apply(this,arguments)}function Es(){return(Es=(0,j.Z)(function*(R,V){var ee;const Ce=yield Fi(R),nt=Gt(V.subscriptionOptions),bt={method:"PATCH",headers:Ce,body:JSON.stringify(nt)};let qt;try{qt=yield(yield fetch(`${ws(R.appConfig)}/${V.token}`,bt)).json()}catch(Cn){throw Gr.create("token-update-failed",{errorInfo:null===(ee=Cn)||void 0===ee?void 0:ee.toString()})}if(qt.error)throw Gr.create("token-update-failed",{errorInfo:qt.error.message});if(!qt.token)throw Gr.create("token-update-no-token");return qt.token})).apply(this,arguments)}function Ls(R,V){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,j.Z)(function*(R,V){var ee;const nt={method:"DELETE",headers:yield Fi(R)};try{const qt=yield(yield fetch(`${ws(R.appConfig)}/${V}`,nt)).json();if(qt.error)throw Gr.create("token-unsubscribe-failed",{errorInfo:qt.error.message})}catch(bt){throw Gr.create("token-unsubscribe-failed",{errorInfo:null===(ee=bt)||void 0===ee?void 0:ee.toString()})}})).apply(this,arguments)}function ws({projectId:R}){return`https://fcmregistrations.googleapis.com/v1/projects/${R}/registrations`}function Fi(R){return co.apply(this,arguments)}function co(){return(co=(0,j.Z)(function*({appConfig:R,installations:V}){const ee=yield V.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":R.apiKey,"x-goog-firebase-installations-auth":`FIS ${ee}`})})).apply(this,arguments)}function Gt({p256dh:R,auth:V,endpoint:ee,vapidKey:Ce}){const nt={web:{endpoint:ee,auth:V,p256dh:R}};return Ce!==Ui&&(nt.web.applicationPubKey=Ce),nt}const hr=6048e5;function Po(R){return eo.apply(this,arguments)}function eo(){return(eo=(0,j.Z)(function*(R){const V=yield Oo(R.swRegistration,R.vapidKey),ee={vapidKey:R.vapidKey,swScope:R.swRegistration.scope,endpoint:V.endpoint,auth:bi(V.getKey("auth")),p256dh:bi(V.getKey("p256dh"))},Ce=yield cr(R.firebaseDependencies);if(Ce){if(L(Ce.subscriptionOptions,ee))return Date.now()>=Ce.createTime+hr?ho(R,{token:Ce.token,createTime:Date.now(),subscriptionOptions:ee}):Ce.token;try{yield Ls(R.firebaseDependencies,Ce.token)}catch(nt){console.warn(nt)}return Ho(R.firebaseDependencies,ee)}return Ho(R.firebaseDependencies,ee)})).apply(this,arguments)}function oi(R){return Us.apply(this,arguments)}function Us(){return(Us=(0,j.Z)(function*(R){const V=yield cr(R.firebaseDependencies);V&&(yield Ls(R.firebaseDependencies,V.token),yield $r(R.firebaseDependencies));const ee=yield R.swRegistration.pushManager.getSubscription();return!ee||ee.unsubscribe()})).apply(this,arguments)}function ho(R,V){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,j.Z)(function*(R,V){try{const ee=yield Xs(R.firebaseDependencies,V),Ce=Object.assign(Object.assign({},V),{token:ee,createTime:Date.now()});return yield $n(R.firebaseDependencies,Ce),ee}catch(ee){throw yield oi(R),ee}})).apply(this,arguments)}function Ho(R,V){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,j.Z)(function*(R,V){const Ce={token:yield Dn(R,V),createTime:Date.now(),subscriptionOptions:V};return yield $n(R,Ce),Ce.token})).apply(this,arguments)}function Oo(R,V){return fo.apply(this,arguments)}function fo(){return(fo=(0,j.Z)(function*(R,V){return(yield R.pushManager.getSubscription())||R.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Hi(V)})})).apply(this,arguments)}function L(R,V){return V.vapidKey===R.vapidKey&&V.endpoint===R.endpoint&&V.auth===R.auth&&V.p256dh===R.p256dh}function k(R){const V={from:R.from,collapseKey:R.collapse_key,messageId:R.fcmMessageId};return function M(R,V){if(!V.notification)return;R.notification={};const ee=V.notification.title;ee&&(R.notification.title=ee);const Ce=V.notification.body;Ce&&(R.notification.body=Ce);const nt=V.notification.image;nt&&(R.notification.image=nt)}(V,R),function ne(R,V){!V.data||(R.data=V.data)}(V,R),function gt(R,V){var ee,Ce,nt,bt,qt;if(!(V.fcmOptions||null!==(ee=V.notification)&&void 0!==ee&&ee.click_action))return;R.fcmOptions={};const Cn=null!==(nt=null===(Ce=V.fcmOptions)||void 0===Ce?void 0:Ce.link)&&void 0!==nt?nt:null===(bt=V.notification)||void 0===bt?void 0:bt.click_action;Cn&&(R.fcmOptions.link=Cn);const Qn=null===(qt=V.fcmOptions)||void 0===qt?void 0:qt.analytics_label;Qn&&(R.fcmOptions.analyticsLabel=Qn)}(V,R),V}function En(R){return"object"==typeof R&&!!R&&Js in R}function Lr(R,V){const ee=[];for(let Ce=0;Ce<R.length;Ce++)ee.push(R.charAt(Ce)),Ce<V.length&&ee.push(V.charAt(Ce));return ee.join("")}function bs(R){return Gr.create("missing-app-config-values",{valueName:R})}Lr("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Lr("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ms{constructor(V,ee,Ce){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const nt=function vr(R){if(!R||!R.options)throw bs("App Configuration Object");if(!R.name)throw bs("App Name");const V=["projectId","apiKey","appId","messagingSenderId"],{options:ee}=R;for(const Ce of V)if(!ee[Ce])throw bs(Ce);return{appName:R.name,projectId:ee.projectId,apiKey:ee.apiKey,appId:ee.appId,senderId:ee.messagingSenderId}}(V);this.firebaseDependencies={app:V,appConfig:nt,installations:ee,analyticsProvider:Ce}}_delete(){return Promise.resolve()}}function bo(R){return po.apply(this,arguments)}function po(){return(po=(0,j.Z)(function*(R){var V;try{R.swRegistration=yield navigator.serviceWorker.register(di,{scope:ys}),R.swRegistration.update().catch(()=>{})}catch(ee){throw Gr.create("failed-service-worker-registration",{browserErrorMessage:null===(V=ee)||void 0===V?void 0:V.message})}})).apply(this,arguments)}function No(R,V){return $o.apply(this,arguments)}function $o(){return($o=(0,j.Z)(function*(R,V){if(!V&&!R.swRegistration&&(yield bo(R)),V||!R.swRegistration){if(!(V instanceof ServiceWorkerRegistration))throw Gr.create("invalid-sw-registration");R.swRegistration=V}})).apply(this,arguments)}function ia(R,V){return Io.apply(this,arguments)}function Io(){return(Io=(0,j.Z)(function*(R,V){V?R.vapidKey=V:R.vapidKey||(R.vapidKey=Ui)})).apply(this,arguments)}function Is(){return(Is=(0,j.Z)(function*(R,V){if(!navigator)throw Gr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Gr.create("permission-blocked");return yield ia(R,V?.vapidKey),yield No(R,V?.serviceWorkerRegistration),Po(R)})).apply(this,arguments)}function Yo(R,V,ee){return Co.apply(this,arguments)}function Co(){return(Co=(0,j.Z)(function*(R,V,ee){const Ce=ga(V);(yield R.firebaseDependencies.analyticsProvider.get()).logEvent(Ce,{message_id:ee[Js],message_name:ee[zs],message_time:ee[_s],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ga(R){switch(R){case ki.NOTIFICATION_CLICKED:return"notification_open";case ki.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function G(){return(G=(0,j.Z)(function*(R,V){const ee=V.data;if(!ee.isFirebaseMessaging)return;R.onMessageHandler&&ee.messageType===ki.PUSH_RECEIVED&&("function"==typeof R.onMessageHandler?R.onMessageHandler(k(ee)):R.onMessageHandler.next(k(ee)));const Ce=ee.data;En(Ce)&&"1"===Ce[vs]&&(yield Yo(R,ee.messageType,Ce))})).apply(this,arguments)}const O="@firebase/messaging",Me=R=>{const V=new Ms(R.getProvider("app").getImmediate(),R.getProvider("installations-internal").getImmediate(),R.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",ee=>function S(R,V){return G.apply(this,arguments)}(V,ee)),V},vt=R=>{const V=R.getProvider("messaging").getImmediate();return{getToken:Ce=>function pa(R,V){return Is.apply(this,arguments)}(V,Ce)}};function Nn(){return _r.apply(this,arguments)}function _r(){return(_r=(0,j.Z)(function*(){try{yield(0,m.eu)()}catch{return!1}return typeof window<"u"&&(0,m.hl)()&&(0,m.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Rt(){(0,pe._registerComponent)(new Te.wA("messaging",Me,"PUBLIC")),(0,pe._registerComponent)(new Te.wA("messaging-internal",vt,"PRIVATE")),(0,pe.registerVersion)(O,"0.9.19"),(0,pe.registerVersion)(O,"0.9.19","esm2017")}();const E="analytics",N="firebase_id",K="origin",Le="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",je="https://www.googletagmanager.com/gtag/js",Xe=new ke.Yd("@firebase/analytics");function Lt(R){return Promise.all(R.map(V=>V.catch(ee=>ee)))}function Mn(R,V){const ee=document.createElement("script");ee.src=`${je}?l=${R}&id=${V}`,ee.async=!0,document.head.appendChild(ee)}function Rr(R,V,ee,Ce,nt,bt){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,j.Z)(function*(R,V,ee,Ce,nt,bt){const qt=Ce[nt];try{if(qt)yield V[qt];else{const Qn=(yield Lt(ee)).find(Er=>Er.measurementId===nt);Qn&&(yield V[Qn.appId])}}catch(Cn){Xe.error(Cn)}R("config",nt,bt)})).apply(this,arguments)}function Zn(R,V,ee,Ce,nt){return ar.apply(this,arguments)}function ar(){return(ar=(0,j.Z)(function*(R,V,ee,Ce,nt){try{let bt=[];if(nt&&nt.send_to){let qt=nt.send_to;Array.isArray(qt)||(qt=[qt]);const Cn=yield Lt(ee);for(const Qn of qt){const Er=Cn.find(tr=>tr.measurementId===Qn),wr=Er&&V[Er.appId];if(!wr){bt=[];break}bt.push(wr)}}0===bt.length&&(bt=Object.values(V)),yield Promise.all(bt),R("event",Ce,nt||{})}catch(bt){Xe.error(bt)}})).apply(this,arguments)}function Ki(R){const V=window.document.getElementsByTagName("script");for(const ee of Object.values(V))if(ee.src&&ee.src.includes(je)&&ee.src.includes(R))return ee;return null}const Ur=new m.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Yi=new class Vi{constructor(V={},ee=1e3){this.throttleMetadata=V,this.intervalMillis=ee}getThrottleMetadata(V){return this.throttleMetadata[V]}setThrottleMetadata(V,ee){this.throttleMetadata[V]=ee}deleteThrottleMetadata(V){delete this.throttleMetadata[V]}};function Ws(R){return new Headers({Accept:"application/json","x-goog-api-key":R})}function Do(R){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,j.Z)(function*(R){var V;const{appId:ee,apiKey:Ce}=R,nt={method:"GET",headers:Ws(Ce)},bt=Le.replace("{app-id}",ee),qt=yield fetch(bt,nt);if(200!==qt.status&&304!==qt.status){let Cn="";try{const Qn=yield qt.json();null!==(V=Qn.error)&&void 0!==V&&V.message&&(Cn=Qn.error.message)}catch{}throw Ur.create("config-fetch-failed",{httpStatus:qt.status,responseMessage:Cn})}return qt.json()})).apply(this,arguments)}function ui(R){return li.apply(this,arguments)}function li(){return(li=(0,j.Z)(function*(R,V=Yi,ee){const{appId:Ce,apiKey:nt,measurementId:bt}=R.options;if(!Ce)throw Ur.create("no-app-id");if(!nt){if(bt)return{measurementId:bt,appId:Ce};throw Ur.create("no-api-key")}const qt=V.getThrottleMetadata(Ce)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Cn=new Nt;return setTimeout((0,j.Z)(function*(){Cn.abort()}),void 0!==ee?ee:6e4),oa({appId:Ce,apiKey:nt,measurementId:bt},qt,Cn,V)})).apply(this,arguments)}function oa(R,V,ee){return xn.apply(this,arguments)}function xn(){return(xn=(0,j.Z)(function*(R,{throttleEndTimeMillis:V,backoffCount:ee},Ce,nt=Yi){var bt,qt;const{appId:Cn,measurementId:Qn}=R;try{yield Wt(Ce,V)}catch(Er){if(Qn)return Xe.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Qn} provided in the "measurementId" field in the local Firebase config. [${null===(bt=Er)||void 0===bt?void 0:bt.message}]`),{appId:Cn,measurementId:Qn};throw Er}try{const Er=yield Do(R);return nt.deleteThrottleMetadata(Cn),Er}catch(Er){const wr=Er;if(!Yn(wr)){if(nt.deleteThrottleMetadata(Cn),Qn)return Xe.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Qn} provided in the "measurementId" field in the local Firebase config. [${wr?.message}]`),{appId:Cn,measurementId:Qn};throw Er}const tr=503===Number(null===(qt=wr?.customData)||void 0===qt?void 0:qt.httpStatus)?(0,m.$s)(ee,nt.intervalMillis,30):(0,m.$s)(ee,nt.intervalMillis),Ns={throttleEndTimeMillis:Date.now()+tr,backoffCount:ee+1};return nt.setThrottleMetadata(Cn,Ns),Xe.debug(`Calling attemptFetch again in ${tr} millis`),oa(R,Ns,Ce,nt)}})).apply(this,arguments)}function Wt(R,V){return new Promise((ee,Ce)=>{const nt=Math.max(V-Date.now(),0),bt=setTimeout(ee,nt);R.addEventListener(()=>{clearTimeout(bt),Ce(Ur.create("fetch-throttle",{throttleEndTimeMillis:V}))})})}function Yn(R){if(!(R instanceof m.ZR&&R.customData))return!1;const V=Number(R.customData.httpStatus);return 429===V||500===V||503===V||504===V}class Nt{constructor(){this.listeners=[]}addEventListener(V){this.listeners.push(V)}abort(){this.listeners.forEach(V=>V())}}let at,Qo;function Wr(){return(Wr=(0,j.Z)(function*(R,V,ee,Ce,nt){if(nt&&nt.global)R("event",ee,Ce);else{const bt=yield V;R("event",ee,Object.assign(Object.assign({},Ce),{send_to:bt}))}})).apply(this,arguments)}function ko(R){Qo=R}function ja(R){at=R}function Gn(){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,j.Z)(function*(){var R;if(!(0,m.hl)())return Xe.warn(Ur.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,m.eu)()}catch(V){return Xe.warn(Ur.create("indexeddb-unavailable",{errorInfo:null===(R=V)||void 0===R?void 0:R.toString()}).message),!1}return!0})).apply(this,arguments)}function ai(){return(ai=(0,j.Z)(function*(R,V,ee,Ce,nt,bt,qt){var Cn;const Qn=ui(R);Qn.then(vo=>{ee[vo.measurementId]=vo.appId,R.options.measurementId&&vo.measurementId!==R.options.measurementId&&Xe.warn(`The measurement ID in the local Firebase config (${R.options.measurementId}) does not match the measurement ID fetched from the server (${vo.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(vo=>Xe.error(vo)),V.push(Qn);const Er=Gn().then(vo=>{if(vo)return Ce.getId()}),[wr,tr]=yield Promise.all([Qn,Er]);Ki(bt)||Mn(bt,wr.measurementId),Qo&&(nt("consent","default",Qo),ko(void 0)),nt("js",new Date);const Ns=null!==(Cn=qt?.config)&&void 0!==Cn?Cn:{};return Ns[K]="firebase",Ns.update=!0,null!=tr&&(Ns[N]=tr),nt("config",wr.measurementId,Ns),at&&(nt("set",at),ja(void 0)),wr.measurementId})).apply(this,arguments)}class er{constructor(V){this.app=V}_delete(){return delete ds[this.app.options.appId],Promise.resolve()}}let ds={},Pr=[];const Jo={};let Zo,to,Si="dataLayer",Wo=!1;function su(R,V,ee){!function wu(){const R=[];if((0,m.ru)()&&R.push("This is a browser extension environment."),(0,m.zI)()||R.push("Cookies are not available."),R.length>0){const V=R.map((Ce,nt)=>`(${nt+1}) ${Ce}`).join(" "),ee=Ur.create("invalid-analytics-context",{errorInfo:V});Xe.warn(ee.message)}}();const Ce=R.options.appId;if(!Ce)throw Ur.create("no-app-id");if(!R.options.apiKey){if(!R.options.measurementId)throw Ur.create("no-api-key");Xe.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${R.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ds[Ce])throw Ur.create("already-exists",{id:Ce});if(!Wo){!function Pn(R){let V=[];Array.isArray(window[R])?V=window[R]:window[R]=V}(Si);const{wrappedGtag:bt,gtagCore:qt}=function Xr(R,V,ee,Ce,nt){let bt=function(...qt){window[Ce].push(arguments)};return window[nt]&&"function"==typeof window[nt]&&(bt=window[nt]),window[nt]=function Jr(R,V,ee,Ce){function bt(){return(bt=(0,j.Z)(function*(qt,Cn,Qn){try{"event"===qt?yield Zn(R,V,ee,Cn,Qn):"config"===qt?yield Rr(R,V,ee,Ce,Cn,Qn):"consent"===qt?R("consent","update",Qn):R("set",Cn)}catch(Er){Xe.error(Er)}})).apply(this,arguments)}return function nt(qt,Cn,Qn){return bt.apply(this,arguments)}}(bt,R,V,ee),{gtagCore:bt,wrappedGtag:window[nt]}}(ds,Pr,Jo,Si,"gtag");to=bt,Zo=qt,Wo=!0}return ds[Ce]=function iu(R,V,ee,Ce,nt,bt,qt){return ai.apply(this,arguments)}(R,Pr,Jo,V,Zo,Si,ee),new er(R)}function Nl(){return no.apply(this,arguments)}function no(){return(no=(0,j.Z)(function*(){if((0,m.ru)()||!(0,m.zI)()||!(0,m.hl)())return!1;try{return yield(0,m.eu)()}catch{return!1}})).apply(this,arguments)}const To="@firebase/analytics";!function Rs(){(0,pe._registerComponent)(new Te.wA(E,(V,{options:ee})=>su(V.getProvider("app").getImmediate(),V.getProvider("installations-internal").getImmediate(),ee),"PUBLIC")),(0,pe._registerComponent)(new Te.wA("analytics-internal",function R(V){try{const ee=V.getProvider(E).getImmediate();return{logEvent:(Ce,nt,bt)=>function mt(R,V,ee,Ce){R=(0,m.m9)(R),function kt(R,V,ee,Ce,nt){return Wr.apply(this,arguments)}(to,ds[R.app.options.appId],V,ee,Ce).catch(nt=>Xe.error(nt))}(ee,Ce,nt,bt)}}catch(ee){throw Ur.create("interop-component-reg-failed",{reason:ee})}},"PRIVATE")),(0,pe.registerVersion)(To,"0.8.3"),(0,pe.registerVersion)(To,"0.8.3","esm2017")}();var Vs=P(4408),_o=P(7565);const $a=new class ca extends _o.v{}(class Ha extends Vs.o{constructor(V,ee){super(V,ee),this.scheduler=V,this.work=ee}schedule(V,ee=0){return ee>0?super.schedule(V,ee):(this.delay=ee,this.state=V,this.scheduler.flush(this),this)}execute(V,ee){return ee>0||this.closed?super.execute(V,ee):this._execute(V,ee)}requestAsyncId(V,ee,Ce=0){return null!=Ce&&Ce>0||null==Ce&&this.delay>0?super.requestAsyncId(V,ee,Ce):(V.flush(this),0)}});var Ju=P(4986),fs=P(9751),au=P(8505),Lo=P(5363),ro=P(9468);const Gi=new c.GfV("7.4.1"),w="__angularfire_symbol__analyticsIsSupportedValue",b="__angularfire_symbol__analyticsIsSupported",y="__angularfire_symbol__remoteConfigIsSupportedValue",A="__angularfire_symbol__remoteConfigIsSupported",F="__angularfire_symbol__messagingIsSupportedValue",X="__angularfire_symbol__messagingIsSupported";function Un(R,V,ee){if(V){if(1===V.length)return V[0];const bt=V.filter(qt=>qt.app===ee);if(1===bt.length)return bt[0]}return ee.container.getProvider(R).getImmediate({optional:!0})}globalThis[b]||(globalThis[b]=Nl().then(R=>globalThis[w]=R).catch(()=>globalThis[w]=!1)),globalThis[X]||(globalThis[X]=Nn().then(R=>globalThis[F]=R).catch(()=>globalThis[F]=!1)),globalThis[A]||(globalThis[A]=Qs().then(R=>globalThis[y]=R).catch(()=>globalThis[y]=!1));const Tn=(R,V)=>{const ee=V?[V]:(0,U.C6)(),Ce=[];return ee.forEach(nt=>{nt.container.getProvider(R).instances.forEach(qt=>{Ce.includes(qt)||Ce.push(qt)})}),Ce};function Or(){}class Ps{constructor(V,ee=$a){this.zone=V,this.delegate=ee}now(){return this.delegate.now()}schedule(V,ee,Ce){const nt=this.zone;return this.delegate.schedule(function(qt){nt.runGuarded(()=>{V.apply(this,[qt])})},ee,Ce)}}class Os{constructor(V){this.zone=V,this.task=null}call(V,ee){const Ce=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Or,{},Or,Or)),ee.pipe((0,au.b)({next:Ce,complete:Ce,error:Ce})).subscribe(V).add(Ce)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Xo=(()=>{class R{constructor(ee){this.ngZone=ee,this.outsideAngular=ee.runOutsideAngular(()=>new Ps(Zone.current)),this.insideAngular=ee.run(()=>new Ps(Zone.current,Ju.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return R.\u0275fac=function(ee){return new(ee||R)(c.LFG(c.R0b))},R.\u0275prov=c.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();function Ai(){const R=globalThis.\u0275AngularFireScheduler;if(!R)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return R}function Sa(R){return Ai().ngZone.runOutsideAngular(()=>R())}function Bs(R){return Ai().ngZone.run(()=>R())}function ya(R){return R.pipe((0,Lo.Q)(Ai().outsideAngular))}function uu(R){return Ai(),function Bi(R){return function(ee){return(ee=ee.lift(new Os(R.ngZone))).pipe((0,ro.R)(R.outsideAngular),(0,Lo.Q)(R.insideAngular))}}(Ai())(R)}const Vo=(R,V)=>function(){const Ce=arguments;return V&&setTimeout(()=>{"scheduled"===V.state&&V.invoke()},10),Bs(()=>R.apply(void 0,Ce))},Ga=(R,V)=>function(){let ee;const Ce=arguments;for(let bt=0;bt<arguments.length;bt++)"function"==typeof Ce[bt]&&(V&&(ee||(ee=Bs(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Or,{},Or,Or)))),Ce[bt]=Vo(Ce[bt],ee));const nt=Sa(()=>R.apply(this,Ce));if(!V){if(nt instanceof fs.y){const bt=Ai();return nt.pipe((0,ro.R)(bt.outsideAngular),(0,Lo.Q)(bt.insideAngular))}return Bs(()=>nt)}return nt instanceof fs.y?nt.pipe(uu):nt instanceof Promise?Bs(()=>new Promise((bt,qt)=>nt.then(Cn=>Bs(()=>bt(Cn)),Cn=>Bs(()=>qt(Cn))))):"function"==typeof nt&&ee?function(){return setTimeout(()=>{ee&&"scheduled"===ee.state&&ee.invoke()},10),nt.apply(this,arguments)}:Bs(()=>nt)}},7573:(tn,et,P)=>{P.d(et,{$:()=>ws,A:()=>Q,B:()=>Qe,G:()=>yi,H:()=>gr,J:()=>as,L:()=>De,M:()=>Gs,N:()=>lo,P:()=>Ju,Q:()=>Js,R:()=>Ta,T:()=>zs,U:()=>Ui,V:()=>ki,W:()=>bi,X:()=>be,Y:()=>qi,Z:()=>Dn,_:()=>Xs,a:()=>Zr,a0:()=>Po,a1:()=>oi,a2:()=>ho,a3:()=>Ho,a4:()=>Oo,a5:()=>L,a6:()=>M,a7:()=>ne,a8:()=>En,a9:()=>Lr,aA:()=>Ns,aB:()=>Cn,aC:()=>Bs,aD:()=>Sa,aE:()=>bn,aI:()=>Ws,aL:()=>vs,aa:()=>bo,ab:()=>No,ac:()=>ia,af:()=>Yo,ag:()=>ga,ah:()=>S,ak:()=>In,al:()=>jr,an:()=>je,ao:()=>Cr,ap:()=>he,aq:()=>rt,ar:()=>de,as:()=>rn,at:()=>Bt,au:()=>Du,av:()=>Mi,aw:()=>ge,ax:()=>Re,ay:()=>Ve,az:()=>ce,b:()=>Ur,c:()=>A,d:()=>Ie,e:()=>X,f:()=>uu,g:()=>ee,h:()=>Ga,i:()=>Fo,j:()=>bt,k:()=>Ao,l:()=>Na,m:()=>ka,o:()=>Pe,r:()=>Vs,s:()=>ma,u:()=>$a});var c=P(5861),U=P(2090),j=P(9681),pe=P(1877),m=P(655),Te=P(4859);const Pe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Q={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Qe=function me(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ze=function tt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Pt=new U.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ge=new pe.Yd("@firebase/auth");function Tt(I,...f){Ge.logLevel<=pe.in.ERROR&&Ge.error(`Auth (${j.SDK_VERSION}): ${I}`,...f)}function Bt(I,...f){throw _t(I,...f)}function ge(I,...f){return _t(I,...f)}function He(I,f,p){const T=Object.assign(Object.assign({},ze()),{[f]:p});return new U.LL("auth","Firebase",T).create(f,{appName:I.name})}function ot(I,f,p){if(!(f instanceof p))throw p.name!==f.constructor.name&&Bt(I,"argument-error"),He(I,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _t(I,...f){if("string"!=typeof I){const p=f[0],T=[...f.slice(1)];return T[0]&&(T[0].appName=I.name),I._errorFactory.create(p,...T)}return Pt.create(I,...f)}function Re(I,f,...p){if(!I)throw _t(f,...p)}function Ye(I){const f="INTERNAL ASSERTION FAILED: "+I;throw Tt(f),new Error(f)}function rt(I,f){I||Ye(f)}const _e=new Map;function Ve(I){rt(I instanceof Function,"Expected a class definition");let f=_e.get(I);return f?(rt(f instanceof I,"Instance stored in cache mismatched with class"),f):(f=new I,_e.set(I,f),f)}function Ft(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function jt(){return"http:"===Kt()||"https:"===Kt()}function Kt(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class Ot{constructor(f,p){this.shortDelay=f,this.longDelay=p,rt(p>f,"Short delay should be less than long delay!"),this.isMobile=(0,U.uI)()||(0,U.b$)()}get(){return function nn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(jt()||(0,U.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function vn(I,f){rt(I.emulator,"Emulator should always be set here");const{url:p}=I.emulator;return f?`${p}${f.startsWith("/")?f.slice(1):f}`:p}class fn{static initialize(f,p,T){this.fetchImpl=f,p&&(this.headersImpl=p),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ye("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ye("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ye("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Dt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ht=new Ot(3e4,6e4);function wt(I,f){return I.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:I.tenantId}):f}function Xt(I,f,p,T){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,c.Z)(function*(I,f,p,T,J={}){return sr(I,J,(0,c.Z)(function*(){let ae={},ct={};T&&("GET"===f?ct=T:ae={body:JSON.stringify(T)});const zt=(0,U.xO)(Object.assign({key:I.config.apiKey},ct)).slice(1),Vn=yield I._getAdditionalHeaders();return Vn["Content-Type"]="application/json",I.languageCode&&(Vn["X-Firebase-Locale"]=I.languageCode),fn.fetch()(fr(I,I.config.apiHost,p,zt),Object.assign({method:f,headers:Vn,referrerPolicy:"no-referrer"},ae))}))})).apply(this,arguments)}function sr(I,f,p){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,c.Z)(function*(I,f,p){I._canInitEmulator=!1;const T=Object.assign(Object.assign({},Dt),f);try{const J=new cn(I),ae=yield Promise.race([p(),J.promise]);J.clearNetworkTimeout();const ct=yield ae.json();if("needConfirmation"in ct)throw rr(I,"account-exists-with-different-credential",ct);if(ae.ok&&!("errorMessage"in ct))return ct;{const zt=ae.ok?ct.errorMessage:ct.error.message,[Vn,ir]=zt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Vn)throw rr(I,"credential-already-in-use",ct);if("EMAIL_EXISTS"===Vn)throw rr(I,"email-already-in-use",ct);if("USER_DISABLED"===Vn)throw rr(I,"user-disabled",ct);const Nr=T[Vn]||Vn.toLowerCase().replace(/[_\s]+/g,"-");if(ir)throw He(I,Nr,ir);Bt(I,Nr)}}catch(J){if(J instanceof U.ZR)throw J;Bt(I,"network-request-failed")}})).apply(this,arguments)}function nr(I,f,p,T){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,c.Z)(function*(I,f,p,T,J={}){const ae=yield Xt(I,f,p,T,J);return"mfaPendingCredential"in ae&&Bt(I,"multi-factor-auth-required",{_serverResponse:ae}),ae})).apply(this,arguments)}function fr(I,f,p,T){const J=`${f}${p}?${T}`;return I.config.emulator?vn(I.config,J):`${I.config.apiScheme}://${J}`}class cn{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((p,T)=>{this.timer=setTimeout(()=>T(ge(this.auth,"network-request-failed")),ht.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function rr(I,f,p){const T={appName:I.name};p.email&&(T.email=p.email),p.phoneNumber&&(T.phoneNumber=p.phoneNumber);const J=ge(I,f,T);return J.customData._tokenResponse=p,J}function dr(){return(dr=(0,c.Z)(function*(I,f){return Xt(I,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Ut(I,f){return or.apply(this,arguments)}function or(){return(or=(0,c.Z)(function*(I,f){return Xt(I,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Ln(I,f){return jn.apply(this,arguments)}function jn(){return(jn=(0,c.Z)(function*(I,f){return Xt(I,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function pr(I){if(I)try{const f=new Date(Number(I));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function Hn(){return(Hn=(0,c.Z)(function*(I,f=!1){const p=(0,U.m9)(I),T=yield p.getIdToken(f),J=yn(T);Re(J&&J.exp&&J.auth_time&&J.iat,p.auth,"internal-error");const ae="object"==typeof J.firebase?J.firebase:void 0,ct=ae?.sign_in_provider;return{claims:J,token:T,authTime:pr(qn(J.auth_time)),issuedAtTime:pr(qn(J.iat)),expirationTime:pr(qn(J.exp)),signInProvider:ct||null,signInSecondFactor:ae?.sign_in_second_factor||null}})).apply(this,arguments)}function qn(I){return 1e3*Number(I)}function yn(I){var f;const[p,T,J]=I.split(".");if(void 0===p||void 0===T||void 0===J)return Tt("JWT malformed, contained fewer than 3 sections"),null;try{const ae=(0,U.tV)(T);return ae?JSON.parse(ae):(Tt("Failed to decode base64 JWT payload"),null)}catch(ae){return Tt("Caught error parsing JWT payload as JSON",null===(f=ae)||void 0===f?void 0:f.toString()),null}}function Rn(I,f){return Et.apply(this,arguments)}function Et(){return(Et=(0,c.Z)(function*(I,f,p=!1){if(p)return f;try{return yield f}catch(T){throw T instanceof U.ZR&&Se(T)&&I.auth.currentUser===I&&(yield I.auth.signOut()),T}})).apply(this,arguments)}function Se({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}class Ue{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var p;if(f){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const J=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,J)}}schedule(f=!1){var p=this;if(!this.isRunning)return;const T=this.getInterval(f);this.timerId=setTimeout((0,c.Z)(function*(){yield p.iteration()}),T)}iteration(){var f=this;return(0,c.Z)(function*(){var p;try{yield f.user.getIdToken(!0)}catch(T){return void("auth/network-request-failed"===(null===(p=T)||void 0===p?void 0:p.code)&&f.schedule(!0))}f.schedule()})()}}class yt{constructor(f,p){this.createdAt=f,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=pr(this.lastLoginAt),this.creationTime=pr(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function St(I){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,c.Z)(function*(I){var f;const p=I.auth,T=yield I.getIdToken(),J=yield Rn(I,Ln(p,{idToken:T}));Re(J?.users.length,p,"internal-error");const ae=J.users[0];I._notifyReloadListener(ae);const ct=null!==(f=ae.providerUserInfo)&&void 0!==f&&f.length?we(ae.providerUserInfo):[],zt=Sn(I.providerData,ct),Nr=!!I.isAnonymous&&!(I.email&&ae.passwordHash||zt?.length),Qi={uid:ae.localId,displayName:ae.displayName||null,photoURL:ae.photoUrl||null,email:ae.email||null,emailVerified:ae.emailVerified||!1,phoneNumber:ae.phoneNumber||null,tenantId:ae.tenantId||null,providerData:zt,metadata:new yt(ae.createdAt,ae.lastLoginAt),isAnonymous:Nr};Object.assign(I,Qi)})).apply(this,arguments)}function ln(){return(ln=(0,c.Z)(function*(I){const f=(0,U.m9)(I);yield St(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Sn(I,f){return[...I.filter(T=>!f.some(J=>J.providerId===T.providerId)),...f]}function we(I){return I.map(f=>{var{providerId:p}=f,T=(0,m._T)(f,["providerId"]);return{providerId:p,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}function le(){return(le=(0,c.Z)(function*(I,f){const p=yield sr(I,{},(0,c.Z)(function*(){const T=(0,U.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:J,apiKey:ae}=I.config,ct=fr(I,J,"/v1/token",`key=${ae}`),zt=yield I._getAdditionalHeaders();return zt["Content-Type"]="application/x-www-form-urlencoded",fn.fetch()(ct,{method:"POST",headers:zt,body:T})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class ve{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){Re(f.idToken,"internal-error"),Re(typeof f.idToken<"u","internal-error"),Re(typeof f.refreshToken<"u","internal-error");const p="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function mn(I){const f=yn(I);return Re(f,"internal-error"),Re(typeof f.exp<"u","internal-error"),Re(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,p)}getToken(f,p=!1){var T=this;return(0,c.Z)(function*(){return Re(!T.accessToken||T.refreshToken,f,"user-token-expired"),p||!T.accessToken||T.isExpired?T.refreshToken?(yield T.refresh(f,T.refreshToken),T.accessToken):null:T.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,p){var T=this;return(0,c.Z)(function*(){const{accessToken:J,refreshToken:ae,expiresIn:ct}=yield function lt(I,f){return le.apply(this,arguments)}(f,p);T.updateTokensAndExpiration(J,ae,Number(ct))})()}updateTokensAndExpiration(f,p,T){this.refreshToken=p||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(f,p){const{refreshToken:T,accessToken:J,expirationTime:ae}=p,ct=new ve;return T&&(Re("string"==typeof T,"internal-error",{appName:f}),ct.refreshToken=T),J&&(Re("string"==typeof J,"internal-error",{appName:f}),ct.accessToken=J),ae&&(Re("number"==typeof ae,"internal-error",{appName:f}),ct.expirationTime=ae),ct}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new ve,this.toJSON())}_performRefresh(){return Ye("not implemented")}}function ut(I,f){Re("string"==typeof I||typeof I>"u","internal-error",{appName:f})}class It{constructor(f){var{uid:p,auth:T,stsTokenManager:J}=f,ae=(0,m._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ue(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=T,this.stsTokenManager=J,this.accessToken=J.accessToken,this.displayName=ae.displayName||null,this.email=ae.email||null,this.emailVerified=ae.emailVerified||!1,this.phoneNumber=ae.phoneNumber||null,this.photoURL=ae.photoURL||null,this.isAnonymous=ae.isAnonymous||!1,this.tenantId=ae.tenantId||null,this.providerData=ae.providerData?[...ae.providerData]:[],this.metadata=new yt(ae.createdAt||void 0,ae.lastLoginAt||void 0)}getIdToken(f){var p=this;return(0,c.Z)(function*(){const T=yield Rn(p,p.stsTokenManager.getToken(p.auth,f));return Re(T,p.auth,"internal-error"),p.accessToken!==T&&(p.accessToken=T,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),T})()}getIdTokenResult(f){return function Ar(I){return Hn.apply(this,arguments)}(this,f)}reload(){return function Xn(I){return ln.apply(this,arguments)}(this)}_assign(f){this!==f&&(Re(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(p=>Object.assign({},p)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new It(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,p=!1){var T=this;return(0,c.Z)(function*(){let J=!1;f.idToken&&f.idToken!==T.stsTokenManager.accessToken&&(T.stsTokenManager.updateFromServerResponse(f),J=!0),p&&(yield St(T)),yield T.auth._persistUserIfCurrent(T),J&&T.auth._notifyListenersIfCurrent(T)})()}delete(){var f=this;return(0,c.Z)(function*(){const p=yield f.getIdToken();return yield Rn(f,function br(I,f){return dr.apply(this,arguments)}(f.auth,{idToken:p})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,p){var T,J,ae,ct,zt,Vn,ir,Nr;const Qi=null!==(T=p.displayName)&&void 0!==T?T:void 0,ha=null!==(J=p.email)&&void 0!==J?J:void 0,Ri=null!==(ae=p.phoneNumber)&&void 0!==ae?ae:void 0,Su=null!==(ct=p.photoURL)&&void 0!==ct?ct:void 0,Au=null!==(zt=p.tenantId)&&void 0!==zt?zt:void 0,zl=null!==(Vn=p._redirectEventId)&&void 0!==Vn?Vn:void 0,Pd=null!==(ir=p.createdAt)&&void 0!==ir?ir:void 0,Mu=null!==(Nr=p.lastLoginAt)&&void 0!==Nr?Nr:void 0,{uid:Mc,emailVerified:Zl,isAnonymous:xa,providerData:Ea,stsTokenManager:nl}=p;Re(Mc&&nl,f,"internal-error");const Od=ve.fromJSON(this.name,nl);Re("string"==typeof Mc,f,"internal-error"),ut(Qi,f.name),ut(ha,f.name),Re("boolean"==typeof Zl,f,"internal-error"),Re("boolean"==typeof xa,f,"internal-error"),ut(Ri,f.name),ut(Su,f.name),ut(Au,f.name),ut(zl,f.name),ut(Pd,f.name),ut(Mu,f.name);const Ds=new It({uid:Mc,auth:f,email:ha,emailVerified:Zl,displayName:Qi,isAnonymous:xa,photoURL:Su,phoneNumber:Ri,tenantId:Au,stsTokenManager:Od,createdAt:Pd,lastLoginAt:Mu});return Ea&&Array.isArray(Ea)&&(Ds.providerData=Ea.map(xu=>Object.assign({},xu))),zl&&(Ds._redirectEventId=zl),Ds}static _fromIdTokenResponse(f,p,T=!1){return(0,c.Z)(function*(){const J=new ve;J.updateFromServerResponse(p);const ae=new It({uid:p.localId,auth:f,stsTokenManager:J,isAnonymous:T});return yield St(ae),ae})()}}const De=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(p,T){var J=this;return(0,c.Z)(function*(){J.storage[p]=T})()}_get(p){var T=this;return(0,c.Z)(function*(){const J=T.storage[p];return void 0===J?null:J})()}_remove(p){var T=this;return(0,c.Z)(function*(){delete T.storage[p]})()}_addListener(p,T){}_removeListener(p,T){}}return I.type="NONE",I})();function ce(I,f,p){return`firebase:${I}:${f}:${p}`}class Oe{constructor(f,p,T){this.persistence=f,this.auth=p,this.userKey=T;const{config:J,name:ae}=this.auth;this.fullUserKey=ce(this.userKey,J.apiKey,ae),this.fullPersistenceKey=ce("persistence",J.apiKey,ae),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,c.Z)(function*(){const p=yield f.persistence._get(f.fullUserKey);return p?It._fromJSON(f.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var p=this;return(0,c.Z)(function*(){if(p.persistence===f)return;const T=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=f,T?p.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,p,T="authUser"){return(0,c.Z)(function*(){if(!p.length)return new Oe(Ve(De),f,T);const J=(yield Promise.all(p.map(function(){var ir=(0,c.Z)(function*(Nr){if(yield Nr._isAvailable())return Nr});return function(Nr){return ir.apply(this,arguments)}}()))).filter(ir=>ir);let ae=J[0]||Ve(De);const ct=ce(T,f.config.apiKey,f.name);let zt=null;for(const ir of p)try{const Nr=yield ir._get(ct);if(Nr){const Qi=It._fromJSON(f,Nr);ir!==ae&&(zt=Qi),ae=ir;break}}catch{}const Vn=J.filter(ir=>ir._shouldAllowMigration);return ae._shouldAllowMigration&&Vn.length?(ae=Vn[0],zt&&(yield ae._set(ct,zt.toJSON())),yield Promise.all(p.map(function(){var ir=(0,c.Z)(function*(Nr){if(Nr!==ae)try{yield Nr._remove(ct)}catch{}});return function(Nr){return ir.apply(this,arguments)}}())),new Oe(ae,f,T)):new Oe(ae,f,T)})()}}function ue(I){const f=I.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(xt(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(Z(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(sn(f))return"Blackberry";if(fe(f))return"Webos";if(ie(f))return"Safari";if((f.includes("chrome/")||Be(f))&&!f.includes("edge/"))return"Chrome";if(rn(f))return"Android";{const T=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===T?.length)return T[1]}return"Other"}function Z(I=(0,U.z$)()){return/firefox\//i.test(I)}function ie(I=(0,U.z$)()){const f=I.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Be(I=(0,U.z$)()){return/crios\//i.test(I)}function xt(I=(0,U.z$)()){return/iemobile/i.test(I)}function rn(I=(0,U.z$)()){return/android/i.test(I)}function sn(I=(0,U.z$)()){return/blackberry/i.test(I)}function fe(I=(0,U.z$)()){return/webos/i.test(I)}function de(I=(0,U.z$)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function he(I=(0,U.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}function on(I=(0,U.z$)()){return de(I)||rn(I)||fe(I)||sn(I)||/windows phone/i.test(I)||xt(I)}function An(I,f=[]){let p;switch(I){case"Browser":p=ue((0,U.z$)());break;case"Worker":p=`${ue((0,U.z$)())}-${I}`;break;default:p=I}const T=f.length?f.join(","):"FirebaseCore-web";return`${p}/JsCore/${j.SDK_VERSION}/${T}`}class ur{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,p){const T=ae=>new Promise((ct,zt)=>{try{ct(f(ae))}catch(Vn){zt(Vn)}});T.onAbort=p,this.queue.push(T);const J=this.queue.length-1;return()=>{this.queue[J]=()=>Promise.resolve()}}runMiddleware(f){var p=this;return(0,c.Z)(function*(){var T;if(p.auth.currentUser===f)return;const J=[];try{for(const ae of p.queue)yield ae(f),ae.onAbort&&J.push(ae.onAbort)}catch(ae){J.reverse();for(const ct of J)try{ct()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:null===(T=ae)||void 0===T?void 0:T.message})}})()}}class Yr{constructor(f,p,T){this.app=f,this.heartbeatServiceProvider=p,this.config=T,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zi(this),this.idTokenSubscription=new Zi(this),this.beforeStateQueue=new ur(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Pt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=T.sdkClientVersion}_initializeWithPersistence(f,p){var T=this;return p&&(this._popupRedirectResolver=Ve(p)),this._initializationPromise=this.queue((0,c.Z)(function*(){var J,ae;if(!T._deleted&&(T.persistenceManager=yield Oe.create(T,f),!T._deleted)){if(null!==(J=T._popupRedirectResolver)&&void 0!==J&&J._shouldInitProactively)try{yield T._popupRedirectResolver._initialize(T)}catch{}yield T.initializeCurrentUser(p),T.lastNotifiedUid=(null===(ae=T.currentUser)||void 0===ae?void 0:ae.uid)||null,!T._deleted&&(T._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,c.Z)(function*(){if(f._deleted)return;const p=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||p){if(f.currentUser&&p&&f.currentUser.uid===p.uid)return f._currentUser._assign(p),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(p,!0)}})()}initializeCurrentUser(f){var p=this;return(0,c.Z)(function*(){var T;const J=yield p.assertedPersistence.getCurrentUser();let ae=J,ct=!1;if(f&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const zt=null===(T=p.redirectUser)||void 0===T?void 0:T._redirectEventId,Vn=ae?._redirectEventId,ir=yield p.tryRedirectSignIn(f);(!zt||zt===Vn)&&ir?.user&&(ae=ir.user,ct=!0)}if(!ae)return p.directlySetCurrentUser(null);if(!ae._redirectEventId){if(ct)try{yield p.beforeStateQueue.runMiddleware(ae)}catch(zt){ae=J,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(zt))}return ae?p.reloadAndSetCurrentUserOrClear(ae):p.directlySetCurrentUser(null)}return Re(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===ae._redirectEventId?p.directlySetCurrentUser(ae):p.reloadAndSetCurrentUserOrClear(ae)})()}tryRedirectSignIn(f){var p=this;return(0,c.Z)(function*(){let T=null;try{T=yield p._popupRedirectResolver._completeRedirectFn(p,f,!0)}catch{yield p._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(f){var p=this;return(0,c.Z)(function*(){var T;try{yield St(f)}catch(J){if("auth/network-request-failed"!==(null===(T=J)||void 0===T?void 0:T.code))return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function un(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var f=this;return(0,c.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var p=this;return(0,c.Z)(function*(){const T=f?(0,U.m9)(f):null;return T&&Re(T.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(T&&T._clone(p))})()}_updateCurrentUser(f,p=!1){var T=this;return(0,c.Z)(function*(){if(!T._deleted)return f&&Re(T.tenantId===f.tenantId,T,"tenant-id-mismatch"),p||(yield T.beforeStateQueue.runMiddleware(f)),T.queue((0,c.Z)(function*(){yield T.directlySetCurrentUser(f),T.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,c.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var p=this;return this.queue((0,c.Z)(function*(){yield p.assertedPersistence.setPersistence(Ve(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new U.LL("auth","Firebase",f())}onAuthStateChanged(f,p,T){return this.registerStateListener(this.authStateSubscription,f,p,T)}beforeAuthStateChanged(f,p){return this.beforeStateQueue.pushCallback(f,p)}onIdTokenChanged(f,p,T){return this.registerStateListener(this.idTokenSubscription,f,p,T)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,p){var T=this;return(0,c.Z)(function*(){const J=yield T.getOrInitRedirectPersistenceManager(p);return null===f?J.removeCurrentUser():J.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var p=this;return(0,c.Z)(function*(){if(!p.redirectPersistenceManager){const T=f&&Ve(f)||p._popupRedirectResolver;Re(T,p,"argument-error"),p.redirectPersistenceManager=yield Oe.create(p,[Ve(T._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(f){var p=this;return(0,c.Z)(function*(){var T,J;return p._isInitialized&&(yield p.queue((0,c.Z)(function*(){}))),(null===(T=p._currentUser)||void 0===T?void 0:T._redirectEventId)===f?p._currentUser:(null===(J=p.redirectUser)||void 0===J?void 0:J._redirectEventId)===f?p.redirectUser:null})()}_persistUserIfCurrent(f){var p=this;return(0,c.Z)(function*(){if(f===p.currentUser)return p.queue((0,c.Z)(function*(){return p.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(p=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,p,T,J){if(this._deleted)return()=>{};const ae="function"==typeof p?p:p.next.bind(p),ct=this._isInitialized?Promise.resolve():this._initializationPromise;return Re(ct,this,"internal-error"),ct.then(()=>ae(this.currentUser)),"function"==typeof p?f.addObserver(p,T,J):f.addObserver(p)}directlySetCurrentUser(f){var p=this;return(0,c.Z)(function*(){p.currentUser&&p.currentUser!==f&&p._currentUser._stopProactiveRefresh(),f&&p.isProactiveRefreshEnabled&&f._startProactiveRefresh(),p.currentUser=f,f?yield p.assertedPersistence.setCurrentUser(f):yield p.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=An(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,c.Z)(function*(){var p;const T={"X-Client-Version":f.clientVersion};f.app.options.appId&&(T["X-Firebase-gmpid"]=f.app.options.appId);const J=yield null===(p=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();return J&&(T["X-Firebase-Client"]=J),T})()}}function bn(I){return(0,U.m9)(I)}class Zi{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,U.ne)(p=>this.observer=p)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function yi(I,f,p){const T=bn(I);Re(T._canInitEmulator,T,"emulator-config-failed"),Re(/^https?:\/\//.test(f),T,"invalid-emulator-scheme");const J=!!p?.disableWarnings,ae=_i(f),{host:ct,port:zt}=function gs(I){const f=_i(I),p=/(\/\/)?([^?#/]+)/.exec(I.substr(f.length));if(!p)return{host:"",port:null};const T=p[2].split("@").pop()||"",J=/^(\[[^\]]+\])(:|$)/.exec(T);if(J){const ae=J[1];return{host:ae,port:ei(T.substr(ae.length+1))}}{const[ae,ct]=T.split(":");return{host:ae,port:ei(ct)}}}(f);T.config.emulator={url:`${ae}//${ct}${null===zt?"":`:${zt}`}/`},T.settings.appVerificationDisabledForTesting=!0,T.emulatorConfig=Object.freeze({host:ct,port:zt,protocol:ae.replace(":",""),options:Object.freeze({disableWarnings:J})}),J||function vi(){function I(){const f=document.createElement("p"),p=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}function _i(I){const f=I.indexOf(":");return f<0?"":I.substr(0,f+1)}function ei(I){if(!I)return null;const f=Number(I);return isNaN(f)?null:f}class gr{constructor(f,p){this.providerId=f,this.signInMethod=p}toJSON(){return Ye("not implemented")}_getIdTokenResponse(f){return Ye("not implemented")}_linkToIdToken(f,p){return Ye("not implemented")}_getReauthenticationResolver(f){return Ye("not implemented")}}function ti(I,f){return qr.apply(this,arguments)}function qr(){return(qr=(0,c.Z)(function*(I,f){return Xt(I,"POST","/v1/accounts:resetPassword",wt(I,f))})).apply(this,arguments)}function Oi(I,f){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,c.Z)(function*(I,f){return Xt(I,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Fs(I,f){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,c.Z)(function*(I,f){return Xt(I,"POST","/v1/accounts:update",wt(I,f))})).apply(this,arguments)}function ss(){return(ss=(0,c.Z)(function*(I,f){return nr(I,"POST","/v1/accounts:signInWithPassword",wt(I,f))})).apply(this,arguments)}function ms(I,f){return Je.apply(this,arguments)}function Je(){return(Je=(0,c.Z)(function*(I,f){return Xt(I,"POST","/v1/accounts:sendOobCode",wt(I,f))})).apply(this,arguments)}function Ke(I,f){return it.apply(this,arguments)}function it(){return(it=(0,c.Z)(function*(I,f){return ms(I,f)})).apply(this,arguments)}function Mt(I,f){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,c.Z)(function*(I,f){return ms(I,f)})).apply(this,arguments)}function dn(I,f){return lr.apply(this,arguments)}function lr(){return(lr=(0,c.Z)(function*(I,f){return ms(I,f)})).apply(this,arguments)}function Fr(I,f){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,c.Z)(function*(I,f){return ms(I,f)})).apply(this,arguments)}function Ni(){return(Ni=(0,c.Z)(function*(I,f){return nr(I,"POST","/v1/accounts:signInWithEmailLink",wt(I,f))})).apply(this,arguments)}function os(){return(os=(0,c.Z)(function*(I,f){return nr(I,"POST","/v1/accounts:signInWithEmailLink",wt(I,f))})).apply(this,arguments)}class Xi extends gr{constructor(f,p,T,J=null){super("password",T),this._email=f,this._password=p,this._tenantId=J}static _fromEmailAndPassword(f,p){return new Xi(f,p,"password")}static _fromEmailAndCode(f,p,T=null){return new Xi(f,p,"emailLink",T)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(f){var p=this;return(0,c.Z)(function*(){switch(p.signInMethod){case"password":return function ii(I,f){return ss.apply(this,arguments)}(f,{returnSecureToken:!0,email:p._email,password:p._password});case"emailLink":return function Vr(I,f){return Ni.apply(this,arguments)}(f,{email:p._email,oobCode:p._password});default:Bt(f,"internal-error")}})()}_linkToIdToken(f,p){var T=this;return(0,c.Z)(function*(){switch(T.signInMethod){case"password":return Oi(f,{idToken:p,returnSecureToken:!0,email:T._email,password:T._password});case"emailLink":return function Ji(I,f){return os.apply(this,arguments)}(f,{idToken:p,email:T._email,oobCode:T._password});default:Bt(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Ts(I,f){return Li.apply(this,arguments)}function Li(){return(Li=(0,c.Z)(function*(I,f){return nr(I,"POST","/v1/accounts:signInWithIdp",wt(I,f))})).apply(this,arguments)}class as extends gr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const p=new as(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(p.idToken=f.idToken),f.accessToken&&(p.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(p.nonce=f.nonce),f.pendingToken&&(p.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(p.accessToken=f.oauthToken,p.secret=f.oauthTokenSecret):Bt("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f,{providerId:T,signInMethod:J}=p,ae=(0,m._T)(p,["providerId","signInMethod"]);if(!T||!J)return null;const ct=new as(T,J);return ct.idToken=ae.idToken||void 0,ct.accessToken=ae.accessToken||void 0,ct.secret=ae.secret,ct.nonce=ae.nonce,ct.pendingToken=ae.pendingToken||null,ct}_getIdTokenResponse(f){return Ts(f,this.buildRequest())}_linkToIdToken(f,p){const T=this.buildRequest();return T.idToken=p,Ts(f,T)}_getReauthenticationResolver(f){const p=this.buildRequest();return p.autoCreate=!1,Ts(f,p)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),f.postBody=(0,U.xO)(p)}return f}}function oo(I,f){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,c.Z)(function*(I,f){return Xt(I,"POST","/v1/accounts:sendVerificationCode",wt(I,f))})).apply(this,arguments)}function $s(){return($s=(0,c.Z)(function*(I,f){return nr(I,"POST","/v1/accounts:signInWithPhoneNumber",wt(I,f))})).apply(this,arguments)}function Ro(){return(Ro=(0,c.Z)(function*(I,f){const p=yield nr(I,"POST","/v1/accounts:signInWithPhoneNumber",wt(I,f));if(p.temporaryProof)throw rr(I,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const mo={USER_NOT_FOUND:"user-not-found"};function uo(){return(uo=(0,c.Z)(function*(I,f){return nr(I,"POST","/v1/accounts:signInWithPhoneNumber",wt(I,Object.assign(Object.assign({},f),{operation:"REAUTH"})),mo)})).apply(this,arguments)}class us extends gr{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,p){return new us({verificationId:f,verificationCode:p})}static _fromTokenResponse(f,p){return new us({phoneNumber:f,temporaryProof:p})}_getIdTokenResponse(f){return function ao(I,f){return $s.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,p){return function Ss(I,f){return Ro.apply(this,arguments)}(f,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function yo(I,f){return uo.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:p,verificationId:T,verificationCode:J}=this.params;return f&&p?{temporaryProof:f,phoneNumber:p}:{sessionInfo:T,code:J}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:p,verificationCode:T,phoneNumber:J,temporaryProof:ae}=f;return T||p||J||ae?new us({verificationId:p,verificationCode:T,phoneNumber:J,temporaryProof:ae}):null}}class wi{constructor(f){var p,T,J,ae,ct,zt;const Vn=(0,U.zd)((0,U.pd)(f)),ir=null!==(p=Vn.apiKey)&&void 0!==p?p:null,Nr=null!==(T=Vn.oobCode)&&void 0!==T?T:null,Qi=function ls(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(J=Vn.mode)&&void 0!==J?J:null);Re(ir&&Nr&&Qi,"argument-error"),this.apiKey=ir,this.operation=Qi,this.code=Nr,this.continueUrl=null!==(ae=Vn.continueUrl)&&void 0!==ae?ae:null,this.languageCode=null!==(ct=Vn.languageCode)&&void 0!==ct?ct:null,this.tenantId=null!==(zt=Vn.tenantId)&&void 0!==zt?zt:null}static parseLink(f){const p=function cs(I){const f=(0,U.zd)((0,U.pd)(I)).link,p=f?(0,U.zd)((0,U.pd)(f)).deep_link_id:null,T=(0,U.zd)((0,U.pd)(I)).deep_link_id;return(T?(0,U.zd)((0,U.pd)(T)).link:null)||T||p||f||I}(f);try{return new wi(p)}catch{return null}}}let Gs=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(p,T){return Xi._fromEmailAndPassword(p,T)}static credentialWithLink(p,T){const J=wi.parseLink(T);return Re(J,"argument-error"),Xi._fromEmailAndCode(p,J.code,J.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class di{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class ys extends di{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Ui extends ys{static credentialFromJSON(f){const p="string"==typeof f?JSON.parse(f):f;return Re("providerId"in p&&"signInMethod"in p,"argument-error"),as._fromParams(p)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return Re(f.idToken||f.accessToken,"argument-error"),as._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Ui.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Ui.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:p,oauthAccessToken:T,oauthTokenSecret:J,pendingToken:ae,nonce:ct,providerId:zt}=f;if(!T&&!J&&!p&&!ae||!zt)return null;try{return new Ui(zt)._credential({idToken:p,accessToken:T,nonce:ct,pendingToken:ae})}catch{return null}}}let lo=(()=>{class I extends ys{constructor(){super("facebook.com")}static credential(p){return as._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return I.credentialFromTaggedObject(p)}static credentialFromError(p){return I.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return I.credential(p.oauthAccessToken)}catch{return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),Js=(()=>{class I extends ys{constructor(){super("google.com"),this.addScope("profile")}static credential(p,T){return as._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:T})}static credentialFromResult(p){return I.credentialFromTaggedObject(p)}static credentialFromError(p){return I.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:T,oauthAccessToken:J}=p;if(!T&&!J)return null;try{return I.credential(T,J)}catch{return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),zs=(()=>{class I extends ys{constructor(){super("github.com")}static credential(p){return as._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return I.credentialFromTaggedObject(p)}static credentialFromError(p){return I.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return I.credential(p.oauthAccessToken)}catch{return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class vs extends gr{constructor(f,p){super(f,f),this.pendingToken=p}_getIdTokenResponse(f){return Ts(f,this.buildRequest())}_linkToIdToken(f,p){const T=this.buildRequest();return T.idToken=p,Ts(f,T)}_getReauthenticationResolver(f){const p=this.buildRequest();return p.autoCreate=!1,Ts(f,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f,{providerId:T,signInMethod:J,pendingToken:ae}=p;return T&&J&&ae&&T===J?new vs(T,ae):null}static _create(f,p){return new vs(f,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ki extends di{constructor(f){Re(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return ki.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return ki.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const p=vs.fromJSON(f);return Re(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:p,providerId:T}=f;if(!p||!T)return null;try{return vs._create(T,p)}catch{return null}}}let bi=(()=>{class I extends ys{constructor(){super("twitter.com")}static credential(p,T){return as._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:T})}static credentialFromResult(p){return I.credentialFromTaggedObject(p)}static credentialFromError(p){return I.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:T,oauthTokenSecret:J}=p;if(!T||!J)return null;try{return I.credential(T,J)}catch{return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function Hi(I,f){return es.apply(this,arguments)}function es(){return(es=(0,c.Z)(function*(I,f){return nr(I,"POST","/v1/accounts:signUp",wt(I,f))})).apply(this,arguments)}class Y{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,p,T,J=!1){return(0,c.Z)(function*(){const ae=yield It._fromIdTokenResponse(f,T,J),ct=W(T);return new Y({user:ae,providerId:ct,_tokenResponse:T,operationType:p})})()}static _forOperation(f,p,T){return(0,c.Z)(function*(){yield f._updateTokensIfNecessary(T,!0);const J=W(T);return new Y({user:f,providerId:J,_tokenResponse:T,operationType:p})})()}}function W(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function be(I){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,c.Z)(function*(I){var f;const p=bn(I);if(yield p._initializationPromise,null!==(f=p.currentUser)&&void 0!==f&&f.isAnonymous)return new Y({user:p.currentUser,providerId:null,operationType:"signIn"});const T=yield Hi(p,{returnSecureToken:!0}),J=yield Y._fromIdTokenResponse(p,"signIn",T,!0);return yield p._updateCurrentUser(J.user),J})).apply(this,arguments)}class Ze extends U.ZR{constructor(f,p,T,J){var ae;super(p.code,p.message),this.operationType=T,this.user=J,Object.setPrototypeOf(this,Ze.prototype),this.customData={appName:f.name,tenantId:null!==(ae=f.tenantId)&&void 0!==ae?ae:void 0,_serverResponse:p.customData._serverResponse,operationType:T}}static _fromErrorAndOperation(f,p,T,J){return new Ze(f,p,T,J)}}function Ct(I,f,p,T){return("reauthenticate"===f?p._getReauthenticationResolver(I):p._getIdTokenResponse(I)).catch(ae=>{throw"auth/multi-factor-auth-required"===ae.code?Ze._fromErrorAndOperation(I,ae,f,T):ae})}function en(I){return new Set(I.map(({providerId:f})=>f).filter(f=>!!f))}function In(I,f){return hn.apply(this,arguments)}function hn(){return(hn=(0,c.Z)(function*(I,f){const p=(0,U.m9)(I);yield Dr(!0,p,f);const{providerUserInfo:T}=yield Ut(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[f]}),J=en(T||[]);return p.providerData=p.providerData.filter(ae=>J.has(ae.providerId)),J.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p})).apply(this,arguments)}function _n(I,f){return cr.apply(this,arguments)}function cr(){return(cr=(0,c.Z)(function*(I,f,p=!1){const T=yield Rn(I,f._linkToIdToken(I.auth,yield I.getIdToken()),p);return Y._forOperation(I,"link",T)})).apply(this,arguments)}function Dr(I,f,p){return $n.apply(this,arguments)}function $n(){return($n=(0,c.Z)(function*(I,f,p){yield St(f);const J=!1===I?"provider-already-linked":"no-such-provider";Re(en(f.providerData).has(p)===I,f.auth,J)})).apply(this,arguments)}function si(I,f){return $r.apply(this,arguments)}function $r(){return($r=(0,c.Z)(function*(I,f,p=!1){var T;const{auth:J}=I,ae="reauthenticate";try{const ct=yield Rn(I,Ct(J,ae,f,I),p);Re(ct.idToken,J,"internal-error");const zt=yn(ct.idToken);Re(zt,J,"internal-error");const{sub:Vn}=zt;return Re(I.uid===Vn,J,"user-mismatch"),Y._forOperation(I,ae,ct)}catch(ct){throw"auth/user-not-found"===(null===(T=ct)||void 0===T?void 0:T.code)&&Bt(J,"user-mismatch"),ct}})).apply(this,arguments)}function ts(I,f){return xr.apply(this,arguments)}function xr(){return(xr=(0,c.Z)(function*(I,f,p=!1){const T="signIn",J=yield Ct(I,T,f),ae=yield Y._fromIdTokenResponse(I,T,J);return p||(yield I._updateCurrentUser(ae.user)),ae})).apply(this,arguments)}function qi(I,f){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,c.Z)(function*(I,f){return ts(bn(I),f)})).apply(this,arguments)}function Dn(I,f){return zr.apply(this,arguments)}function zr(){return(zr=(0,c.Z)(function*(I,f){const p=(0,U.m9)(I);return yield Dr(!1,p,f.providerId),_n(p,f)})).apply(this,arguments)}function Xs(I,f){return Es.apply(this,arguments)}function Es(){return(Es=(0,c.Z)(function*(I,f){return si((0,U.m9)(I),f)})).apply(this,arguments)}function Ls(I,f){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,c.Z)(function*(I,f){return nr(I,"POST","/v1/accounts:signInWithCustomToken",wt(I,f))})).apply(this,arguments)}function ws(I,f){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,c.Z)(function*(I,f){const p=bn(I),T=yield Ls(p,{token:f,returnSecureToken:!0}),J=yield Y._fromIdTokenResponse(p,"signIn",T);return yield p._updateCurrentUser(J.user),J})).apply(this,arguments)}class co{constructor(f,p){this.factorId=f,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(f,p){return"phoneInfo"in p?Gt._fromServerResponse(f,p):Bt(f,"internal-error")}}class Gt extends co{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,p){return new Gt(p)}}function hr(I,f,p){var T;Re((null===(T=p.url)||void 0===T?void 0:T.length)>0,I,"invalid-continue-uri"),Re(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),f.continueUrl=p.url,f.dynamicLinkDomain=p.dynamicLinkDomain,f.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(Re(p.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),f.iOSBundleId=p.iOS.bundleId),p.android&&(Re(p.android.packageName.length>0,I,"missing-android-pkg-name"),f.androidInstallApp=p.android.installApp,f.androidMinimumVersionCode=p.android.minimumVersion,f.androidPackageName=p.android.packageName)}function Po(I,f,p){return eo.apply(this,arguments)}function eo(){return(eo=(0,c.Z)(function*(I,f,p){const T=(0,U.m9)(I),J={requestType:"PASSWORD_RESET",email:f};p&&hr(T,J,p),yield Mt(T,J)})).apply(this,arguments)}function oi(I,f,p){return Us.apply(this,arguments)}function Us(){return(Us=(0,c.Z)(function*(I,f,p){yield ti((0,U.m9)(I),{oobCode:f,newPassword:p})})).apply(this,arguments)}function ho(I,f){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,c.Z)(function*(I,f){yield Fs((0,U.m9)(I),{oobCode:f})})).apply(this,arguments)}function Ho(I,f){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,c.Z)(function*(I,f){const p=(0,U.m9)(I),T=yield ti(p,{oobCode:f}),J=T.requestType;switch(Re(J,p,"internal-error"),J){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Re(T.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Re(T.mfaInfo,p,"internal-error");default:Re(T.email,p,"internal-error")}let ae=null;return T.mfaInfo&&(ae=co._fromServerResponse(bn(p),T.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.newEmail:T.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.email:T.newEmail)||null,multiFactorInfo:ae},operation:J}})).apply(this,arguments)}function Oo(I,f){return fo.apply(this,arguments)}function fo(){return(fo=(0,c.Z)(function*(I,f){const{data:p}=yield Ho((0,U.m9)(I),f);return p.email})).apply(this,arguments)}function L(I,f,p){return k.apply(this,arguments)}function k(){return(k=(0,c.Z)(function*(I,f,p){const T=bn(I),J=yield Hi(T,{returnSecureToken:!0,email:f,password:p}),ae=yield Y._fromIdTokenResponse(T,"signIn",J);return yield T._updateCurrentUser(ae.user),ae})).apply(this,arguments)}function M(I,f,p){return qi((0,U.m9)(I),Gs.credential(f,p))}function ne(I,f,p){return gt.apply(this,arguments)}function gt(){return(gt=(0,c.Z)(function*(I,f,p){const T=(0,U.m9)(I),J={requestType:"EMAIL_SIGNIN",email:f};Re(p.handleCodeInApp,T,"argument-error"),p&&hr(T,J,p),yield dn(T,J)})).apply(this,arguments)}function En(I,f){return"EMAIL_SIGNIN"===wi.parseLink(f)?.operation}function Lr(I,f,p){return vr.apply(this,arguments)}function vr(){return(vr=(0,c.Z)(function*(I,f,p){const T=(0,U.m9)(I),J=Gs.credentialWithLink(f,p||Ft());return Re(J._tenantId===(T.tenantId||null),T,"tenant-id-mismatch"),qi(T,J)})).apply(this,arguments)}function bs(I,f){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,c.Z)(function*(I,f){return Xt(I,"POST","/v1/accounts:createAuthUri",wt(I,f))})).apply(this,arguments)}function bo(I,f){return po.apply(this,arguments)}function po(){return(po=(0,c.Z)(function*(I,f){const T={identifier:f,continueUri:jt()?Ft():"http://localhost"},{signinMethods:J}=yield bs((0,U.m9)(I),T);return J||[]})).apply(this,arguments)}function No(I,f){return $o.apply(this,arguments)}function $o(){return($o=(0,c.Z)(function*(I,f){const p=(0,U.m9)(I),J={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};f&&hr(p.auth,J,f);const{email:ae}=yield Ke(p.auth,J);ae!==I.email&&(yield I.reload())})).apply(this,arguments)}function ia(I,f,p){return Io.apply(this,arguments)}function Io(){return(Io=(0,c.Z)(function*(I,f,p){const T=(0,U.m9)(I),ae={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:f};p&&hr(T.auth,ae,p);const{email:ct}=yield Fr(T.auth,ae);ct!==I.email&&(yield I.reload())})).apply(this,arguments)}function pa(I,f){return Is.apply(this,arguments)}function Is(){return(Is=(0,c.Z)(function*(I,f){return Xt(I,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Yo(I,f){return Co.apply(this,arguments)}function Co(){return(Co=(0,c.Z)(function*(I,{displayName:f,photoURL:p}){if(void 0===f&&void 0===p)return;const T=(0,U.m9)(I),ae={idToken:yield T.getIdToken(),displayName:f,photoUrl:p,returnSecureToken:!0},ct=yield Rn(T,pa(T.auth,ae));T.displayName=ct.displayName||null,T.photoURL=ct.photoUrl||null;const zt=T.providerData.find(({providerId:Vn})=>"password"===Vn);zt&&(zt.displayName=T.displayName,zt.photoURL=T.photoURL),yield T._updateTokensIfNecessary(ct)})).apply(this,arguments)}function ga(I,f){return G((0,U.m9)(I),f,null)}function S(I,f){return G((0,U.m9)(I),null,f)}function G(I,f,p){return O.apply(this,arguments)}function O(){return(O=(0,c.Z)(function*(I,f,p){const{auth:T}=I,ae={idToken:yield I.getIdToken(),returnSecureToken:!0};f&&(ae.email=f),p&&(ae.password=p);const ct=yield Rn(I,Oi(T,ae));yield I._updateTokensIfNecessary(ct,!0)})).apply(this,arguments)}class Me{constructor(f,p,T={}){this.isNewUser=f,this.providerId=p,this.profile=T}}class vt extends Me{constructor(f,p,T,J){super(f,p,T),this.username=J}}class Rt extends Me{constructor(f,p){super(f,"facebook.com",p)}}class Nn extends vt{constructor(f,p){super(f,"github.com",p,"string"==typeof p?.login?p?.login:null)}}class _r extends Me{constructor(f,p){super(f,"google.com",p)}}class Br extends vt{constructor(f,p,T){super(f,"twitter.com",p,T)}}function jr(I){const{user:f,_tokenResponse:p}=I;return f.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function te(I){var f,p;if(!I)return null;const{providerId:T}=I,J=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},ae=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!T&&I?.idToken){const ct=null===(p=null===(f=yn(I.idToken))||void 0===f?void 0:f.firebase)||void 0===p?void 0:p.sign_in_provider;if(ct)return new Me(ae,"anonymous"!==ct&&"custom"!==ct?ct:null)}if(!T)return null;switch(T){case"facebook.com":return new Rt(ae,J);case"github.com":return new Nn(ae,J);case"google.com":return new _r(ae,J);case"twitter.com":return new Br(ae,J,I.screenName||null);case"custom":case"anonymous":return new Me(ae,null);default:return new Me(ae,T,J)}}(p)}class se{constructor(f,p,T){this.type=f,this.credential=p,this.auth=T}static _fromIdtoken(f,p){return new se("enroll",f,p)}static _fromMfaPendingCredential(f){return new se("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var p,T;if(f?.multiFactorSession){if(null!==(p=f.multiFactorSession)&&void 0!==p&&p.pendingCredential)return se._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(T=f.multiFactorSession)&&void 0!==T&&T.idToken)return se._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Le{constructor(f,p,T){this.session=f,this.hints=p,this.signInResolver=T}static _fromError(f,p){const T=bn(f),J=p.customData._serverResponse,ae=(J.mfaInfo||[]).map(zt=>co._fromServerResponse(T,zt));Re(J.mfaPendingCredential,T,"internal-error");const ct=se._fromMfaPendingCredential(J.mfaPendingCredential);return new Le(ct,ae,function(){var zt=(0,c.Z)(function*(Vn){const ir=yield Vn._process(T,ct);delete J.mfaInfo,delete J.mfaPendingCredential;const Nr=Object.assign(Object.assign({},J),{idToken:ir.idToken,refreshToken:ir.refreshToken});switch(p.operationType){case"signIn":const Qi=yield Y._fromIdTokenResponse(T,p.operationType,Nr);return yield T._updateCurrentUser(Qi.user),Qi;case"reauthenticate":return Re(p.user,T,"internal-error"),Y._forOperation(p.user,p.operationType,Nr);default:Bt(T,"internal-error")}});return function(Vn){return zt.apply(this,arguments)}}())}resolveSignIn(f){var p=this;return(0,c.Z)(function*(){return p.signInResolver(f)})()}}function je(I,f){var p;const T=(0,U.m9)(I),J=f;return Re(f.customData.operationType,T,"argument-error"),Re(null===(p=J.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,T,"argument-error"),Le._fromError(T,J)}function Xe(I,f){return Xt(I,"POST","/v2/accounts/mfaEnrollment:start",wt(I,f))}class Pn{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(T=>co._fromServerResponse(f.auth,T)))})}static _fromUser(f){return new Pn(f)}getSession(){var f=this;return(0,c.Z)(function*(){return se._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,p){var T=this;return(0,c.Z)(function*(){const J=f,ae=yield T.getSession(),ct=yield Rn(T.user,J._process(T.user.auth,ae,p));return yield T.user._updateTokensIfNecessary(ct),T.user.reload()})()}unenroll(f){var p=this;return(0,c.Z)(function*(){var T;const J="string"==typeof f?f:f.uid,ae=yield p.user.getIdToken(),ct=yield Rn(p.user,function Mn(I,f){return Xt(I,"POST","/v2/accounts/mfaEnrollment:withdraw",wt(I,f))}(p.user.auth,{idToken:ae,mfaEnrollmentId:J}));p.enrolledFactors=p.enrolledFactors.filter(({uid:zt})=>zt!==J),yield p.user._updateTokensIfNecessary(ct);try{yield p.user.reload()}catch(zt){if("auth/user-token-expired"!==(null===(T=zt)||void 0===T?void 0:T.code))throw zt}})()}}const Rr=new WeakMap;function Cr(I){const f=(0,U.m9)(I);return Rr.has(f)||Rr.set(f,Pn._fromUser(f)),Rr.get(f)}const Zn="__sak";class ar{constructor(f,p){this.storageRetriever=f,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(Zn,"1"),this.storage.removeItem(Zn),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,p){return this.storage.setItem(f,JSON.stringify(p)),Promise.resolve()}_get(f){const p=this.storage.getItem(f);return Promise.resolve(p?JSON.parse(p):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ur=(()=>{class I extends ar{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,T)=>this.onStorageEvent(p,T),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Jr(){const I=(0,U.z$)();return ie(I)||de(I)}()&&function zn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=on(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const T of Object.keys(this.listeners)){const J=this.storage.getItem(T),ae=this.localCache[T];J!==ae&&p(T,ae,J)}}onStorageEvent(p,T=!1){if(!p.key)return void this.forAllChangedKeys((zt,Vn,ir)=>{this.notifyListeners(zt,ir)});const J=p.key;if(T?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const zt=this.storage.getItem(J);if(p.newValue!==zt)null!==p.newValue?this.storage.setItem(J,p.newValue):this.storage.removeItem(J);else if(this.localCache[J]===p.newValue&&!T)return}const ae=()=>{const zt=this.storage.getItem(J);!T&&this.localCache[J]===zt||this.notifyListeners(J,zt)},ct=this.storage.getItem(J);!function dt(){return(0,U.w1)()&&10===document.documentMode}()||ct===p.newValue||p.newValue===p.oldValue?ae():setTimeout(ae,10)}notifyListeners(p,T){this.localCache[p]=T;const J=this.listeners[p];if(J)for(const ae of Array.from(J))ae(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,T,J)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:T,newValue:J}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(T)}_removeListener(p,T){this.listeners[p]&&(this.listeners[p].delete(T),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,T){var J=()=>super._set,ae=this;return(0,c.Z)(function*(){yield J().call(ae,p,T),ae.localCache[p]=JSON.stringify(T)})()}_get(p){var T=()=>super._get,J=this;return(0,c.Z)(function*(){const ae=yield T().call(J,p);return J.localCache[p]=JSON.stringify(ae),ae})()}_remove(p){var T=()=>super._remove,J=this;return(0,c.Z)(function*(){yield T().call(J,p),delete J.localCache[p]})()}}return I.type="LOCAL",I})(),Zr=(()=>{class I extends ar{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,T){}_removeListener(p,T){}}return I.type="SESSION",I})();let Yi=(()=>{class I{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const T=this.receivers.find(ae=>ae.isListeningto(p));if(T)return T;const J=new I(p);return this.receivers.push(J),J}isListeningto(p){return this.eventTarget===p}handleEvent(p){var T=this;return(0,c.Z)(function*(){const J=p,{eventId:ae,eventType:ct,data:zt}=J.data,Vn=T.handlersMap[ct];if(!Vn?.size)return;J.ports[0].postMessage({status:"ack",eventId:ae,eventType:ct});const ir=Array.from(Vn).map(function(){var Qi=(0,c.Z)(function*(ha){return ha(J.origin,zt)});return function(ha){return Qi.apply(this,arguments)}}()),Nr=yield function Vi(I){return Promise.all(I.map(function(){var f=(0,c.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(T){return{fulfilled:!1,reason:T}}});return function(p){return f.apply(this,arguments)}}()))}(ir);J.ports[0].postMessage({status:"done",eventId:ae,eventType:ct,response:Nr})})()}_subscribe(p,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(T)}_unsubscribe(p,T){this.handlersMap[p]&&T&&this.handlersMap[p].delete(T),(!T||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function Ws(I="",f=10){let p="";for(let T=0;T<f;T++)p+=Math.floor(10*Math.random());return I+p}class Do{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,p,T=50){var J=this;return(0,c.Z)(function*(){const ae=typeof MessageChannel<"u"?new MessageChannel:null;if(!ae)throw new Error("connection_unavailable");let ct,zt;return new Promise((Vn,ir)=>{const Nr=Ws("",20);ae.port1.start();const Qi=setTimeout(()=>{ir(new Error("unsupported_event"))},T);zt={messageChannel:ae,onMessage(ha){const Ri=ha;if(Ri.data.eventId===Nr)switch(Ri.data.status){case"ack":clearTimeout(Qi),ct=setTimeout(()=>{ir(new Error("timeout"))},3e3);break;case"done":clearTimeout(ct),Vn(Ri.data.response);break;default:clearTimeout(Qi),clearTimeout(ct),ir(new Error("invalid_response"))}}},J.handlers.add(zt),ae.port1.addEventListener("message",zt.onMessage),J.target.postMessage({eventType:f,eventId:Nr,data:p},[ae.port2])}).finally(()=>{zt&&J.removeMessageHandler(zt)})})()}}function Ht(){return window}function li(){return typeof Ht().WorkerGlobalScope<"u"&&"function"==typeof Ht().importScripts}function xn(){return(xn=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Nt="firebaseLocalStorageDb",kt="firebaseLocalStorage",Wr="fbase_key";class $i{constructor(f){this.request=f}toPromise(){return new Promise((f,p)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function xs(I,f){return I.transaction([kt],f?"readwrite":"readonly").objectStore(kt)}function aa(){const I=indexedDB.open(Nt,1);return new Promise((f,p)=>{I.addEventListener("error",()=>{p(I.error)}),I.addEventListener("upgradeneeded",()=>{const T=I.result;try{T.createObjectStore(kt,{keyPath:Wr})}catch(J){p(J)}}),I.addEventListener("success",(0,c.Z)(function*(){const T=I.result;T.objectStoreNames.contains(kt)?f(T):(T.close(),yield function Di(){const I=indexedDB.deleteDatabase(Nt);return new $i(I).toPromise()}(),f(yield aa()))}))})}function Go(I,f,p){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,c.Z)(function*(I,f,p){const T=xs(I,!0).put({[Wr]:f,value:p});return new $i(T).toPromise()})).apply(this,arguments)}function Cs(){return(Cs=(0,c.Z)(function*(I,f){const p=xs(I,!1).get(f),T=yield new $i(p).toPromise();return void 0===T?null:T.value})).apply(this,arguments)}function Qo(I,f){const p=xs(I,!0).delete(f);return new $i(p).toPromise()}const Fo=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,c.Z)(function*(){return p.db||(p.db=yield aa()),p.db})()}_withRetries(p){var T=this;return(0,c.Z)(function*(){let J=0;for(;;)try{const ae=yield T._openDb();return yield p(ae)}catch(ae){if(J++>3)throw ae;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,c.Z)(function*(){return li()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,c.Z)(function*(){p.receiver=Yi._getInstance(function Yn(){return li()?self:null}()),p.receiver._subscribe("keyChanged",function(){var T=(0,c.Z)(function*(J,ae){return{keyProcessed:(yield p._poll()).includes(ae.key)}});return function(J,ae){return T.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var T=(0,c.Z)(function*(J,ae){return["keyChanged"]});return function(J,ae){return T.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,c.Z)(function*(){var T,J;if(p.activeServiceWorker=yield function oa(){return xn.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new Do(p.activeServiceWorker);const ae=yield p.sender._send("ping",{},800);!ae||(null===(T=ae[0])||void 0===T?void 0:T.fulfilled)&&(null===(J=ae[0])||void 0===J?void 0:J.value.includes("keyChanged"))&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var T=this;return(0,c.Z)(function*(){if(T.sender&&T.activeServiceWorker&&function Wt(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:p},T.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const p=yield aa();return yield Go(p,Zn,"1"),yield Qo(p,Zn),!0}catch{}return!1})()}_withPendingWrite(p){var T=this;return(0,c.Z)(function*(){T.pendingWrites++;try{yield p()}finally{T.pendingWrites--}})()}_set(p,T){var J=this;return(0,c.Z)(function*(){return J._withPendingWrite((0,c.Z)(function*(){return yield J._withRetries(ae=>Go(ae,p,T)),J.localCache[p]=T,J.notifyServiceWorker(p)}))})()}_get(p){var T=this;return(0,c.Z)(function*(){const J=yield T._withRetries(ae=>function zo(I,f){return Cs.apply(this,arguments)}(ae,p));return T.localCache[p]=J,J})()}_remove(p){var T=this;return(0,c.Z)(function*(){return T._withPendingWrite((0,c.Z)(function*(){return yield T._withRetries(J=>Qo(J,p)),delete T.localCache[p],T.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,c.Z)(function*(){const T=yield p._withRetries(ct=>{const zt=xs(ct,!1).getAll();return new $i(zt).toPromise()});if(!T)return[];if(0!==p.pendingWrites)return[];const J=[],ae=new Set;for(const{fbase_key:ct,value:zt}of T)ae.add(ct),JSON.stringify(p.localCache[ct])!==JSON.stringify(zt)&&(p.notifyListeners(ct,zt),J.push(ct));for(const ct of Object.keys(p.localCache))p.localCache[ct]&&!ae.has(ct)&&(p.notifyListeners(ct,null),J.push(ct));return J})()}notifyListeners(p,T){this.localCache[p]=T;const J=this.listeners[p];if(J)for(const ae of Array.from(J))ae(T)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(T)}_removeListener(p,T){this.listeners[p]&&(this.listeners[p].delete(T),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})();function iu(I,f){return Xt(I,"POST","/v2/accounts/mfaSignIn:start",wt(I,f))}function ds(){return(ds=(0,c.Z)(function*(I){return(yield Xt(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Jo(I){return new Promise((f,p)=>{const T=document.createElement("script");T.setAttribute("src",I),T.onload=f,T.onerror=J=>{const ae=ge("internal-error");ae.customData=J,p(ae)},T.type="text/javascript",T.charset="UTF-8",function Pr(){var I,f;return null!==(f=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==f?f:document}().appendChild(T)})}function Si(I){return`__${I}${Math.floor(1e6*Math.random())}`}const to=1e12;class Wo{constructor(f){this.auth=f,this.counter=to,this._widgets=new Map}render(f,p){const T=this.counter;return this._widgets.set(T,new ci(f,this.auth.name,p||{})),this.counter++,T}reset(f){var p;const T=f||to;null===(p=this._widgets.get(T))||void 0===p||p.delete(),this._widgets.delete(T)}getResponse(f){var p;return(null===(p=this._widgets.get(f||to))||void 0===p?void 0:p.getResponse())||""}execute(f){var p=this;return(0,c.Z)(function*(){var T;return null===(T=p._widgets.get(f||to))||void 0===T||T.execute(),""})()}}class ci{constructor(f,p,T){this.params=T,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const J="string"==typeof f?document.getElementById(f):f;Re(J,"argument-error",{appName:p}),this.container=J,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function wu(I){const f=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let T=0;T<I;T++)f.push(p.charAt(Math.floor(Math.random()*p.length)));return f.join("")}(50);const{callback:f,"expired-callback":p}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const su=Si("rcb"),ua=new Ot(3e4,6e4);class Nl{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=Ht().grecaptcha)||void 0===f||!f.render)}load(f,p=""){return Re(function no(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(p),f,"argument-error"),this.shouldResolveImmediately(p)?Promise.resolve(Ht().grecaptcha):new Promise((T,J)=>{const ae=Ht().setTimeout(()=>{J(ge(f,"network-request-failed"))},ua.get());Ht()[su]=()=>{Ht().clearTimeout(ae),delete Ht()[su];const zt=Ht().grecaptcha;if(!zt)return void J(ge(f,"internal-error"));const Vn=zt.render;zt.render=(ir,Nr)=>{const Qi=Vn(ir,Nr);return this.counter++,Qi},this.hostLanguage=p,T(zt)},Jo(`https://www.google.com/recaptcha/api.js??${(0,U.xO)({onload:su,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(ae),J(ge(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var p;return!(null===(p=Ht().grecaptcha)||void 0===p||!p.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class bu{load(f){return(0,c.Z)(function*(){return new Wo(f)})()}clearedOneInstance(){}}const la="recaptcha",kl={theme:"light",type:"image"};class Ta{constructor(f,p=Object.assign({},kl),T){this.parameters=p,this.type=la,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=bn(T),this.isInvisible="invisible"===this.parameters.size,Re(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const J="string"==typeof f?document.getElementById(f):f;Re(J,this.auth,"argument-error"),this.container=J,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new bu:new Nl,this.validateStartingState()}verify(){var f=this;return(0,c.Z)(function*(){f.assertNotDestroyed();const p=yield f.render(),T=f.getAssertedRecaptcha();return T.getResponse(p)||new Promise(ae=>{const ct=zt=>{!zt||(f.tokenChangeListeners.delete(ct),ae(zt))};f.tokenChangeListeners.add(ct),f.isInvisible&&T.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){Re(!this.parameters.sitekey,this.auth,"argument-error"),Re(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Re(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return p=>{if(this.tokenChangeListeners.forEach(T=>T(p)),"function"==typeof f)f(p);else if("string"==typeof f){const T=Ht()[f];"function"==typeof T&&T(p)}}}assertNotDestroyed(){Re(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,c.Z)(function*(){if(yield f.init(),!f.widgetId){let p=f.container;if(!f.isInvisible){const T=document.createElement("div");p.appendChild(T),p=T}f.widgetId=f.getAssertedRecaptcha().render(p,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,c.Z)(function*(){Re(jt()&&!li(),f.auth,"internal-error"),yield function hs(){let I=null;return new Promise(f=>{"complete"!==document.readyState?(I=()=>f(),window.addEventListener("load",I)):f()}).catch(f=>{throw I&&window.removeEventListener("load",I),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const p=yield function er(I){return ds.apply(this,arguments)}(f.auth);Re(p,f.auth,"internal-error"),f.parameters.sitekey=p})()}getAssertedRecaptcha(){return Re(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class mt{constructor(f,p){this.verificationId=f,this.onConfirmation=p}confirm(f){const p=us._fromVerification(this.verificationId,f);return this.onConfirmation(p)}}function ma(I,f,p){return To.apply(this,arguments)}function To(){return(To=(0,c.Z)(function*(I,f,p){const T=bn(I),J=yield _o(T,f,(0,U.m9)(p));return new mt(J,ae=>qi(T,ae))})).apply(this,arguments)}function Na(I,f,p){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,c.Z)(function*(I,f,p){const T=(0,U.m9)(I);yield Dr(!1,T,"phone");const J=yield _o(T.auth,f,(0,U.m9)(p));return new mt(J,ae=>Dn(T,ae))})).apply(this,arguments)}function Vs(I,f,p){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,c.Z)(function*(I,f,p){const T=(0,U.m9)(I),J=yield _o(T.auth,f,(0,U.m9)(p));return new mt(J,ae=>Xs(T,ae))})).apply(this,arguments)}function _o(I,f,p){return ca.apply(this,arguments)}function ca(){return(ca=(0,c.Z)(function*(I,f,p){var T;const J=yield p.verify();try{let ae;if(Re("string"==typeof J,I,"argument-error"),Re(p.type===la,I,"argument-error"),ae="string"==typeof f?{phoneNumber:f}:f,"session"in ae){const ct=ae.session;if("phoneNumber"in ae)return Re("enroll"===ct.type,I,"internal-error"),(yield Xe(I,{idToken:ct.credential,phoneEnrollmentInfo:{phoneNumber:ae.phoneNumber,recaptchaToken:J}})).phoneSessionInfo.sessionInfo;{Re("signin"===ct.type,I,"internal-error");const zt=(null===(T=ae.multiFactorHint)||void 0===T?void 0:T.uid)||ae.multiFactorUid;return Re(zt,I,"missing-multi-factor-info"),(yield iu(I,{mfaPendingCredential:ct.credential,mfaEnrollmentId:zt,phoneSignInInfo:{recaptchaToken:J}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ct}=yield oo(I,{phoneNumber:ae.phoneNumber,recaptchaToken:J});return ct}}finally{p._reset()}})).apply(this,arguments)}function $a(I,f){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,c.Z)(function*(I,f){yield _n((0,U.m9)(I),f)})).apply(this,arguments)}let Ju=(()=>{class I{constructor(p){this.providerId=I.PROVIDER_ID,this.auth=bn(p)}verifyPhoneNumber(p,T){return _o(this.auth,p,(0,U.m9)(T))}static credential(p,T){return us._fromVerification(p,T)}static credentialFromResult(p){return I.credentialFromTaggedObject(p)}static credentialFromError(p){return I.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:T,temporaryProof:J}=p;return T&&J?us._fromTokenResponse(T,J):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function fs(I,f){return f?Ve(f):(Re(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class au extends gr{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Ts(f,this._buildIdpRequest())}_linkToIdToken(f,p){return Ts(f,this._buildIdpRequest(p))}_getReauthenticationResolver(f){return Ts(f,this._buildIdpRequest())}_buildIdpRequest(f){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(p.idToken=f),p}}function Lo(I){return ts(I.auth,new au(I),I.bypassAuthState)}function ro(I){const{auth:f,user:p}=I;return Re(p,f,"internal-error"),si(p,new au(I),I.bypassAuthState)}function Gi(I){return w.apply(this,arguments)}function w(){return(w=(0,c.Z)(function*(I){const{auth:f,user:p}=I;return Re(p,f,"internal-error"),_n(p,new au(I),I.bypassAuthState)})).apply(this,arguments)}class b{constructor(f,p,T,J,ae=!1){this.auth=f,this.resolver=T,this.user=J,this.bypassAuthState=ae,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var f=this;return new Promise(function(){var p=(0,c.Z)(function*(T,J){f.pendingPromise={resolve:T,reject:J};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(ae){f.reject(ae)}});return function(T,J){return p.apply(this,arguments)}}())}onAuthEvent(f){var p=this;return(0,c.Z)(function*(){const{urlResponse:T,sessionId:J,postBody:ae,tenantId:ct,error:zt,type:Vn}=f;if(zt)return void p.reject(zt);const ir={auth:p.auth,requestUri:T,sessionId:J,tenantId:ct||void 0,postBody:ae||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(Vn)(ir))}catch(Nr){p.reject(Nr)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Lo;case"linkViaPopup":case"linkViaRedirect":return Gi;case"reauthViaPopup":case"reauthViaRedirect":return ro;default:Bt(this.auth,"internal-error")}}resolve(f){rt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){rt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const y=new Ot(2e3,1e4);function A(I,f,p){return F.apply(this,arguments)}function F(){return(F=(0,c.Z)(function*(I,f,p){const T=bn(I);ot(I,f,di);const J=fs(T,p);return new an(T,"signInViaPopup",f,J).executeNotNull()})).apply(this,arguments)}function X(I,f,p){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,c.Z)(function*(I,f,p){const T=(0,U.m9)(I);ot(T.auth,f,di);const J=fs(T.auth,p);return new an(T.auth,"reauthViaPopup",f,J,T).executeNotNull()})).apply(this,arguments)}function Ie(I,f,p){return At.apply(this,arguments)}function At(){return(At=(0,c.Z)(function*(I,f,p){const T=(0,U.m9)(I);ot(T.auth,f,di);const J=fs(T.auth,p);return new an(T.auth,"linkViaPopup",f,J,T).executeNotNull()})).apply(this,arguments)}let an=(()=>{class I extends b{constructor(p,T,J,ae,ct){super(p,T,ae,ct),this.provider=J,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var p=this;return(0,c.Z)(function*(){const T=yield p.execute();return Re(T,p.auth,"internal-error"),T})()}onExecution(){var p=this;return(0,c.Z)(function*(){rt(1===p.filter.length,"Popup operations only handle one event");const T=Ws();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],T),p.authWindow.associatedEvent=T,p.resolver._originValidation(p.auth).catch(J=>{p.reject(J)}),p.resolver._isIframeWebStorageSupported(p.auth,J=>{J||p.reject(ge(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(ge(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const p=()=>{var T,J;this.pollId=null!==(J=null===(T=this.authWindow)||void 0===T?void 0:T.window)&&void 0!==J&&J.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ge(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(p,y.get())};p()}}return I.currentPopupAction=null,I})();const Tn=new Map;class Or extends b{constructor(f,p,T=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,T),this.eventId=null}execute(){var f=()=>super.execute,p=this;return(0,c.Z)(function*(){let T=Tn.get(p.auth._key());if(!T){try{const ae=(yield function Ps(I,f){return Os.apply(this,arguments)}(p.resolver,p.auth))?yield f().call(p):null;T=()=>Promise.resolve(ae)}catch(J){T=()=>Promise.reject(J)}Tn.set(p.auth._key(),T)}return p.bypassAuthState||Tn.set(p.auth._key(),()=>Promise.resolve(null)),T()})()}onAuthEvent(f){var p=()=>super.onAuthEvent,T=this;return(0,c.Z)(function*(){if("signInViaRedirect"===f.type)return p().call(T,f);if("unknown"!==f.type){if(f.eventId){const J=yield T.auth._redirectUserForId(f.eventId);if(J)return T.user=J,p().call(T,f);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function Os(){return(Os=(0,c.Z)(function*(I,f){const p=Uo(f),T=ya(I);if(!(yield T._isAvailable()))return!1;const J="true"===(yield T._get(p));return yield T._remove(p),J})).apply(this,arguments)}function Xo(I,f){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,c.Z)(function*(I,f){return ya(I)._set(Uo(f),"true")})).apply(this,arguments)}function Sa(){Tn.clear()}function Bs(I,f){Tn.set(I._key(),f)}function ya(I){return Ve(I._redirectPersistence)}function Uo(I){return ce("pendingRedirect",I.config.apiKey,I.name)}function uu(I,f,p){return function Bi(I,f,p){return Vo.apply(this,arguments)}(I,f,p)}function Vo(){return(Vo=(0,c.Z)(function*(I,f,p){const T=bn(I);ot(I,f,di);const J=fs(T,p);return yield Xo(J,T),J._openRedirect(T,f,"signInViaRedirect")})).apply(this,arguments)}function Ga(I,f,p){return function R(I,f,p){return V.apply(this,arguments)}(I,f,p)}function V(){return(V=(0,c.Z)(function*(I,f,p){const T=(0,U.m9)(I);ot(T.auth,f,di);const J=fs(T.auth,p);yield Xo(J,T.auth);const ae=yield Er(T);return J._openRedirect(T.auth,f,"reauthViaRedirect",ae)})).apply(this,arguments)}function ee(I,f,p){return function Ce(I,f,p){return nt.apply(this,arguments)}(I,f,p)}function nt(){return(nt=(0,c.Z)(function*(I,f,p){const T=(0,U.m9)(I);ot(T.auth,f,di);const J=fs(T.auth,p);yield Dr(!1,T,f.providerId),yield Xo(J,T.auth);const ae=yield Er(T);return J._openRedirect(T.auth,f,"linkViaRedirect",ae)})).apply(this,arguments)}function bt(I,f){return qt.apply(this,arguments)}function qt(){return(qt=(0,c.Z)(function*(I,f){return yield bn(I)._initializationPromise,Cn(I,f,!1)})).apply(this,arguments)}function Cn(I,f){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,c.Z)(function*(I,f,p=!1){const T=bn(I),J=fs(T,f),ct=yield new Or(T,J,p).execute();return ct&&!p&&(delete ct.user._redirectEventId,yield T._persistUserIfCurrent(ct.user),yield T._setRedirectUser(null,f)),ct})).apply(this,arguments)}function Er(I){return wr.apply(this,arguments)}function wr(){return(wr=(0,c.Z)(function*(I){const f=Ws(`${I.uid}:::`);return I._redirectEventId=f,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),f})).apply(this,arguments)}class Ns{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let p=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(f,T)&&(p=!0,this.sendToConsumer(f,T),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Za(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return za(I);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=f,p=!0)),p}sendToConsumer(f,p){var T;if(f.error&&!za(f)){const J=(null===(T=f.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";p.onError(ge(this.auth,J))}else p.onAuthEvent(f)}isEventForConsumer(f,p){const T=null===p.eventId||!!f.eventId&&f.eventId===p.eventId;return p.filter.includes(f.type)&&T}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(vo(f))}saveEventToCache(f){this.cachedEventUids.add(vo(f)),this.lastProcessedEventTime=Date.now()}}function vo(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(f=>f).join("-")}function za({type:I,error:f}){return"unknown"===I&&"auth/no-auth-event"===f?.code}function Mi(I){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,c.Z)(function*(I,f={}){return Xt(I,"GET","/v1/projects",f)})).apply(this,arguments)}const xi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Cu=/^https?/;function So(){return(So=(0,c.Z)(function*(I){if(I.config.emulator)return;const{authorizedDomains:f}=yield Mi(I);for(const p of f)try{if(Dc(p))return}catch{}Bt(I,"unauthorized-domain")})).apply(this,arguments)}function Dc(I){const f=Ft(),{protocol:p,hostname:T}=new URL(f);if(I.startsWith("chrome-extension://")){const ct=new URL(I);return""===ct.hostname&&""===T?"chrome-extension:"===p&&I.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===p&&ct.hostname===T}if(!Cu.test(p))return!1;if(xi.test(I))return T===I;const J=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+J+"|"+J+")$","i").test(T)}const Xu=new Ot(3e4,6e4);function el(){const I=Ht().___jsl;if(I?.H)for(const f of Object.keys(I.H))if(I.H[f].r=I.H[f].r||[],I.H[f].L=I.H[f].L||[],I.H[f].r=[...I.H[f].L],I.CP)for(let p=0;p<I.CP.length;p++)I.CP[p]=null}let Wa=null;function Tc(I){return Wa=Wa||function Fl(I){return new Promise((f,p)=>{var T,J,ae;function ct(){el(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{el(),p(ge(I,"network-request-failed"))},timeout:Xu.get()})}if(null!==(J=null===(T=Ht().gapi)||void 0===T?void 0:T.iframes)&&void 0!==J&&J.Iframe)f(gapi.iframes.getContext());else{if(null===(ae=Ht().gapi)||void 0===ae||!ae.load){const zt=Si("iframefcb");return Ht()[zt]=()=>{gapi.load?ct():p(ge(I,"network-request-failed"))},Jo(`https://apis.google.com/js/api.js?onload=${zt}`).catch(Vn=>p(Vn))}ct()}}).catch(f=>{throw Wa=null,f})}(I),Wa}const Eo=new Ot(5e3,15e3),Md={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Yh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Sc(I){const f=I.config;Re(f.authDomain,I,"auth-domain-config-required");const p=f.emulator?vn(f,"emulator/auth/iframe"):`https://${I.config.authDomain}/__/auth/iframe`,T={apiKey:f.apiKey,appName:I.name,v:j.SDK_VERSION},J=Yh.get(I.config.apiHost);J&&(T.eid=J);const ae=I._getFrameworks();return ae.length&&(T.fw=ae.join(",")),`${p}?${(0,U.xO)(T).slice(1)}`}function Ll(){return Ll=(0,c.Z)(function*(I){const f=yield Tc(I),p=Ht().gapi;return Re(p,I,"internal-error"),f.open({where:document.body,url:Sc(I),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Md,dontclear:!0},T=>new Promise(function(){var J=(0,c.Z)(function*(ae,ct){yield T.restyle({setHideOnLeave:!1});const zt=ge(I,"network-request-failed"),Vn=Ht().setTimeout(()=>{ct(zt)},Eo.get());function ir(){Ht().clearTimeout(Vn),ae(T)}T.ping(ir).then(ir,()=>{ct(zt)})});return function(ae,ct){return J.apply(this,arguments)}}()))}),Ll.apply(this,arguments)}const Ul={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Rd{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Du(I,f,p,T,J,ae){Re(I.config.authDomain,I,"auth-domain-config-required"),Re(I.config.apiKey,I,"invalid-api-key");const ct={apiKey:I.config.apiKey,appName:I.name,authType:p,redirectUrl:T,v:j.SDK_VERSION,eventId:J};if(f instanceof di){f.setDefaultLanguage(I.languageCode),ct.providerId=f.providerId||"",(0,U.xb)(f.getCustomParameters())||(ct.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Vn,ir]of Object.entries(ae||{}))ct[Vn]=ir}if(f instanceof ys){const Vn=f.getScopes().filter(ir=>""!==ir);Vn.length>0&&(ct.scopes=Vn.join(","))}I.tenantId&&(ct.tid=I.tenantId);const zt=ct;for(const Vn of Object.keys(zt))void 0===zt[Vn]&&delete zt[Vn];return`${function Bl({config:I}){return I.emulator?vn(I,"emulator/auth/handler"):`https://${I.authDomain}/__/auth/handler`}(I)}?${(0,U.xO)(zt).slice(1)}`}const tl="webStorageSupport",Ao=class Tu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Zr,this._completeRedirectFn=Cn,this._overrideRedirectResult=Bs}_openPopup(f,p,T,J){var ae=this;return(0,c.Z)(function*(){var ct;rt(null===(ct=ae.eventManagers[f._key()])||void 0===ct?void 0:ct.manager,"_initialize() not called before _openPopup()");const zt=Du(f,p,T,Ft(),J);return function da(I,f,p,T=500,J=600){const ae=Math.max((window.screen.availHeight-J)/2,0).toString(),ct=Math.max((window.screen.availWidth-T)/2,0).toString();let zt="";const Vn=Object.assign(Object.assign({},Ul),{width:T.toString(),height:J.toString(),top:ae,left:ct}),ir=(0,U.z$)().toLowerCase();p&&(zt=Be(ir)?"_blank":p),Z(ir)&&(f=f||"http://localhost",Vn.scrollbars="yes");const Nr=Object.entries(Vn).reduce((ha,[Ri,Su])=>`${ha}${Ri}=${Su},`,"");if(function st(I=(0,U.z$)()){var f;return de(I)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(ir)&&"_self"!==zt)return function Vl(I,f){const p=document.createElement("a");p.href=I,p.target=f;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(T)}(f||"",zt),new Rd(null);const Qi=window.open(f||"",zt,Nr);Re(Qi,I,"popup-blocked");try{Qi.focus()}catch{}return new Rd(Qi)}(f,zt,Ws())})()}_openRedirect(f,p,T,J){var ae=this;return(0,c.Z)(function*(){return yield ae._originValidation(f),function ui(I){Ht().location.href=I}(Du(f,p,T,Ft(),J)),new Promise(()=>{})})()}_initialize(f){const p=f._key();if(this.eventManagers[p]){const{manager:J,promise:ae}=this.eventManagers[p];return J?Promise.resolve(J):(rt(ae,"If manager is not set, promise should be"),ae)}const T=this.initAndGetManager(f);return this.eventManagers[p]={promise:T},T.catch(()=>{delete this.eventManagers[p]}),T}initAndGetManager(f){var p=this;return(0,c.Z)(function*(){const T=yield function Qh(I){return Ll.apply(this,arguments)}(f),J=new Ns(f);return T.register("authEvent",ae=>(Re(ae?.authEvent,f,"invalid-auth-event"),{status:J.onEvent(ae.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[f._key()]={manager:J},p.iframes[f._key()]=T,J})()}_isIframeWebStorageSupported(f,p){this.iframes[f._key()].send(tl,{type:tl},J=>{var ae;const ct=null===(ae=J?.[0])||void 0===ae?void 0:ae[tl];void 0!==ct&&p(!!ct),Bt(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const p=f._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function _a(I){return So.apply(this,arguments)}(f)),this.originValidationPromises[p]}get _shouldInitProactively(){return on()||ie()||de()}};class cu extends class jl{constructor(f){this.factorId=f}_process(f,p,T){switch(p.type){case"enroll":return this._finalizeEnroll(f,p.credential,T);case"signin":return this._finalizeSignIn(f,p.credential);default:return Ye("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new cu(f)}_finalizeEnroll(f,p,T){return function Lt(I,f){return Xt(I,"POST","/v2/accounts/mfaEnrollment:finalize",wt(I,f))}(f,{idToken:p,displayName:T,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,p){return function ai(I,f){return Xt(I,"POST","/v2/accounts/mfaSignIn:finalize",wt(I,f))}(f,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ka=(()=>{class I{constructor(){}static assertion(p){return cu._fromCredential(p)}}return I.FACTOR_ID="phone",I})();var qa="@firebase/auth",Hl="0.20.10";class Xh{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var p=this;return(0,c.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const p=this.auth.onIdTokenChanged(T=>{var J;f((null===(J=T)||void 0===J?void 0:J.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,p),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const p=this.internalListeners.get(f);!p||(this.internalListeners.delete(f),p(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,U.Pz)("authIdTokenMaxAge"),function ag(I){(0,j._registerComponent)(new Te.wA("auth",(f,{options:p})=>{const T=f.getProvider("app").getImmediate(),J=f.getProvider("heartbeat"),{apiKey:ae,authDomain:ct}=T.options;return((zt,Vn)=>{Re(ae&&!ae.includes(":"),"invalid-api-key",{appName:zt.name}),Re(!ct?.includes(":"),"argument-error",{appName:zt.name});const ir={apiKey:ae,authDomain:ct,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:An(I)},Nr=new Yr(zt,Vn,ir);return function $e(I,f){const p=f?.persistence||[],T=(Array.isArray(p)?p:[p]).map(Ve);f?.errorMap&&I._updateErrorMap(f.errorMap),I._initializeWithPersistence(T,f?.popupRedirectResolver)}(Nr,p),Nr})(T,J)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,p,T)=>{f.getProvider("auth-internal").initialize()})),(0,j._registerComponent)(new Te.wA("auth-internal",f=>{const p=bn(f.getProvider("auth").getImmediate());return new Xh(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,j.registerVersion)(qa,Hl,function ef(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(I)),(0,j.registerVersion)(qa,Hl,"esm2017")}("Browser")},6961:(tn,et,P)=>{P.d(et,{$Y:()=>gr,B0:()=>Qs,FN:()=>vi,IX:()=>it,Jt:()=>lo,KV:()=>cs,UJ:()=>Se,Ym:()=>di,a1:()=>As,aF:()=>Ui,bm:()=>jn,cF:()=>vs,g6:()=>_s,gE:()=>$e,gH:()=>Ye,iH:()=>zs,oq:()=>Js,pb:()=>ys,qm:()=>Pi,sd:()=>Gs,y4:()=>_e});var c=P(5861),U=P(9681),j=P(2090),pe=P(4859);const m="firebasestorage.googleapis.com",Te="storageBucket";class q extends j.ZR{constructor(W,be,Fe=0){super(Q(W),`Firebase Storage: ${be} (${Q(W)})`),this.status_=Fe,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,q.prototype)}get status(){return this.status_}set status(W){this.status_=W}_codeEquals(W){return Q(W)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(W){this.customData.serverResponse=W,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function Q(Y){return"storage/"+Y}function me(){return new q("unknown","An unknown error occurred, please check the error payload for server response.")}function Ge(){return new q("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function Tt(){return new q("canceled","User canceled the upload/download.")}function ot(){return new q("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Ye(Y){return new q("invalid-argument",Y)}function rt(){return new q("app-deleted","The Firebase app was deleted.")}function _e(Y){return new q("invalid-root-operation","The operation '"+Y+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ve(Y,W){return new q("invalid-format","String does not match format '"+Y+"': "+W)}function xe(Y){throw new q("internal-error","Internal error: "+Y)}class $e{constructor(W,be){this.bucket=W,this.path_=be}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const W=encodeURIComponent;return"/b/"+W(this.bucket)+"/o/"+W(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(W,be){let Fe;try{Fe=$e.makeFromUrl(W,be)}catch{return new $e(W,"")}if(""===Fe.path)return Fe;throw function ge(Y){return new q("invalid-default-bucket","Invalid default bucket '"+Y+"'.")}(W)}static makeFromUrl(W,be){let Fe=null;const Ze="([A-Za-z0-9.\\-_]+)",In=new RegExp("^gs://"+Ze+"(/(.*))?$","i");function _n(zr){zr.path_=decodeURIComponent(zr.path)}const Dr=be.replace(/[.]/g,"\\."),Dn=[{regex:In,indices:{bucket:1,path:3},postModify:function Ct(zr){"/"===zr.path.charAt(zr.path.length-1)&&(zr.path_=zr.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Dr}/v[A-Za-z0-9_]+/b/${Ze}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:_n},{regex:new RegExp(`^https?://${be===m?"(?:storage.googleapis.com|storage.cloud.google.com)":be}/${Ze}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:_n}];for(let zr=0;zr<Dn.length;zr++){const Xs=Dn[zr],Es=Xs.regex.exec(W);if(Es){let Kr=Es[Xs.indices.path];Kr||(Kr=""),Fe=new $e(Es[Xs.indices.bucket],Kr),Xs.postModify(Fe);break}}if(null==Fe)throw function Bt(Y){return new q("invalid-url","Invalid URL '"+Y+"'.")}(W);return Fe}}class Ft{constructor(W){this.promise_=Promise.reject(W)}getPromise(){return this.promise_}cancel(W=!1){}}function vn(Y){return"string"==typeof Y||Y instanceof String}function fn(Y){return Dt()&&Y instanceof Blob}function Dt(){return typeof Blob<"u"}function ht(Y,W,be,Fe){if(Fe<W)throw Ye(`Invalid value for '${Y}'. Expected ${W} or greater.`);if(Fe>be)throw Ye(`Invalid value for '${Y}'. Expected ${be} or less.`)}function wt(Y,W,be){let Fe=W;return null==be&&(Fe=`https://${W}`),`${be}://${Fe}/v0${Y}`}function Xt(Y){const W=encodeURIComponent;let be="?";for(const Fe in Y)Y.hasOwnProperty(Fe)&&(be=be+(W(Fe)+"=")+W(Y[Fe])+"&");return be=be.slice(0,-1),be}var Fn=(()=>{return(Y=Fn||(Fn={}))[Y.NO_ERROR=0]="NO_ERROR",Y[Y.NETWORK_ERROR=1]="NETWORK_ERROR",Y[Y.ABORT=2]="ABORT",Fn;var Y})();function sr(Y,W){const be=Y>=500&&Y<600,Ze=-1!==[408,429].indexOf(Y),Ct=-1!==W.indexOf(Y);return be||Ze||Ct}class Wn{constructor(W,be,Fe,Ze,Ct,en,In,hn,_n,cr,Dr,$n=!0){this.url_=W,this.method_=be,this.headers_=Fe,this.body_=Ze,this.successCodes_=Ct,this.additionalRetryCodes_=en,this.callback_=In,this.errorCallback_=hn,this.timeout_=_n,this.progressCallback_=cr,this.connectionFactory_=Dr,this.retry=$n,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((si,$r)=>{this.resolve_=si,this.reject_=$r,this.start_()})}start_(){const be=(Fe,Ze)=>{const Ct=this.resolve_,en=this.reject_,In=Ze.connection;if(Ze.wasSuccessCode)try{const hn=this.callback_(In,In.getResponse());!function nn(Y){return void 0!==Y}(hn)?Ct():Ct(hn)}catch(hn){en(hn)}else if(null!==In){const hn=me();hn.serverResponse=In.getErrorText(),en(this.errorCallback_?this.errorCallback_(In,hn):hn)}else en(Ze.canceled?this.appDelete_?rt():Tt():Ge())};this.canceled_?be(0,new nr(!1,null,!0)):this.backoffId_=function jt(Y,W,be){let Fe=1,Ze=null,Ct=null,en=!1,In=0;function hn(){return 2===In}let _n=!1;function cr(...xr){_n||(_n=!0,W.apply(null,xr))}function Dr(xr){Ze=setTimeout(()=>{Ze=null,Y(si,hn())},xr)}function $n(){Ct&&clearTimeout(Ct)}function si(xr,...qi){if(_n)return void $n();if(xr)return $n(),void cr.call(null,xr,...qi);if(hn()||en)return $n(),void cr.call(null,xr,...qi);let Dn;Fe<64&&(Fe*=2),1===In?(In=2,Dn=0):Dn=1e3*(Fe+Math.random()),Dr(Dn)}let $r=!1;function ts(xr){$r||($r=!0,$n(),!_n&&(null!==Ze?(xr||(In=2),clearTimeout(Ze),Dr(0)):xr||(In=1)))}return Dr(0),Ct=setTimeout(()=>{en=!0,ts(!0)},be),ts}((Fe,Ze)=>{if(Ze)return void Fe(!1,new nr(!1,null,!0));const Ct=this.connectionFactory_();this.pendingConnection_=Ct;const en=In=>{null!==this.progressCallback_&&this.progressCallback_(In.loaded,In.lengthComputable?In.total:-1)};null!==this.progressCallback_&&Ct.addUploadProgressListener(en),Ct.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&Ct.removeUploadProgressListener(en),this.pendingConnection_=null;const In=Ct.getErrorCode()===Fn.NO_ERROR,hn=Ct.getStatus();if((!In||sr(hn,this.additionalRetryCodes_))&&this.retry){const cr=Ct.getErrorCode()===Fn.ABORT;return void Fe(!1,new nr(!1,null,cr))}const _n=-1!==this.successCodes_.indexOf(hn);Fe(!0,new nr(_n,Ct))})},be,this.timeout_)}getPromise(){return this.promise_}cancel(W){this.canceled_=!0,this.appDelete_=W||!1,null!==this.backoffId_&&function Kt(Y){Y(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class nr{constructor(W,be,Fe){this.wasSuccessCode=W,this.connection=be,this.canceled=!!Fe}}function Ut(...Y){const W=function dr(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==W){const be=new W;for(let Fe=0;Fe<Y.length;Fe++)be.append(Y[Fe]);return be.getBlob()}if(Dt())return new Blob(Y);throw new q("unsupported-environment","This browser doesn't seem to support creating Blobs")}const jn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class pr{constructor(W,be){this.data=W,this.contentType=be||null}}function Pi(Y,W){switch(Y){case jn.RAW:return new pr(Ar(W));case jn.BASE64:case jn.BASE64URL:return new pr(qn(Y,W));case jn.DATA_URL:return new pr(function mn(Y){const W=new yn(Y);return W.base64?qn(jn.BASE64,W.rest):function Hn(Y){let W;try{W=decodeURIComponent(Y)}catch{throw Ve(jn.DATA_URL,"Malformed data URL.")}return Ar(W)}(W.rest)}(W),function Rn(Y){return new yn(Y).contentType}(W))}throw me()}function Ar(Y){const W=[];for(let be=0;be<Y.length;be++){let Fe=Y.charCodeAt(be);Fe<=127?W.push(Fe):Fe<=2047?W.push(192|Fe>>6,128|63&Fe):55296==(64512&Fe)?be<Y.length-1&&56320==(64512&Y.charCodeAt(be+1))?(Fe=65536|(1023&Fe)<<10|1023&Y.charCodeAt(++be),W.push(240|Fe>>18,128|Fe>>12&63,128|Fe>>6&63,128|63&Fe)):W.push(239,191,189):56320==(64512&Fe)?W.push(239,191,189):W.push(224|Fe>>12,128|Fe>>6&63,128|63&Fe)}return new Uint8Array(W)}function qn(Y,W){switch(Y){case jn.BASE64:{const Ze=-1!==W.indexOf("-"),Ct=-1!==W.indexOf("_");if(Ze||Ct)throw Ve(Y,"Invalid character '"+(Ze?"-":"_")+"' found: is it base64url encoded?");break}case jn.BASE64URL:{const Ze=-1!==W.indexOf("+"),Ct=-1!==W.indexOf("/");if(Ze||Ct)throw Ve(Y,"Invalid character '"+(Ze?"+":"/")+"' found: is it base64 encoded?");W=W.replace(/-/g,"+").replace(/_/g,"/");break}}let be;try{be=function Ln(Y){return atob(Y)}(W)}catch{throw Ve(Y,"Invalid character found")}const Fe=new Uint8Array(be.length);for(let Ze=0;Ze<be.length;Ze++)Fe[Ze]=be.charCodeAt(Ze);return Fe}class yn{constructor(W){this.base64=!1,this.contentType=null;const be=W.match(/^data:([^,]+)?,/);if(null===be)throw Ve(jn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const Fe=be[1]||null;null!=Fe&&(this.base64=function Et(Y,W){return Y.length>=W.length&&Y.substring(Y.length-W.length)===W}(Fe,";base64"),this.contentType=this.base64?Fe.substring(0,Fe.length-7):Fe),this.rest=W.substring(W.indexOf(",")+1)}}class Se{constructor(W,be){let Fe=0,Ze="";fn(W)?(this.data_=W,Fe=W.size,Ze=W.type):W instanceof ArrayBuffer?(be?this.data_=new Uint8Array(W):(this.data_=new Uint8Array(W.byteLength),this.data_.set(new Uint8Array(W))),Fe=this.data_.length):W instanceof Uint8Array&&(be?this.data_=W:(this.data_=new Uint8Array(W.length),this.data_.set(W)),Fe=W.length),this.size_=Fe,this.type_=Ze}size(){return this.size_}type(){return this.type_}slice(W,be){if(fn(this.data_)){const Ze=function or(Y,W,be){return Y.webkitSlice?Y.webkitSlice(W,be):Y.mozSlice?Y.mozSlice(W,be):Y.slice?Y.slice(W,be):null}(this.data_,W,be);return null===Ze?null:new Se(Ze)}{const Fe=new Uint8Array(this.data_.buffer,W,be-W);return new Se(Fe,!0)}}static getBlob(...W){if(Dt()){const be=W.map(Fe=>Fe instanceof Se?Fe.data_:Fe);return new Se(Ut.apply(null,be))}{const be=W.map(en=>vn(en)?Pi(jn.RAW,en).data:en.data_);let Fe=0;be.forEach(en=>{Fe+=en.byteLength});const Ze=new Uint8Array(Fe);let Ct=0;return be.forEach(en=>{for(let In=0;In<en.length;In++)Ze[Ct++]=en[In]}),new Se(Ze,!0)}}uploadData(){return this.data_}}function Ue(Y){let W;try{W=JSON.parse(Y)}catch{return null}return function Ot(Y){return"object"==typeof Y&&!Array.isArray(Y)}(W)?W:null}function Qt(Y){const W=Y.lastIndexOf("/",Y.length-2);return-1===W?Y:Y.slice(W+1)}function Xn(Y,W){return W}class ln{constructor(W,be,Fe,Ze){this.server=W,this.local=be||W,this.writable=!!Fe,this.xform=Ze||Xn}}let Sn=null;function lt(){if(Sn)return Sn;const Y=[];Y.push(new ln("bucket")),Y.push(new ln("generation")),Y.push(new ln("metageneration")),Y.push(new ln("name","fullPath",!0));const be=new ln("name");be.xform=function W(Ct,en){return function we(Y){return!vn(Y)||Y.length<2?Y:Qt(Y)}(en)},Y.push(be);const Ze=new ln("size");return Ze.xform=function Fe(Ct,en){return void 0!==en?Number(en):en},Y.push(Ze),Y.push(new ln("timeCreated")),Y.push(new ln("updated")),Y.push(new ln("md5Hash",null,!0)),Y.push(new ln("cacheControl",null,!0)),Y.push(new ln("contentDisposition",null,!0)),Y.push(new ln("contentEncoding",null,!0)),Y.push(new ln("contentLanguage",null,!0)),Y.push(new ln("contentType",null,!0)),Y.push(new ln("metadata","customMetadata",!0)),Sn=Y,Sn}function ut(Y,W,be){const Fe=Ue(W);return null===Fe?null:function ve(Y,W,be){const Fe={type:"file"},Ze=be.length;for(let Ct=0;Ct<Ze;Ct++){const en=be[Ct];Fe[en.local]=en.xform(Fe,W[en.server])}return function le(Y,W){Object.defineProperty(Y,"ref",{get:function be(){const Ct=new $e(Y.bucket,Y.fullPath);return W._makeStorageReference(Ct)}})}(Fe,Y),Fe}(Y,Fe,be)}function pn(Y,W){const be={},Fe=W.length;for(let Ze=0;Ze<Fe;Ze++){const Ct=W[Ze];Ct.writable&&(be[Ct.server]=Y[Ct.local])}return JSON.stringify(be)}const De="prefixes";class Z{constructor(W,be,Fe,Ze){this.url=W,this.method=be,this.handler=Fe,this.timeout=Ze,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ie(Y){if(!Y)throw me()}function Be(Y,W){return function be(Fe,Ze){const Ct=ut(Y,Ze,W);return ie(null!==Ct),Ct}}function sn(Y){return function W(be,Fe){let Ze;return Ze=401===be.getStatus()?be.getErrorText().includes("Firebase App Check token is invalid")?function Pt(){return new q("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function ze(){return new q("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===be.getStatus()?function Qe(Y){return new q("quota-exceeded","Quota for bucket '"+Y+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(Y.bucket):403===be.getStatus()?function We(Y){return new q("unauthorized","User does not have permission to access '"+Y+"'.")}(Y.path):Fe,Ze.status=be.getStatus(),Ze.serverResponse=Fe.serverResponse,Ze}}function fe(Y){const W=sn(Y);return function be(Fe,Ze){let Ct=W(Fe,Ze);return 404===Fe.getStatus()&&(Ct=function tt(Y){return new q("object-not-found","Object '"+Y+"' does not exist.")}(Y.path)),Ct.serverResponse=Ze.serverResponse,Ct}}function de(Y,W,be){const Ze=wt(W.fullServerUrl(),Y.host,Y._protocol),en=Y.maxOperationRetryTime,In=new Z(Ze,"GET",Be(Y,be),en);return In.errorHandler=fe(W),In}function he(Y,W,be,Fe,Ze){const Ct={};Ct.prefix=W.isRoot?"":W.path+"/",be&&be.length>0&&(Ct.delimiter=be),Fe&&(Ct.pageToken=Fe),Ze&&(Ct.maxResults=Ze);const In=wt(W.bucketOnlyServerUrl(),Y.host,Y._protocol),_n=Y.maxOperationRetryTime,cr=new Z(In,"GET",function xt(Y,W){return function be(Fe,Ze){const Ct=function ue(Y,W,be){const Fe=Ue(be);return null===Fe?null:function Oe(Y,W,be){const Fe={prefixes:[],items:[],nextPageToken:be.nextPageToken};if(be[De])for(const Ze of be[De]){const Ct=Ze.replace(/\/$/,""),en=Y._makeStorageReference(new $e(W,Ct));Fe.prefixes.push(en)}if(be.items)for(const Ze of be.items){const Ct=Y._makeStorageReference(new $e(W,Ze.name));Fe.items.push(Ct)}return Fe}(Y,W,Fe)}(Y,W,Ze);return ie(null!==Ct),Ct}}(Y,W.bucket),_n);return cr.urlParams=Ct,cr.errorHandler=sn(W),cr}function ur(Y,W,be){const Fe=Object.assign({},be);return Fe.fullPath=Y.path,Fe.size=W.size(),Fe.contentType||(Fe.contentType=function An(Y,W){return Y&&Y.contentType||W&&W.type()||"application/octet-stream"}(null,W)),Fe}function Yr(Y,W,be,Fe,Ze){const Ct=W.bucketOnlyServerUrl(),en={"X-Goog-Upload-Protocol":"multipart"},hn=function In(){let Dn="";for(let zr=0;zr<2;zr++)Dn+=Math.random().toString().slice(2);return Dn}();en["Content-Type"]="multipart/related; boundary="+hn;const _n=ur(W,Fe,Ze),cr=pn(_n,be),si=Se.getBlob("--"+hn+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+cr+"\r\n--"+hn+"\r\nContent-Type: "+_n.contentType+"\r\n\r\n",Fe,"\r\n--"+hn+"--");if(null===si)throw ot();const $r={name:_n.fullPath},ts=wt(Ct,Y.host,Y._protocol),qi=Y.maxUploadRetryTime,Gr=new Z(ts,"POST",Be(Y,be),qi);return Gr.urlParams=$r,Gr.headers=en,Gr.body=si.uploadData(),Gr.errorHandler=sn(W),Gr}class bn{constructor(W,be,Fe,Ze){this.current=W,this.total=be,this.finalized=!!Fe,this.metadata=Ze||null}}function Zi(Y,W){let be=null;try{be=Y.getResponseHeader("X-Goog-Upload-Status")}catch{ie(!1)}return ie(!!be&&-1!==(W||["active"]).indexOf(be)),be}const vi={STATE_CHANGED:"state_changed"},gr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function ti(Y){switch(Y){case"running":case"pausing":case"canceling":return gr.RUNNING;case"paused":return gr.PAUSED;case"success":return gr.SUCCESS;case"canceled":return gr.CANCELED;default:return gr.ERROR}}class qr{constructor(W,be,Fe){if(function un(Y){return"function"==typeof Y}(W)||null!=be||null!=Fe)this.next=W,this.error=be??void 0,this.complete=Fe??void 0;else{const Ct=W;this.next=Ct.next,this.error=Ct.error,this.complete=Ct.complete}}}function Oi(Y){return(...W)=>{Promise.resolve().then(()=>Y(...W))}}class Wi extends class Fs{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Fn.NO_ERROR,this.sendPromise_=new Promise(W=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Fn.ABORT,W()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Fn.NETWORK_ERROR,W()}),this.xhr_.addEventListener("load",()=>{W()})})}send(W,be,Fe,Ze){if(this.sent_)throw xe("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(be,W,!0),void 0!==Ze)for(const Ct in Ze)Ze.hasOwnProperty(Ct)&&this.xhr_.setRequestHeader(Ct,Ze[Ct].toString());return void 0!==Fe?this.xhr_.send(Fe):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw xe("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw xe("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw xe("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw xe("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(W){return this.xhr_.getResponseHeader(W)}addUploadProgressListener(W){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",W)}removeUploadProgressListener(W){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",W)}}{initXhr(){this.xhr_.responseType="text"}}function ii(){return new Wi}class it{constructor(W,be,Fe=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=W,this._blob=be,this._metadata=Fe,this._mappings=lt(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=Ze=>{if(this._request=void 0,this._chunkMultiplier=1,Ze._codeEquals("canceled"))this._needToFetchStatus=!0,this.completeTransitions_();else{const Ct=this.isExponentialBackoffExpired();if(sr(Ze.status,[])){if(!Ct)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();Ze=Ge()}this._error=Ze,this._transition("error")}},this._metadataErrorHandler=Ze=>{this._request=void 0,Ze._codeEquals("canceled")?this.completeTransitions_():(this._error=Ze,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((Ze,Ct)=>{this._resolve=Ze,this._reject=Ct,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const W=this._transferred;return be=>this._updateProgress(W+be)}_shouldDoResumable(W){return W.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(W){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([be,Fe])=>{switch(this._state){case"running":W(be,Fe);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((W,be)=>{const Fe=function yi(Y,W,be,Fe,Ze){const Ct=W.bucketOnlyServerUrl(),en=ur(W,Fe,Ze),In={name:en.fullPath},hn=wt(Ct,Y.host,Y._protocol),cr={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${Fe.size()}`,"X-Goog-Upload-Header-Content-Type":en.contentType,"Content-Type":"application/json; charset=utf-8"},Dr=pn(en,be),$r=new Z(hn,"POST",function si(ts){let xr;Zi(ts);try{xr=ts.getResponseHeader("X-Goog-Upload-URL")}catch{ie(!1)}return ie(vn(xr)),xr},Y.maxUploadRetryTime);return $r.urlParams=In,$r.headers=cr,$r.body=Dr,$r.errorHandler=sn(W),$r}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Ze=this._ref.storage._makeRequest(Fe,ii,W,be);this._request=Ze,Ze.getPromise().then(Ct=>{this._request=void 0,this._uploadUrl=Ct,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const W=this._uploadUrl;this._resolveToken((be,Fe)=>{const Ze=function _i(Y,W,be,Fe){const hn=new Z(be,"POST",function Ct(_n){const cr=Zi(_n,["active","final"]);let Dr=null;try{Dr=_n.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ie(!1)}Dr||ie(!1);const $n=Number(Dr);return ie(!isNaN($n)),new bn($n,Fe.size(),"final"===cr)},Y.maxUploadRetryTime);return hn.headers={"X-Goog-Upload-Command":"query"},hn.errorHandler=sn(W),hn}(this._ref.storage,this._ref._location,W,this._blob),Ct=this._ref.storage._makeRequest(Ze,ii,be,Fe);this._request=Ct,Ct.getPromise().then(en=>{this._request=void 0,this._updateProgress(en.current),this._needToFetchStatus=!1,en.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const W=262144*this._chunkMultiplier,be=new bn(this._transferred,this._blob.size()),Fe=this._uploadUrl;this._resolveToken((Ze,Ct)=>{let en;try{en=function ei(Y,W,be,Fe,Ze,Ct,en,In){const hn=new bn(0,0);if(en?(hn.current=en.current,hn.total=en.total):(hn.current=0,hn.total=Fe.size()),Fe.size()!==hn.total)throw function _t(){return new q("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const _n=hn.total-hn.current;let cr=_n;Ze>0&&(cr=Math.min(cr,Ze));const Dr=hn.current;let si="";si=0===cr?"finalize":_n===cr?"upload, finalize":"upload";const $r={"X-Goog-Upload-Command":si,"X-Goog-Upload-Offset":`${hn.current}`},ts=Fe.slice(Dr,Dr+cr);if(null===ts)throw ot();const Dn=new Z(be,"POST",function xr(zr,Xs){const Es=Zi(zr,["active","final"]),Ls=hn.current+cr,Kr=Fe.size();let ws;return ws="final"===Es?Be(W,Ct)(zr,Xs):null,new bn(Ls,Kr,"final"===Es,ws)},W.maxUploadRetryTime);return Dn.headers=$r,Dn.body=ts.uploadData(),Dn.progressCallback=In||null,Dn.errorHandler=sn(Y),Dn}(this._ref._location,this._ref.storage,Fe,this._blob,W,this._mappings,be,this._makeProgressCallback())}catch(hn){return this._error=hn,void this._transition("error")}const In=this._ref.storage._makeRequest(en,ii,Ze,Ct,!1);this._request=In,In.getPromise().then(hn=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(hn.current),hn.finalized?(this._metadata=hn.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((W,be)=>{const Fe=de(this._ref.storage,this._ref._location,this._mappings),Ze=this._ref.storage._makeRequest(Fe,ii,W,be);this._request=Ze,Ze.getPromise().then(Ct=>{this._request=void 0,this._metadata=Ct,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((W,be)=>{const Fe=Yr(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Ze=this._ref.storage._makeRequest(Fe,ii,W,be);this._request=Ze,Ze.getPromise().then(Ct=>{this._request=void 0,this._metadata=Ct,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(W){const be=this._transferred;this._transferred=W,this._transferred!==be&&this._notifyObservers()}_transition(W){if(this._state!==W)switch(W){case"canceling":case"pausing":this._state=W,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const be="paused"===this._state;this._state=W,be&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=W,this._notifyObservers();break;case"canceled":this._error=Tt(),this._state=W,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const W=ti(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:W,metadata:this._metadata,task:this,ref:this._ref}}on(W,be,Fe,Ze){const Ct=new qr(be||void 0,Fe||void 0,Ze||void 0);return this._addObserver(Ct),()=>{this._removeObserver(Ct)}}then(W,be){return this._promise.then(W,be)}catch(W){return this.then(null,W)}_addObserver(W){this._observers.push(W),this._notifyObserver(W)}_removeObserver(W){const be=this._observers.indexOf(W);-1!==be&&this._observers.splice(be,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(be=>{this._notifyObserver(be)})}_finishPromise(){if(void 0!==this._resolve){let W=!0;switch(ti(this._state)){case gr.SUCCESS:Oi(this._resolve.bind(null,this.snapshot))();break;case gr.CANCELED:case gr.ERROR:Oi(this._reject.bind(null,this._error))();break;default:W=!1}W&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(W){switch(ti(this._state)){case gr.RUNNING:case gr.PAUSED:W.next&&Oi(W.next.bind(W,this.snapshot))();break;case gr.SUCCESS:W.complete&&Oi(W.complete.bind(W))();break;default:W.error&&Oi(W.error.bind(W,this._error))()}}resume(){const W="paused"===this._state||"pausing"===this._state;return W&&this._transition("running"),W}pause(){const W="running"===this._state;return W&&this._transition("pausing"),W}cancel(){const W="running"===this._state||"pausing"===this._state;return W&&this._transition("canceling"),W}}class Mt{constructor(W,be){this._service=W,this._location=be instanceof $e?be:$e.makeFromUrl(be,W.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(W,be){return new Mt(W,be)}get root(){const W=new $e(this._location.bucket,"");return this._newRef(this._service,W)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Qt(this._location.path)}get storage(){return this._service}get parent(){const W=function yt(Y){if(0===Y.length)return null;const W=Y.lastIndexOf("/");return-1===W?"":Y.slice(0,W)}(this._location.path);if(null===W)return null;const be=new $e(this._location.bucket,W);return new Mt(this._service,be)}_throwIfRoot(W){if(""===this._location.path)throw _e(W)}}function Ni(Y,W,be){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,c.Z)(function*(Y,W,be){const Ze=yield os(Y,{pageToken:be});W.prefixes.push(...Ze.prefixes),W.items.push(...Ze.items),null!=Ze.nextPageToken&&(yield Ni(Y,W,Ze.nextPageToken))})).apply(this,arguments)}function os(Y,W){null!=W&&"number"==typeof W.maxResults&&ht("options.maxResults",1,1e3,W.maxResults);const be=W||{},Fe=he(Y.storage,Y._location,"/",be.pageToken,be.maxResults);return Y.storage.makeRequestWithTokens(Fe,ii)}function Li(Y){Y._throwIfRoot("getDownloadURL");const W=function dt(Y,W,be){const Ze=wt(W.fullServerUrl(),Y.host,Y._protocol),en=Y.maxOperationRetryTime,In=new Z(Ze,"GET",function rn(Y,W){return function be(Fe,Ze){const Ct=ut(Y,Ze,W);return ie(null!==Ct),function It(Y,W,be,Fe){const Ze=Ue(W);if(null===Ze||!vn(Ze.downloadTokens))return null;const Ct=Ze.downloadTokens;if(0===Ct.length)return null;const en=encodeURIComponent;return Ct.split(",").map(_n=>{const Dr=Y.fullPath;return wt("/b/"+en(Y.bucket)+"/o/"+en(Dr),be,Fe)+Xt({alt:"media",token:_n})})[0]}(Ct,Ze,Y.host,Y._protocol)}}(Y,be),en);return In.errorHandler=fe(W),In}(Y.storage,Y._location,lt());return Y.storage.makeRequestWithTokens(W,ii).then(be=>{if(null===be)throw function Re(){return new q("no-download-url","The given file does not have any download URLs.")}();return be})}function as(Y,W){const be=function St(Y,W){const be=W.split("/").filter(Fe=>Fe.length>0).join("/");return 0===Y.length?be:Y+"/"+be}(Y._location.path,W),Fe=new $e(Y._location.bucket,be);return new Mt(Y.storage,Fe)}function ao(Y,W){if(Y instanceof mo){const be=Y;if(null==be._bucket)throw function He(){return new q("no-default-bucket","No default bucket found. Did you set the '"+Te+"' property when initializing the app?")}();const Fe=new Mt(be,be._bucket);return null!=W?ao(Fe,W):Fe}return void 0!==W?as(Y,W):Y}function $s(Y,W){if(W&&function oo(Y){return/^[A-Za-z]+:\/\//.test(Y)}(W)){if(Y instanceof mo)return function Ys(Y,W){return new Mt(Y,W)}(Y,W);throw Ye("To use ref(service, url), the first argument must be a Storage instance.")}return ao(Y,W)}function Ss(Y,W){const be=W?.[Te];return null==be?null:$e.makeFromBucketSpec(be,Y)}class mo{constructor(W,be,Fe,Ze,Ct){this.app=W,this._authProvider=be,this._appCheckProvider=Fe,this._url=Ze,this._firebaseVersion=Ct,this._bucket=null,this._host=m,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=Ze?$e.makeFromBucketSpec(Ze,this._host):Ss(this._host,this.app.options)}get host(){return this._host}set host(W){this._host=W,this._bucket=null!=this._url?$e.makeFromBucketSpec(this._url,W):Ss(W,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(W){ht("time",0,Number.POSITIVE_INFINITY,W),this._maxUploadRetryTime=W}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(W){ht("time",0,Number.POSITIVE_INFINITY,W),this._maxOperationRetryTime=W}_getAuthToken(){var W=this;return(0,c.Z)(function*(){if(W._overrideAuthToken)return W._overrideAuthToken;const be=W._authProvider.getImmediate({optional:!0});if(be){const Fe=yield be.getToken();if(null!==Fe)return Fe.accessToken}return null})()}_getAppCheckToken(){var W=this;return(0,c.Z)(function*(){const be=W._appCheckProvider.getImmediate({optional:!0});return be?(yield be.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(W=>W.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(W){return new Mt(this,W)}_makeRequest(W,be,Fe,Ze,Ct=!0){if(this._deleted)return new Ft(rt());{const en=function br(Y,W,be,Fe,Ze,Ct,en=!0){const In=Xt(Y.urlParams),hn=Y.url+In,_n=Object.assign({},Y.headers);return function cn(Y,W){W&&(Y["X-Firebase-GMPID"]=W)}(_n,W),function Kn(Y,W){null!==W&&W.length>0&&(Y.Authorization="Firebase "+W)}(_n,be),function fr(Y,W){Y["X-Firebase-Storage-Version"]="webjs/"+(W??"AppManager")}(_n,Ct),function rr(Y,W){null!==W&&(Y["X-Firebase-AppCheck"]=W)}(_n,Fe),new Wn(hn,Y.method,_n,Y.body,Y.successCodes,Y.additionalRetryCodes,Y.handler,Y.errorHandler,Y.timeout,Y.progressCallback,Ze,en)}(W,this._appId,Fe,Ze,be,this._firebaseVersion,Ct);return this._requests.add(en),en.getPromise().then(()=>this._requests.delete(en),()=>this._requests.delete(en)),en}}makeRequestWithTokens(W,be){var Fe=this;return(0,c.Z)(function*(){const[Ze,Ct]=yield Promise.all([Fe._getAuthToken(),Fe._getAppCheckToken()]);return Fe._makeRequest(W,be,Ze,Ct).getPromise()})()}}const yo="@firebase/storage",us="storage";function cs(Y,W,be){return function lr(Y,W,be){Y._throwIfRoot("uploadBytes");const Fe=Yr(Y.storage,Y._location,lt(),new Se(W,!0),be);return Y.storage.makeRequestWithTokens(Fe,ii).then(Ze=>({metadata:Ze,ref:Y}))}(Y=(0,j.m9)(Y),W,be)}function Qs(Y,W,be){return function Fr(Y,W,be){return Y._throwIfRoot("uploadBytesResumable"),new it(Y,new Se(W),be)}(Y=(0,j.m9)(Y),W,be)}function Gs(Y){return function Xi(Y){Y._throwIfRoot("getMetadata");const W=de(Y.storage,Y._location,lt());return Y.storage.makeRequestWithTokens(W,ii)}(Y=(0,j.m9)(Y))}function di(Y,W){return function Ts(Y,W){Y._throwIfRoot("updateMetadata");const be=function on(Y,W,be,Fe){const Ct=wt(W.fullServerUrl(),Y.host,Y._protocol),In=pn(be,Fe),_n=Y.maxOperationRetryTime,cr=new Z(Ct,"PATCH",Be(Y,Fe),_n);return cr.headers={"Content-Type":"application/json; charset=utf-8"},cr.body=In,cr.errorHandler=fe(W),cr}(Y.storage,Y._location,W,lt());return Y.storage.makeRequestWithTokens(be,ii)}(Y=(0,j.m9)(Y),W)}function ys(Y,W){return os(Y=(0,j.m9)(Y),W)}function Ui(Y){return function Vr(Y){const W={prefixes:[],items:[]};return Ni(Y,W).then(()=>W)}(Y=(0,j.m9)(Y))}function lo(Y){return Li(Y=(0,j.m9)(Y))}function Js(Y){return function Ei(Y){Y._throwIfRoot("deleteObject");const W=function zn(Y,W){const Fe=wt(W.fullServerUrl(),Y.host,Y._protocol),In=new Z(Fe,"DELETE",function en(hn,_n){},Y.maxOperationRetryTime);return In.successCodes=[200,204],In.errorHandler=fe(W),In}(Y.storage,Y._location);return Y.storage.makeRequestWithTokens(W,ii)}(Y=(0,j.m9)(Y))}function zs(Y,W){return $s(Y=(0,j.m9)(Y),W)}function _s(Y,W){return as(Y,W)}function vs(Y=(0,U.getApp)(),W){Y=(0,j.m9)(Y);const Fe=(0,U._getProvider)(Y,us).getImmediate({identifier:W}),Ze=(0,j.P0)("storage");return Ze&&As(Fe,...Ze),Fe}function As(Y,W,be,Fe={}){!function Ro(Y,W,be,Fe={}){Y.host=`${W}:${be}`,Y._protocol="http";const{mockUserToken:Ze}=Fe;Ze&&(Y._overrideAuthToken="string"==typeof Ze?Ze:(0,j.Sg)(Ze,Y.app.options.projectId))}(Y,W,be,Fe)}function Hi(Y,{instanceIdentifier:W}){const be=Y.getProvider("app").getImmediate(),Fe=Y.getProvider("auth-internal"),Ze=Y.getProvider("app-check-internal");return new mo(be,Fe,Ze,W,U.SDK_VERSION)}!function es(){(0,U._registerComponent)(new pe.wA(us,Hi,"PUBLIC").setMultipleInstances(!0)),(0,U.registerVersion)(yo,"0.9.12",""),(0,U.registerVersion)(yo,"0.9.12","esm2017")}()},2090:(tn,et,P)=>{P.d(et,{$s:()=>ve,BH:()=>un,G6:()=>ot,L:()=>Pe,LL:()=>Dt,P0:()=>jt,Pz:()=>nn,Sg:()=>Ot,UG:()=>ze,US:()=>Te,ZB:()=>Q,ZR:()=>fn,aH:()=>Kt,b$:()=>Ge,eu:()=>Re,hl:()=>_t,jU:()=>Pt,m9:()=>pn,ne:()=>Hn,pd:()=>Pi,r3:()=>cn,ru:()=>We,tV:()=>Ae,uI:()=>Qe,vZ:()=>Ut,w1:()=>Bt,xO:()=>jn,xb:()=>br,z$:()=>tt,zI:()=>Ye,zd:()=>pr});const pe=function(De){const ce=[];let Oe=0;for(let ue=0;ue<De.length;ue++){let Z=De.charCodeAt(ue);Z<128?ce[Oe++]=Z:Z<2048?(ce[Oe++]=Z>>6|192,ce[Oe++]=63&Z|128):55296==(64512&Z)&&ue+1<De.length&&56320==(64512&De.charCodeAt(ue+1))?(Z=65536+((1023&Z)<<10)+(1023&De.charCodeAt(++ue)),ce[Oe++]=Z>>18|240,ce[Oe++]=Z>>12&63|128,ce[Oe++]=Z>>6&63|128,ce[Oe++]=63&Z|128):(ce[Oe++]=Z>>12|224,ce[Oe++]=Z>>6&63|128,ce[Oe++]=63&Z|128)}return ce},Te={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(De,ce){if(!Array.isArray(De))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Oe=ce?this.byteToCharMapWebSafe_:this.byteToCharMap_,ue=[];for(let Z=0;Z<De.length;Z+=3){const ie=De[Z],Be=Z+1<De.length,xt=Be?De[Z+1]:0,rn=Z+2<De.length,sn=rn?De[Z+2]:0;let he=(15&xt)<<2|sn>>6,st=63&sn;rn||(st=64,Be||(he=64)),ue.push(Oe[ie>>2],Oe[(3&ie)<<4|xt>>4],Oe[he],Oe[st])}return ue.join("")},encodeString(De,ce){return this.HAS_NATIVE_SUPPORT&&!ce?btoa(De):this.encodeByteArray(pe(De),ce)},decodeString(De,ce){return this.HAS_NATIVE_SUPPORT&&!ce?atob(De):function(De){const ce=[];let Oe=0,ue=0;for(;Oe<De.length;){const Z=De[Oe++];if(Z<128)ce[ue++]=String.fromCharCode(Z);else if(Z>191&&Z<224){const ie=De[Oe++];ce[ue++]=String.fromCharCode((31&Z)<<6|63&ie)}else if(Z>239&&Z<365){const rn=((7&Z)<<18|(63&De[Oe++])<<12|(63&De[Oe++])<<6|63&De[Oe++])-65536;ce[ue++]=String.fromCharCode(55296+(rn>>10)),ce[ue++]=String.fromCharCode(56320+(1023&rn))}else{const ie=De[Oe++],Be=De[Oe++];ce[ue++]=String.fromCharCode((15&Z)<<12|(63&ie)<<6|63&Be)}}return ce.join("")}(this.decodeStringToByteArray(De,ce))},decodeStringToByteArray(De,ce){this.init_();const Oe=ce?this.charToByteMapWebSafe_:this.charToByteMap_,ue=[];for(let Z=0;Z<De.length;){const ie=Oe[De.charAt(Z++)],xt=Z<De.length?Oe[De.charAt(Z)]:0;++Z;const sn=Z<De.length?Oe[De.charAt(Z)]:64;++Z;const de=Z<De.length?Oe[De.charAt(Z)]:64;if(++Z,null==ie||null==xt||null==sn||null==de)throw Error();ue.push(ie<<2|xt>>4),64!==sn&&(ue.push(xt<<4&240|sn>>2),64!==de&&ue.push(sn<<6&192|de))}return ue},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let De=0;De<this.ENCODED_VALS.length;De++)this.byteToCharMap_[De]=this.ENCODED_VALS.charAt(De),this.charToByteMap_[this.byteToCharMap_[De]]=De,this.byteToCharMapWebSafe_[De]=this.ENCODED_VALS_WEBSAFE.charAt(De),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[De]]=De,De>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(De)]=De,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(De)]=De)}}},Pe=function(De){return function(De){const ce=pe(De);return Te.encodeByteArray(ce,!0)}(De).replace(/\./g,"")},Ae=function(De){try{return Te.decodeString(De,!0)}catch(ce){console.error("base64Decode failed: ",ce)}return null};function Q(De,ce){if(!(ce instanceof Object))return ce;switch(ce.constructor){case Date:return new Date(ce.getTime());case Object:void 0===De&&(De={});break;case Array:De=[];break;default:return ce}for(const Oe in ce)!ce.hasOwnProperty(Oe)||!me(Oe)||(De[Oe]=Q(De[Oe],ce[Oe]));return De}function me(De){return"__proto__"!==De}function tt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Qe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tt())}function ze(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Pt(){return"object"==typeof self&&self.self===self}function We(){const De="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof De&&void 0!==De.id}function Ge(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Bt(){const De=tt();return De.indexOf("MSIE ")>=0||De.indexOf("Trident/")>=0}function ot(){return!ze()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _t(){return"object"==typeof indexedDB}function Re(){return new Promise((De,ce)=>{try{let Oe=!0;const ue="validate-browser-context-for-indexeddb-analytics-module",Z=self.indexedDB.open(ue);Z.onsuccess=()=>{Z.result.close(),Oe||self.indexedDB.deleteDatabase(ue),De(!0)},Z.onupgradeneeded=()=>{Oe=!1},Z.onerror=()=>{var ie;ce((null===(ie=Z.error)||void 0===ie?void 0:ie.message)||"")}}catch(Oe){ce(Oe)}})}function Ye(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const $e=()=>{try{return function rt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const De=process.env.__FIREBASE_DEFAULTS__;return De?JSON.parse(De):void 0})()||(()=>{if(typeof document>"u")return;let De;try{De=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ce=De&&Ae(De[1]);return ce&&JSON.parse(ce)})()}catch(De){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${De}`)}},jt=De=>{const ce=(De=>{var ce,Oe;return null===(Oe=null===(ce=$e())||void 0===ce?void 0:ce.emulatorHosts)||void 0===Oe?void 0:Oe[De]})(De);if(!ce)return;const Oe=ce.lastIndexOf(":");if(Oe<=0||Oe+1===ce.length)throw new Error(`Invalid host ${ce} with no separate hostname and port!`);const ue=parseInt(ce.substring(Oe+1),10);return"["===ce[0]?[ce.substring(1,Oe-1),ue]:[ce.substring(0,Oe),ue]},Kt=()=>{var De;return null===(De=$e())||void 0===De?void 0:De.config},nn=De=>{var ce;return null===(ce=$e())||void 0===ce?void 0:ce[`_${De}`]};class un{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ce,Oe)=>{this.resolve=ce,this.reject=Oe})}wrapCallback(ce){return(Oe,ue)=>{Oe?this.reject(Oe):this.resolve(ue),"function"==typeof ce&&(this.promise.catch(()=>{}),1===ce.length?ce(Oe):ce(Oe,ue))}}}function Ot(De,ce){if(De.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ue=ce||"demo-project",Z=De.iat||0,ie=De.sub||De.user_id;if(!ie)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Be=Object.assign({iss:`https://securetoken.google.com/${ue}`,aud:ue,iat:Z,exp:Z+3600,auth_time:Z,sub:ie,user_id:ie,firebase:{sign_in_provider:"custom",identities:{}}},De);return[Pe(JSON.stringify({alg:"none",type:"JWT"})),Pe(JSON.stringify(Be)),""].join(".")}class fn extends Error{constructor(ce,Oe,ue){super(Oe),this.code=ce,this.customData=ue,this.name="FirebaseError",Object.setPrototypeOf(this,fn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dt.prototype.create)}}class Dt{constructor(ce,Oe,ue){this.service=ce,this.serviceName=Oe,this.errors=ue}create(ce,...Oe){const ue=Oe[0]||{},Z=`${this.service}/${ce}`,ie=this.errors[ce],Be=ie?function ht(De,ce){return De.replace(wt,(Oe,ue)=>{const Z=ce[ue];return null!=Z?String(Z):`<${ue}?>`})}(ie,ue):"Error";return new fn(Z,`${this.serviceName}: ${Be} (${Z}).`,ue)}}const wt=/\{\$([^}]+)}/g;function cn(De,ce){return Object.prototype.hasOwnProperty.call(De,ce)}function br(De){for(const ce in De)if(Object.prototype.hasOwnProperty.call(De,ce))return!1;return!0}function Ut(De,ce){if(De===ce)return!0;const Oe=Object.keys(De),ue=Object.keys(ce);for(const Z of Oe){if(!ue.includes(Z))return!1;const ie=De[Z],Be=ce[Z];if(or(ie)&&or(Be)){if(!Ut(ie,Be))return!1}else if(ie!==Be)return!1}for(const Z of ue)if(!Oe.includes(Z))return!1;return!0}function or(De){return null!==De&&"object"==typeof De}function jn(De){const ce=[];for(const[Oe,ue]of Object.entries(De))Array.isArray(ue)?ue.forEach(Z=>{ce.push(encodeURIComponent(Oe)+"="+encodeURIComponent(Z))}):ce.push(encodeURIComponent(Oe)+"="+encodeURIComponent(ue));return ce.length?"&"+ce.join("&"):""}function pr(De){const ce={};return De.replace(/^\?/,"").split("&").forEach(ue=>{if(ue){const[Z,ie]=ue.split("=");ce[decodeURIComponent(Z)]=decodeURIComponent(ie)}}),ce}function Pi(De){const ce=De.indexOf("?");if(!ce)return"";const Oe=De.indexOf("#",ce);return De.substring(ce,Oe>0?Oe:void 0)}function Hn(De,ce){const Oe=new qn(De,ce);return Oe.subscribe.bind(Oe)}class qn{constructor(ce,Oe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Oe,this.task.then(()=>{ce(this)}).catch(ue=>{this.error(ue)})}next(ce){this.forEachObserver(Oe=>{Oe.next(ce)})}error(ce){this.forEachObserver(Oe=>{Oe.error(ce)}),this.close(ce)}complete(){this.forEachObserver(ce=>{ce.complete()}),this.close()}subscribe(ce,Oe,ue){let Z;if(void 0===ce&&void 0===Oe&&void 0===ue)throw new Error("Missing Observer.");Z=function mn(De,ce){if("object"!=typeof De||null===De)return!1;for(const Oe of ce)if(Oe in De&&"function"==typeof De[Oe])return!0;return!1}(ce,["next","error","complete"])?ce:{next:ce,error:Oe,complete:ue},void 0===Z.next&&(Z.next=Rn),void 0===Z.error&&(Z.error=Rn),void 0===Z.complete&&(Z.complete=Rn);const ie=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Z.error(this.finalError):Z.complete()}catch{}}),this.observers.push(Z),ie}unsubscribeOne(ce){void 0===this.observers||void 0===this.observers[ce]||(delete this.observers[ce],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ce){if(!this.finalized)for(let Oe=0;Oe<this.observers.length;Oe++)this.sendOne(Oe,ce)}sendOne(ce,Oe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ce])try{Oe(this.observers[ce])}catch(ue){typeof console<"u"&&console.error&&console.error(ue)}})}close(ce){this.finalized||(this.finalized=!0,void 0!==ce&&(this.finalError=ce),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Rn(){}function ve(De,ce=1e3,Oe=2){const ue=ce*Math.pow(Oe,De),Z=Math.round(.5*ue*(Math.random()-.5)*2);return Math.min(144e5,ue+Z)}function pn(De){return De&&De._delegate?De._delegate:De}},1584:(tn,et,P)=>{P.d(et,{O:()=>Pe});var c=P(4650),U=P(6895),j=P(433);let pe=(()=>{class Ae{constructor(){this.resultadoCaptchaEvent=new c.vpe,this.deshabilitarEvent=new c.vpe,this.obtenerCaptchaEvent=new c.vpe,this.deshabilitar=!1,this.permitted_chars=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],this.string_length=6,this.captchaResult=!1}onClick(){console.log("deshabilitando"),this.deshabilitar?(this.deshabilitar=!1,this.deshabilitarEvent.emit(this.deshabilitar)):(this.deshabilitar=!0,this.deshabilitarEvent.emit(this.deshabilitar))}}return Ae.\u0275fac=function(Q){return new(Q||Ae)},Ae.\u0275dir=c.lG2({type:Ae,selectors:[["","appCaptcha",""]],hostBindings:function(Q,me){1&Q&&c.NdJ("click",function(){return me.onClick()})},inputs:{obtenerCaptchaEvent:["obtenerCapctha","obtenerCaptchaEvent"]},outputs:{resultadoCaptchaEvent:"resultadoCaptcha",deshabilitarEvent:"deshabilitar"}}),Ae})();function m(Ae,q){if(1&Ae){const Q=c.EpF();c.TgZ(0,"div",6)(1,"div",7)(2,"div",8),c._UZ(3,"img",9),c.TgZ(4,"span",10),c.NdJ("obtenerCapctha",function(){c.CHM(Q);const tt=c.oxw(2);return c.KtG(tt.getCaptcha())}),c._uU(5),c.qZA()(),c.TgZ(6,"button",11),c.NdJ("click",function(){c.CHM(Q);const tt=c.oxw(2);return c.KtG(tt.getCaptcha())}),c._UZ(7,"i",12),c.qZA()(),c.TgZ(8,"form",13)(9,"div",14)(10,"input",15),c.NdJ("ngModelChange",function(tt){c.CHM(Q);const Qe=c.oxw(2);return c.KtG(Qe.captchaParaVerificar=tt)}),c.qZA()()(),c.TgZ(11,"button",16),c.NdJ("click",function(){c.CHM(Q);const tt=c.oxw(2);return c.KtG(tt.verificarCaptcha())}),c._uU(12," Verificar "),c.qZA(),c._UZ(13,"div",17),c.qZA()}if(2&Ae){const Q=c.oxw(2);c.xp6(5),c.Oqu(Q.captcha),c.xp6(5),c.Q6J("ngModel",Q.captchaParaVerificar)}}function Te(Ae,q){1&Ae&&(c.TgZ(0,"div",6)(1,"div",7)(2,"div",18),c._UZ(3,"img",19),c.qZA()()())}function ke(Ae,q){if(1&Ae&&(c.TgZ(0,"div",0),c.YNc(1,m,14,2,"div",5),c.YNc(2,Te,4,0,"div",5),c.qZA()),2&Ae){const Q=c.oxw();c.xp6(1),c.Q6J("ngIf",!1===Q.captchaResult),c.xp6(1),c.Q6J("ngIf",!0===Q.captchaResult)}}let Pe=(()=>{class Ae{constructor(){this.permitted_chars=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],this.string_length=6,this.captchaResult=!1,this.resultadoCaptcha=new c.vpe,this.checkBtn=document.querySelector(".check-btn"),this.statusTxt=document.querySelector(".status-text"),this.deshabilitado=!1,this.getCaptcha()}ngOnInit(){}getCaptcha(){this.captcha="";for(let Q=0;Q<6;Q++){let me=this.permitted_chars[Math.floor(Math.random()*this.permitted_chars.length)];this.captcha+=me}console.log("this.captcha: ",this.captcha)}verificarCaptcha(){this.captcha==this.captchaParaVerificar?this.captchaResult=!0:(console.log(this.statusTxt),this.captchaParaVerificar="",this.getCaptcha()),this.resultadoCaptcha.emit(this.captchaResult)}onVerificarCaptcha(Q){return this.captchaResult=Q,this.captchaResult}onDeshabilitarEvent(Q){this.deshabilitado=Q,this.resultadoCaptcha.emit(this.deshabilitado)}}return Ae.\u0275fac=function(Q){return new(Q||Ae)},Ae.\u0275cmp=c.Xpm({type:Ae,selectors:[["app-captcha-propio"]],outputs:{resultadoCaptcha:"resultadoCaptcha"},decls:6,vars:1,consts:[[1,"container"],[1,"form-check","form-switch","mx-auto"],["type","checkbox","role","switch","id","flexSwitchCheckDefault","appCaptcha","",1,"form-check-input","mb-2",3,"deshabilitar"],["for","flexSwitchCheckDefault",1,"form-check-label"],["class","container",4,"ngIf"],["class","wrapper",4,"ngIf"],[1,"wrapper"],[1,"captcha-area"],[1,"captcha-img"],["src","../../../../../assets/captcha-Backg.jpg","alt","Captch Background"],["appCaptcha","",1,"captcha",3,"obtenerCapctha"],["type","button",1,"reload-btn",3,"click"],[1,"fas","fa-redo-alt"],["action","#",1,"input-area","mx-auto"],[1,"col-sm-12"],["type","text","placeholder","respete letras","name","textoCaptcha","maxlength","6","spellcheck","false","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btnVerificar",3,"click"],[1,"status-text"],[1,"checkContenedor"],["src","../../../../../assets/captchaOk.jpg","alt","Captch Background",1,"checkImage"]],template:function(Q,me){1&Q&&(c.TgZ(0,"div",0)(1,"div",1)(2,"input",2),c.NdJ("deshabilitar",function(Qe){return me.onDeshabilitarEvent(Qe)}),c.qZA(),c.TgZ(3,"label",3),c._uU(4,"Deshablitar"),c.qZA()()(),c.YNc(5,ke,3,2,"div",4)),2&Q&&(c.xp6(5),c.Q6J("ngIf",!me.deshabilitado))},dependencies:[U.O5,j._Y,j.Fj,j.JJ,j.JL,j.Q7,j.nD,j.On,j.F,pe],styles:['.form-check-input[_ngcontent-%COMP%]{width:2rem;margin-left:.5rem}.form-check-label[_ngcontent-%COMP%]{display:flex;margin:3px}.wrapper[_ngcontent-%COMP%]{max-width:485px;width:100%;background:#fff;padding:2px 20px;border-radius:10px;box-shadow:8px 8px 8px #0000000d}.wrapper[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{color:#0105fd;font-size:33px;font-weight:500;text-align:center}.wrapper[_ngcontent-%COMP%]   .captcha-area[_ngcontent-%COMP%]{display:flex;height:65px;margin:10px 0 5px;align-items:center;justify-content:space-between}.captcha-area[_ngcontent-%COMP%]   .captcha-img[_ngcontent-%COMP%]{height:100%;width:345px;-webkit-user-select:none;user-select:none;background:rgb(75,75,75);border-radius:5px;position:relative}.captcha-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:5px;opacity:.95}.captcha-img[_ngcontent-%COMP%]   .captcha[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;width:100%;color:#fff;font-size:35px;text-align:center;letter-spacing:10px;transform:translate(-50%,-50%);text-shadow:0px 0px 2px #b1b1b1;font-family:"Noto Serif",serif}.reload-btn[_ngcontent-%COMP%]{background-image:url(refresh.1a6501f1bd27f824.PNG);background-color:#fff;background-repeat:no-repeat;height:50px;width:50px;background-position:center;border-color:#161615;border-radius:2px}.captcha-area[_ngcontent-%COMP%]   .reload-btn[_ngcontent-%COMP%]{width:75px;height:100%;font-size:25px}.captcha-area[_ngcontent-%COMP%]   .reload-btn[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transform:rotate(15deg)}.wrapper[_ngcontent-%COMP%]   .input-area[_ngcontent-%COMP%]{height:70px;width:100%;position:relative}.input-area[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:50%;outline:none;padding-left:20px;font-size:20px;border-radius:5px;border:1px solid #bfbfbf;margin-bottom:-10px}.input-area[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:is(:focus, [_ngcontent-%COMP%]:valid){padding-left:19px;border:2px solid #4db2ec}.input-area[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#bfbfbf}.input-area[_ngcontent-%COMP%]   .check-btn[_ngcontent-%COMP%]{position:relative;right:7px;top:50%;font-size:17px;height:45px;padding:0 20px;opacity:0;pointer-events:none;transform:translateY(-50%)}.input-area[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid + .check-btn[_ngcontent-%COMP%]{opacity:1;pointer-events:auto}.wrapper[_ngcontent-%COMP%]   .status-text[_ngcontent-%COMP%]{display:none;font-size:18px;text-align:center;margin:20px 0 -5px}.btnVerificar[_ngcontent-%COMP%]{padding:7px;margin-bottom:2%;border-color:#161615;border-radius:10px}.captcha-area[_ngcontent-%COMP%]   .reload-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:transform .3s ease}.fa[_ngcontent-%COMP%], .fas[_ngcontent-%COMP%]{font-weight:900}.fa[_ngcontent-%COMP%], .far[_ngcontent-%COMP%], .fas[_ngcontent-%COMP%]{font-family:"Font Awesome 5 Free"}.fa[_ngcontent-%COMP%], .fab[_ngcontent-%COMP%], .fad[_ngcontent-%COMP%], .fal[_ngcontent-%COMP%], .far[_ngcontent-%COMP%], .fas[_ngcontent-%COMP%]{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-block;font-style:normal;font-feature-settings:normal;font-variant:normal;text-rendering:auto;line-height:1}*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box;font-family:Poppins,sans-serif}user[_ngcontent-%COMP%]   agent[_ngcontent-%COMP%]   stylesheet[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-style:italic}.checkImage[_ngcontent-%COMP%]{position:static;width:350px;height:50px;object-fit:cover}@media (max-width: 506px){body[_ngcontent-%COMP%]{padding:0 10px}.wrapper[_ngcontent-%COMP%]{padding:22px 25px 35px}.wrapper[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{font-size:25px}.wrapper[_ngcontent-%COMP%]   .captcha-area[_ngcontent-%COMP%]{height:60px}.captcha-area[_ngcontent-%COMP%]   .captcha[_ngcontent-%COMP%]{font-size:28px;letter-spacing:5px}.captcha-area[_ngcontent-%COMP%]   .reload-btn[_ngcontent-%COMP%]{width:60px;margin-left:5px;font-size:20px}.wrapper[_ngcontent-%COMP%]   .input-area[_ngcontent-%COMP%]{height:55px}.input-area[_ngcontent-%COMP%]   .check-btn[_ngcontent-%COMP%]{height:40px}.wrapper[_ngcontent-%COMP%]   .status-text[_ngcontent-%COMP%]{font-size:15px}.captcha-area[_ngcontent-%COMP%]   .captcha-img[_ngcontent-%COMP%]{width:250px}}']}),Ae})()},2766:(tn,et,P)=>{P.d(et,{S:()=>Qe});var c=P(4650),U=P(6534),j=P(8471),pe=P(6895);function m(ze,Pt){if(1&ze){const We=c.EpF();c.TgZ(0,"div")(1,"li",13)(2,"a",14),c._uU(3," USUARIOS "),c.qZA(),c.TgZ(4,"ul",15)(5,"li")(6,"a",16),c.NdJ("click",function(){c.CHM(We);const Tt=c.oxw();return c.KtG(Tt.goRegistrarAdmin())}),c._uU(7,"REGISTRAR ADMINISTRADOR"),c.qZA()(),c.TgZ(8,"li")(9,"a",16),c.NdJ("click",function(){c.CHM(We);const Tt=c.oxw();return c.KtG(Tt.goHabilitarEspecialistas())}),c._uU(10,"HABILITAR CUENTA DE ESPECIALISTA"),c.qZA()(),c.TgZ(11,"li")(12,"a",16),c.NdJ("click",function(){c.CHM(We);const Tt=c.oxw();return c.KtG(Tt.goUsuarios())}),c._uU(13,"VER TODOS"),c.qZA()()()()()}}function Te(ze,Pt){if(1&ze){const We=c.EpF();c.TgZ(0,"div")(1,"li",13)(2,"a",14),c._uU(3," TURNOS (ESPECIALISTA) "),c.qZA(),c.TgZ(4,"ul",15)(5,"li")(6,"a",16),c.NdJ("click",function(){c.CHM(We);const Tt=c.oxw();return c.KtG(Tt.goMisTurnosEspecialista())}),c._uU(7,"MIS TURNOS"),c.qZA()()()()()}}function ke(ze,Pt){if(1&ze){const We=c.EpF();c.TgZ(0,"div")(1,"li",8)(2,"a",9),c.NdJ("click",function(){c.CHM(We);const Tt=c.oxw();return c.KtG(Tt.goMisPacientes())}),c._uU(3,"PACIENTES"),c.qZA()()()}}function Pe(ze,Pt){if(1&ze){const We=c.EpF();c.TgZ(0,"div")(1,"li",13)(2,"a",14),c._uU(3," TURNOS (PACIENTE) "),c.qZA(),c.TgZ(4,"ul",15)(5,"li")(6,"a",16),c.NdJ("click",function(){c.CHM(We);const Tt=c.oxw();return c.KtG(Tt.goSolicitarTurnos())}),c._uU(7,"SOLICITAR"),c.qZA()(),c.TgZ(8,"li")(9,"a",16),c.NdJ("click",function(){c.CHM(We);const Tt=c.oxw();return c.KtG(Tt.goMisTurnosPaciente())}),c._uU(10,"MIS TURNOS"),c.qZA()()()()()}}function Ae(ze,Pt){if(1&ze){const We=c.EpF();c.TgZ(0,"li")(1,"a",16),c.NdJ("click",function(){c.CHM(We);const Tt=c.oxw(2);return c.KtG(Tt.goVerTurnos())}),c._uU(2,"VER TODOS"),c.qZA()()}}function q(ze,Pt){if(1&ze){const We=c.EpF();c.TgZ(0,"div")(1,"li",13)(2,"a",14),c._uU(3," TURNOS "),c.qZA(),c.TgZ(4,"ul",15)(5,"li")(6,"a",16),c.NdJ("click",function(){c.CHM(We);const Tt=c.oxw();return c.KtG(Tt.goSolicitarTurnos())}),c._uU(7,"SOLICITAR"),c.qZA()(),c.YNc(8,Ae,3,0,"li",10),c.qZA()()()}if(2&ze){const We=c.oxw();c.xp6(8),c.Q6J("ngIf",We.authService.ITEM_ACCESOS.isAdmin)}}function Q(ze,Pt){if(1&ze){const We=c.EpF();c.TgZ(0,"li",19),c.NdJ("click",function(){c.CHM(We);const Tt=c.oxw(2);return c.KtG(Tt.onEstadisticas())}),c.TgZ(1,"a",20),c._uU(2,"ESTAD\xcdSTICAS"),c.qZA()()}}function me(ze,Pt){if(1&ze){const We=c.EpF();c.TgZ(0,"div")(1,"li",13)(2,"a",17),c._uU(3),c.qZA(),c.TgZ(4,"ul",15),c.YNc(5,Q,3,0,"li",18),c.TgZ(6,"li",19),c.NdJ("click",function(){c.CHM(We);const Tt=c.oxw();return c.KtG(Tt.onMiPerfil())}),c.TgZ(7,"a",20),c._uU(8,"MI PERFIL"),c.qZA()(),c.TgZ(9,"li",19),c.NdJ("click",function(){c.CHM(We);const Tt=c.oxw();return c.KtG(Tt.onLogout())}),c.TgZ(10,"a",20),c._uU(11,"SALIR"),c.qZA()()()()()}if(2&ze){const We=Pt.ngIf,Ge=c.oxw();c.xp6(3),c.hij(" ",We.email," "),c.xp6(2),c.Q6J("ngIf",Ge.authService.ITEM_ACCESOS.isAdmin)}}function tt(ze,Pt){if(1&ze){const We=c.EpF();c.TgZ(0,"li",13)(1,"a",14),c._uU(2," ACCEDER "),c.qZA(),c.TgZ(3,"ul",15)(4,"li")(5,"a",16),c.NdJ("click",function(){c.CHM(We);const Tt=c.oxw();return c.KtG(Tt.goRegistrarme())}),c._uU(6,"REGISTRARME"),c.qZA()(),c.TgZ(7,"li")(8,"a",16),c.NdJ("click",function(){c.CHM(We);const Tt=c.oxw();return c.KtG(Tt.goIniciarSesion())}),c._uU(9,"INICIAR SESI\xd3N"),c.qZA()()()()}}let Qe=(()=>{class ze{constructor(We,Ge){this.authService=We,this.router=Ge,this.usuario$=this.authService.afAuth.user}ngOnInit(){}onLogout(){this.authService.logout().then(We=>{console.log("onLogout navbar"),location.reload(),this.router.navigate(["/iniciar-sesion"])})}goInicio(){this.router.navigate(["/inicio"])}goIniciarSesion(){this.router.navigate(["/iniciar-sesion"])}goRegistrarme(){this.router.navigate(["/registro"])}goHabilitarEspecialistas(){this.router.navigate(["/administracion/habilitar-cuentas"])}goRegistrarAdmin(){this.router.navigate(["/administracion/registro/admin"])}onMiPerfil(){this.router.navigate(["/intranet/mi-perfil"])}goSolicitarTurnos(){this.router.navigate(["/intranet/solicitar-turno"])}goVerTurnos(){this.router.navigate(["/administracion/turnos"])}onEstadisticas(){this.router.navigate(["/administracion/estadisticas"])}onMisHorarios(){this.router.navigate(["/intranet/mis-horarios"])}goMisTurnosPaciente(){this.router.navigate(["/intranet/mis-turnos-paciente"])}goMisTurnosEspecialista(){this.router.navigate(["/intranet/mis-turnos-especialista"])}goMisPacientes(){this.router.navigate(["/intranet/mis-pacientes"])}goUsuarios(){this.router.navigate(["/intranet/usuarios"])}}return ze.\u0275fac=function(We){return new(We||ze)(c.Y36(U.e),c.Y36(j.F0))},ze.\u0275cmp=c.Xpm({type:ze,selectors:[["app-navbar"]],decls:26,vars:19,consts:[[1,"navbar","navbar-expand-lg","bg-dark"],[1,"container-fluid"],["src","../../../../../assets/icono.ico","alt","logo","width","35","height","35",1,"img-logo",2,"margin-right","10px"],[1,"navbar-brand",3,"click"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],["src","../../../../../assets/toggler.png","alt","logo","width","50","height","50"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","m-auto","mb-2","mb-lg-0"],[1,"nav-item"],["aria-current","page",1,"nav-link",3,"click"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["acceso",""],[1,"nav-item","dropdown"],["href","#","id","navbarDropdown","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],["aria-labelledby","navbarDropdown",1,"dropdown-menu"],[1,"dropdown-item",3,"click"],["href","#","id","navbarDropdown","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle","a-email"],[3,"click",4,"ngIf"],[3,"click"],["aria-current","page",1,"dropdown-item"]],template:function(We,Ge){if(1&We&&(c.TgZ(0,"nav",0)(1,"div",1),c._UZ(2,"img",2),c.TgZ(3,"a",3),c.NdJ("click",function(){return Ge.goInicio()}),c._uU(4,"CL\xcdNICA ONLINE"),c.qZA(),c.TgZ(5,"button",4),c._UZ(6,"img",5),c.qZA(),c.TgZ(7,"div",6)(8,"ul",7)(9,"li",8)(10,"a",9),c.NdJ("click",function(){return Ge.goInicio()}),c._uU(11,"INICIO"),c.qZA()(),c.YNc(12,m,14,0,"div",10),c.ALo(13,"async"),c.YNc(14,Te,8,0,"div",10),c.ALo(15,"async"),c.YNc(16,ke,4,0,"div",10),c.ALo(17,"async"),c.YNc(18,Pe,11,0,"div",10),c.ALo(19,"async"),c.YNc(20,q,9,1,"div",10),c.ALo(21,"async"),c.YNc(22,me,12,2,"div",11),c.ALo(23,"async"),c.YNc(24,tt,10,0,"ng-template",null,12,c.W1O),c.qZA()()()()),2&We){const Tt=c.MAs(25);c.xp6(12),c.Q6J("ngIf",c.lcZ(13,7,Ge.authService.ITEM_ACCESOS.isAdmin&&Ge.usuario$)),c.xp6(2),c.Q6J("ngIf",c.lcZ(15,9,Ge.authService.ITEM_ACCESOS.isEspecialista&&Ge.authService.ITEM_ACCESOS.cuentaHabilitada&&Ge.usuario$)),c.xp6(2),c.Q6J("ngIf",c.lcZ(17,11,Ge.authService.ITEM_ACCESOS.isEspecialista&&Ge.authService.ITEM_ACCESOS.cuentaHabilitada&&Ge.usuario$)),c.xp6(2),c.Q6J("ngIf",c.lcZ(19,13,Ge.authService.ITEM_ACCESOS.isPaciente&&Ge.usuario$)),c.xp6(2),c.Q6J("ngIf",c.lcZ(21,15,Ge.authService.ITEM_ACCESOS.isAdmin&&Ge.usuario$)),c.xp6(2),c.Q6J("ngIf",c.lcZ(23,17,Ge.usuario$))("ngIfElse",Tt)}},dependencies:[pe.O5,pe.Ov],styles:["nav[_ngcontent-%COMP%]{padding:20px;background-color:#fff!important;width:100%;border-bottom:1px solid rgb(211,211,211)}.navbar-brand[_ngcontent-%COMP%]{font-size:20px;color:#8a8a8a!important}.nav-link[_ngcontent-%COMP%]{font-size:16px;color:#8a8a8a!important}.dropdown-item[_ngcontent-%COMP%]:hover, .nav-link[_ngcontent-%COMP%]:hover{cursor:pointer;font-weight:400;color:#262626!important}.label-name[_ngcontent-%COMP%]{color:#8a8a8a!important;font-size:17px}.a-email[_ngcontent-%COMP%]{text-transform:uppercase}@media only screen and (max-width: 700px){.img-logo[_ngcontent-%COMP%]{display:none}.navbar-brand[_ngcontent-%COMP%]{font-size:25px}}"]}),ze})()},7865:(tn,et,P)=>{P.d(et,{m:()=>Rn});var c=P(6895),U=P(4650),j=P(9646),pe=P(9751),m=P(4351),Te=P(9300),ke=P(4004);class Pe{}class Ae{}class q{constructor(Se){this.normalizedNames=new Map,this.lazyUpdate=null,Se?this.lazyInit="string"==typeof Se?()=>{this.headers=new Map,Se.split("\n").forEach(Ue=>{const yt=Ue.indexOf(":");if(yt>0){const St=Ue.slice(0,yt),Qt=St.toLowerCase(),Xn=Ue.slice(yt+1).trim();this.maybeSetNormalizedName(St,Qt),this.headers.has(Qt)?this.headers.get(Qt).push(Xn):this.headers.set(Qt,[Xn])}})}:()=>{this.headers=new Map,Object.keys(Se).forEach(Ue=>{let yt=Se[Ue];const St=Ue.toLowerCase();"string"==typeof yt&&(yt=[yt]),yt.length>0&&(this.headers.set(St,yt),this.maybeSetNormalizedName(Ue,St))})}:this.headers=new Map}has(Se){return this.init(),this.headers.has(Se.toLowerCase())}get(Se){this.init();const Ue=this.headers.get(Se.toLowerCase());return Ue&&Ue.length>0?Ue[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Se){return this.init(),this.headers.get(Se.toLowerCase())||null}append(Se,Ue){return this.clone({name:Se,value:Ue,op:"a"})}set(Se,Ue){return this.clone({name:Se,value:Ue,op:"s"})}delete(Se,Ue){return this.clone({name:Se,value:Ue,op:"d"})}maybeSetNormalizedName(Se,Ue){this.normalizedNames.has(Ue)||this.normalizedNames.set(Ue,Se)}init(){this.lazyInit&&(this.lazyInit instanceof q?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Se=>this.applyUpdate(Se)),this.lazyUpdate=null))}copyFrom(Se){Se.init(),Array.from(Se.headers.keys()).forEach(Ue=>{this.headers.set(Ue,Se.headers.get(Ue)),this.normalizedNames.set(Ue,Se.normalizedNames.get(Ue))})}clone(Se){const Ue=new q;return Ue.lazyInit=this.lazyInit&&this.lazyInit instanceof q?this.lazyInit:this,Ue.lazyUpdate=(this.lazyUpdate||[]).concat([Se]),Ue}applyUpdate(Se){const Ue=Se.name.toLowerCase();switch(Se.op){case"a":case"s":let yt=Se.value;if("string"==typeof yt&&(yt=[yt]),0===yt.length)return;this.maybeSetNormalizedName(Se.name,Ue);const St=("a"===Se.op?this.headers.get(Ue):void 0)||[];St.push(...yt),this.headers.set(Ue,St);break;case"d":const Qt=Se.value;if(Qt){let Xn=this.headers.get(Ue);if(!Xn)return;Xn=Xn.filter(ln=>-1===Qt.indexOf(ln)),0===Xn.length?(this.headers.delete(Ue),this.normalizedNames.delete(Ue)):this.headers.set(Ue,Xn)}else this.headers.delete(Ue),this.normalizedNames.delete(Ue)}}forEach(Se){this.init(),Array.from(this.normalizedNames.keys()).forEach(Ue=>Se(this.normalizedNames.get(Ue),this.headers.get(Ue)))}}class me{encodeKey(Se){return Pt(Se)}encodeValue(Se){return Pt(Se)}decodeKey(Se){return decodeURIComponent(Se)}decodeValue(Se){return decodeURIComponent(Se)}}const Qe=/%(\d[a-f0-9])/gi,ze={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Pt(Et){return encodeURIComponent(Et).replace(Qe,(Se,Ue)=>ze[Ue]??Se)}function We(Et){return`${Et}`}class Ge{constructor(Se={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Se.encoder||new me,Se.fromString){if(Se.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function tt(Et,Se){const Ue=new Map;return Et.length>0&&Et.replace(/^\?/,"").split("&").forEach(St=>{const Qt=St.indexOf("="),[Xn,ln]=-1==Qt?[Se.decodeKey(St),""]:[Se.decodeKey(St.slice(0,Qt)),Se.decodeValue(St.slice(Qt+1))],Sn=Ue.get(Xn)||[];Sn.push(ln),Ue.set(Xn,Sn)}),Ue}(Se.fromString,this.encoder)}else Se.fromObject?(this.map=new Map,Object.keys(Se.fromObject).forEach(Ue=>{const yt=Se.fromObject[Ue],St=Array.isArray(yt)?yt.map(We):[We(yt)];this.map.set(Ue,St)})):this.map=null}has(Se){return this.init(),this.map.has(Se)}get(Se){this.init();const Ue=this.map.get(Se);return Ue?Ue[0]:null}getAll(Se){return this.init(),this.map.get(Se)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Se,Ue){return this.clone({param:Se,value:Ue,op:"a"})}appendAll(Se){const Ue=[];return Object.keys(Se).forEach(yt=>{const St=Se[yt];Array.isArray(St)?St.forEach(Qt=>{Ue.push({param:yt,value:Qt,op:"a"})}):Ue.push({param:yt,value:St,op:"a"})}),this.clone(Ue)}set(Se,Ue){return this.clone({param:Se,value:Ue,op:"s"})}delete(Se,Ue){return this.clone({param:Se,value:Ue,op:"d"})}toString(){return this.init(),this.keys().map(Se=>{const Ue=this.encoder.encodeKey(Se);return this.map.get(Se).map(yt=>Ue+"="+this.encoder.encodeValue(yt)).join("&")}).filter(Se=>""!==Se).join("&")}clone(Se){const Ue=new Ge({encoder:this.encoder});return Ue.cloneFrom=this.cloneFrom||this,Ue.updates=(this.updates||[]).concat(Se),Ue}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Se=>this.map.set(Se,this.cloneFrom.map.get(Se))),this.updates.forEach(Se=>{switch(Se.op){case"a":case"s":const Ue=("a"===Se.op?this.map.get(Se.param):void 0)||[];Ue.push(We(Se.value)),this.map.set(Se.param,Ue);break;case"d":if(void 0===Se.value){this.map.delete(Se.param);break}{let yt=this.map.get(Se.param)||[];const St=yt.indexOf(We(Se.value));-1!==St&&yt.splice(St,1),yt.length>0?this.map.set(Se.param,yt):this.map.delete(Se.param)}}}),this.cloneFrom=this.updates=null)}}class Bt{constructor(){this.map=new Map}set(Se,Ue){return this.map.set(Se,Ue),this}get(Se){return this.map.has(Se)||this.map.set(Se,Se.defaultValue()),this.map.get(Se)}delete(Se){return this.map.delete(Se),this}has(Se){return this.map.has(Se)}keys(){return this.map.keys()}}function He(Et){return typeof ArrayBuffer<"u"&&Et instanceof ArrayBuffer}function ot(Et){return typeof Blob<"u"&&Et instanceof Blob}function _t(Et){return typeof FormData<"u"&&Et instanceof FormData}class Ye{constructor(Se,Ue,yt,St){let Qt;if(this.url=Ue,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Se.toUpperCase(),function ge(Et){switch(Et){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||St?(this.body=void 0!==yt?yt:null,Qt=St):Qt=yt,Qt&&(this.reportProgress=!!Qt.reportProgress,this.withCredentials=!!Qt.withCredentials,Qt.responseType&&(this.responseType=Qt.responseType),Qt.headers&&(this.headers=Qt.headers),Qt.context&&(this.context=Qt.context),Qt.params&&(this.params=Qt.params)),this.headers||(this.headers=new q),this.context||(this.context=new Bt),this.params){const Xn=this.params.toString();if(0===Xn.length)this.urlWithParams=Ue;else{const ln=Ue.indexOf("?");this.urlWithParams=Ue+(-1===ln?"?":ln<Ue.length-1?"&":"")+Xn}}else this.params=new Ge,this.urlWithParams=Ue}serializeBody(){return null===this.body?null:He(this.body)||ot(this.body)||_t(this.body)||function Re(Et){return typeof URLSearchParams<"u"&&Et instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ge?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||_t(this.body)?null:ot(this.body)?this.body.type||null:He(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ge?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Se={}){const Ue=Se.method||this.method,yt=Se.url||this.url,St=Se.responseType||this.responseType,Qt=void 0!==Se.body?Se.body:this.body,Xn=void 0!==Se.withCredentials?Se.withCredentials:this.withCredentials,ln=void 0!==Se.reportProgress?Se.reportProgress:this.reportProgress;let Sn=Se.headers||this.headers,we=Se.params||this.params;const lt=Se.context??this.context;return void 0!==Se.setHeaders&&(Sn=Object.keys(Se.setHeaders).reduce((le,ve)=>le.set(ve,Se.setHeaders[ve]),Sn)),Se.setParams&&(we=Object.keys(Se.setParams).reduce((le,ve)=>le.set(ve,Se.setParams[ve]),we)),new Ye(Ue,yt,Qt,{params:we,headers:Sn,context:lt,reportProgress:ln,responseType:St,withCredentials:Xn})}}var rt=(()=>((rt=rt||{})[rt.Sent=0]="Sent",rt[rt.UploadProgress=1]="UploadProgress",rt[rt.ResponseHeader=2]="ResponseHeader",rt[rt.DownloadProgress=3]="DownloadProgress",rt[rt.Response=4]="Response",rt[rt.User=5]="User",rt))();class _e{constructor(Se,Ue=200,yt="OK"){this.headers=Se.headers||new q,this.status=void 0!==Se.status?Se.status:Ue,this.statusText=Se.statusText||yt,this.url=Se.url||null,this.ok=this.status>=200&&this.status<300}}class Ve extends _e{constructor(Se={}){super(Se),this.type=rt.ResponseHeader}clone(Se={}){return new Ve({headers:Se.headers||this.headers,status:void 0!==Se.status?Se.status:this.status,statusText:Se.statusText||this.statusText,url:Se.url||this.url||void 0})}}class xe extends _e{constructor(Se={}){super(Se),this.type=rt.Response,this.body=void 0!==Se.body?Se.body:null}clone(Se={}){return new xe({body:void 0!==Se.body?Se.body:this.body,headers:Se.headers||this.headers,status:void 0!==Se.status?Se.status:this.status,statusText:Se.statusText||this.statusText,url:Se.url||this.url||void 0})}}class $e extends _e{constructor(Se){super(Se,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Se.url||"(unknown url)"}`:`Http failure response for ${Se.url||"(unknown url)"}: ${Se.status} ${Se.statusText}`,this.error=Se.error||null}}function Ft(Et,Se){return{body:Se,headers:Et.headers,context:Et.context,observe:Et.observe,params:Et.params,reportProgress:Et.reportProgress,responseType:Et.responseType,withCredentials:Et.withCredentials}}let jt=(()=>{class Et{constructor(Ue){this.handler=Ue}request(Ue,yt,St={}){let Qt;if(Ue instanceof Ye)Qt=Ue;else{let Sn,we;Sn=St.headers instanceof q?St.headers:new q(St.headers),St.params&&(we=St.params instanceof Ge?St.params:new Ge({fromObject:St.params})),Qt=new Ye(Ue,yt,void 0!==St.body?St.body:null,{headers:Sn,context:St.context,params:we,reportProgress:St.reportProgress,responseType:St.responseType||"json",withCredentials:St.withCredentials})}const Xn=(0,j.of)(Qt).pipe((0,m.b)(Sn=>this.handler.handle(Sn)));if(Ue instanceof Ye||"events"===St.observe)return Xn;const ln=Xn.pipe((0,Te.h)(Sn=>Sn instanceof xe));switch(St.observe||"body"){case"body":switch(Qt.responseType){case"arraybuffer":return ln.pipe((0,ke.U)(Sn=>{if(null!==Sn.body&&!(Sn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Sn.body}));case"blob":return ln.pipe((0,ke.U)(Sn=>{if(null!==Sn.body&&!(Sn.body instanceof Blob))throw new Error("Response is not a Blob.");return Sn.body}));case"text":return ln.pipe((0,ke.U)(Sn=>{if(null!==Sn.body&&"string"!=typeof Sn.body)throw new Error("Response is not a string.");return Sn.body}));default:return ln.pipe((0,ke.U)(Sn=>Sn.body))}case"response":return ln;default:throw new Error(`Unreachable: unhandled observe type ${St.observe}}`)}}delete(Ue,yt={}){return this.request("DELETE",Ue,yt)}get(Ue,yt={}){return this.request("GET",Ue,yt)}head(Ue,yt={}){return this.request("HEAD",Ue,yt)}jsonp(Ue,yt){return this.request("JSONP",Ue,{params:(new Ge).append(yt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ue,yt={}){return this.request("OPTIONS",Ue,yt)}patch(Ue,yt,St={}){return this.request("PATCH",Ue,Ft(St,yt))}post(Ue,yt,St={}){return this.request("POST",Ue,Ft(St,yt))}put(Ue,yt,St={}){return this.request("PUT",Ue,Ft(St,yt))}}return Et.\u0275fac=function(Ue){return new(Ue||Et)(U.LFG(Pe))},Et.\u0275prov=U.Yz7({token:Et,factory:Et.\u0275fac}),Et})();class Kt{constructor(Se,Ue){this.next=Se,this.interceptor=Ue}handle(Se){return this.interceptor.intercept(Se,this.next)}}const nn=new U.OlP("HTTP_INTERCEPTORS");let un=(()=>{class Et{intercept(Ue,yt){return yt.handle(Ue)}}return Et.\u0275fac=function(Ue){return new(Ue||Et)},Et.\u0275prov=U.Yz7({token:Et,factory:Et.\u0275fac}),Et})();const Wn=/^\)\]\}',?\n/;let Kn=(()=>{class Et{constructor(Ue){this.xhrFactory=Ue}handle(Ue){if("JSONP"===Ue.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new pe.y(yt=>{const St=this.xhrFactory.build();if(St.open(Ue.method,Ue.urlWithParams),Ue.withCredentials&&(St.withCredentials=!0),Ue.headers.forEach((ut,It)=>St.setRequestHeader(ut,It.join(","))),Ue.headers.has("Accept")||St.setRequestHeader("Accept","application/json, text/plain, */*"),!Ue.headers.has("Content-Type")){const ut=Ue.detectContentTypeHeader();null!==ut&&St.setRequestHeader("Content-Type",ut)}if(Ue.responseType){const ut=Ue.responseType.toLowerCase();St.responseType="json"!==ut?ut:"text"}const Qt=Ue.serializeBody();let Xn=null;const ln=()=>{if(null!==Xn)return Xn;const ut=St.statusText||"OK",It=new q(St.getAllResponseHeaders()),pn=function nr(Et){return"responseURL"in Et&&Et.responseURL?Et.responseURL:/^X-Request-URL:/m.test(Et.getAllResponseHeaders())?Et.getResponseHeader("X-Request-URL"):null}(St)||Ue.url;return Xn=new Ve({headers:It,status:St.status,statusText:ut,url:pn}),Xn},Sn=()=>{let{headers:ut,status:It,statusText:pn,url:De}=ln(),ce=null;204!==It&&(ce=typeof St.response>"u"?St.responseText:St.response),0===It&&(It=ce?200:0);let Oe=It>=200&&It<300;if("json"===Ue.responseType&&"string"==typeof ce){const ue=ce;ce=ce.replace(Wn,"");try{ce=""!==ce?JSON.parse(ce):null}catch(Z){ce=ue,Oe&&(Oe=!1,ce={error:Z,text:ce})}}Oe?(yt.next(new xe({body:ce,headers:ut,status:It,statusText:pn,url:De||void 0})),yt.complete()):yt.error(new $e({error:ce,headers:ut,status:It,statusText:pn,url:De||void 0}))},we=ut=>{const{url:It}=ln(),pn=new $e({error:ut,status:St.status||0,statusText:St.statusText||"Unknown Error",url:It||void 0});yt.error(pn)};let lt=!1;const le=ut=>{lt||(yt.next(ln()),lt=!0);let It={type:rt.DownloadProgress,loaded:ut.loaded};ut.lengthComputable&&(It.total=ut.total),"text"===Ue.responseType&&!!St.responseText&&(It.partialText=St.responseText),yt.next(It)},ve=ut=>{let It={type:rt.UploadProgress,loaded:ut.loaded};ut.lengthComputable&&(It.total=ut.total),yt.next(It)};return St.addEventListener("load",Sn),St.addEventListener("error",we),St.addEventListener("timeout",we),St.addEventListener("abort",we),Ue.reportProgress&&(St.addEventListener("progress",le),null!==Qt&&St.upload&&St.upload.addEventListener("progress",ve)),St.send(Qt),yt.next({type:rt.Sent}),()=>{St.removeEventListener("error",we),St.removeEventListener("abort",we),St.removeEventListener("load",Sn),St.removeEventListener("timeout",we),Ue.reportProgress&&(St.removeEventListener("progress",le),null!==Qt&&St.upload&&St.upload.removeEventListener("progress",ve)),St.readyState!==St.DONE&&St.abort()}})}}return Et.\u0275fac=function(Ue){return new(Ue||Et)(U.LFG(c.JF))},Et.\u0275prov=U.Yz7({token:Et,factory:Et.\u0275fac}),Et})();const fr=new U.OlP("XSRF_COOKIE_NAME"),cn=new U.OlP("XSRF_HEADER_NAME");class rr{}let br=(()=>{class Et{constructor(Ue,yt,St){this.doc=Ue,this.platform=yt,this.cookieName=St,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Ue=this.doc.cookie||"";return Ue!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,c.Mx)(Ue,this.cookieName),this.lastCookieString=Ue),this.lastToken}}return Et.\u0275fac=function(Ue){return new(Ue||Et)(U.LFG(c.K0),U.LFG(U.Lbi),U.LFG(fr))},Et.\u0275prov=U.Yz7({token:Et,factory:Et.\u0275fac}),Et})(),dr=(()=>{class Et{constructor(Ue,yt){this.tokenService=Ue,this.headerName=yt}intercept(Ue,yt){const St=Ue.url.toLowerCase();if("GET"===Ue.method||"HEAD"===Ue.method||St.startsWith("http://")||St.startsWith("https://"))return yt.handle(Ue);const Qt=this.tokenService.getToken();return null!==Qt&&!Ue.headers.has(this.headerName)&&(Ue=Ue.clone({headers:Ue.headers.set(this.headerName,Qt)})),yt.handle(Ue)}}return Et.\u0275fac=function(Ue){return new(Ue||Et)(U.LFG(rr),U.LFG(cn))},Et.\u0275prov=U.Yz7({token:Et,factory:Et.\u0275fac}),Et})(),Ut=(()=>{class Et{constructor(Ue,yt){this.backend=Ue,this.injector=yt,this.chain=null}handle(Ue){if(null===this.chain){const yt=this.injector.get(nn,[]);this.chain=yt.reduceRight((St,Qt)=>new Kt(St,Qt),this.backend)}return this.chain.handle(Ue)}}return Et.\u0275fac=function(Ue){return new(Ue||Et)(U.LFG(Ae),U.LFG(U.zs3))},Et.\u0275prov=U.Yz7({token:Et,factory:Et.\u0275fac}),Et})(),jn=(()=>{class Et{static disable(){return{ngModule:Et,providers:[{provide:dr,useClass:un}]}}static withOptions(Ue={}){return{ngModule:Et,providers:[Ue.cookieName?{provide:fr,useValue:Ue.cookieName}:[],Ue.headerName?{provide:cn,useValue:Ue.headerName}:[]]}}}return Et.\u0275fac=function(Ue){return new(Ue||Et)},Et.\u0275mod=U.oAB({type:Et}),Et.\u0275inj=U.cJS({providers:[dr,{provide:nn,useExisting:dr,multi:!0},{provide:rr,useClass:br},{provide:fr,useValue:"XSRF-TOKEN"},{provide:cn,useValue:"X-XSRF-TOKEN"}]}),Et})(),pr=(()=>{class Et{}return Et.\u0275fac=function(Ue){return new(Ue||Et)},Et.\u0275mod=U.oAB({type:Et}),Et.\u0275inj=U.cJS({providers:[jt,{provide:Pe,useClass:Ut},Kn,{provide:Ae,useExisting:Kn}],imports:[jn.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),Et})();var Hn=P(8471),qn=P(433),yn=P(7385),mn=P(3673);let Rn=(()=>{class Et{}return Et.\u0275fac=function(Ue){return new(Ue||Et)},Et.\u0275mod=U.oAB({type:Et}),Et.\u0275inj=U.cJS({imports:[c.ez,Hn.Bz,pr,qn.u5,qn.UX,yn.TE,mn.l,c.ez,Hn.Bz,pr,qn.u5,qn.UX,yn.TE]}),Et})()},8005:(tn,et,P)=>{P.d(et,{l:()=>c});var c=(()=>{return(U=c||(c={})).ADMIN="admin",U.PACIENTE="paciente",U.ESPECIALISTA="especialista",c;var U})()},406:(tn,et,P)=>{P.d(et,{J:()=>m});var c=P(8005),U=P(4650),j=P(6534),pe=P(8471);let m=(()=>{class Te{constructor(Pe,Ae){this.authSvc=Pe,this.router=Ae,this.usuario$=this.authSvc.afAuth.user}canActivate(Pe,Ae){let q=!0;switch(console.log("Guard roles-acceso, quiero acceso a: ",Pe.data.roles[0]),Pe.data.roles[0]){case c.l.ADMIN:q=this.authSvc.ITEM_ACCESOS.isAdmin;break;case c.l.ESPECIALISTA:q=this.authSvc.ITEM_ACCESOS.isEspecialista;break;case c.l.PACIENTE:q=this.authSvc.ITEM_ACCESOS.isPaciente;break;default:q=!1}return q}}return Te.\u0275fac=function(Pe){return new(Pe||Te)(U.LFG(j.e),U.LFG(pe.F0))},Te.\u0275prov=U.Yz7({token:Te,factory:Te.\u0275fac,providedIn:"root"}),Te})()},9703:(tn,et,P)=>{P.d(et,{f:()=>pe});var c=P(4650),U=P(8471),j=P(2766);let pe=(()=>{class m{constructor(){}ngOnInit(){}}return m.\u0275fac=function(ke){return new(ke||m)},m.\u0275cmp=c.Xpm({type:m,selectors:[["app-public"]],decls:5,vars:0,consts:[[1,"text-center","text-lg-start"],[1,"text-center","p-3",2,"background-color","rgba(0, 0, 0, 0.2)"]],template:function(ke,Pe){1&ke&&(c._UZ(0,"app-navbar")(1,"router-outlet"),c.TgZ(2,"footer",0)(3,"div",1),c._uU(4," \xa9 2022 Copyright: Patricio Orce "),c.qZA()())},dependencies:[U.lC,j.S],styles:["footer[_ngcontent-%COMP%]{background-color:#1a1a1a;color:#f5f5f5}"]}),m})()},3593:(tn,et,P)=>{P.r(et),P.d(et,{PublicModule:()=>Sn});var c=P(6895),U=P(8471),j=P(9703),pe=P(7340),m=P(4650),Te=P(6534);function ke(we,lt){if(1&we){const le=m.EpF();m.TgZ(0,"div",19)(1,"button",20),m.NdJ("click",function(){m.CHM(le);const ut=m.oxw();return m.KtG(ut.goIniciarSesion())}),m._uU(2," Iniciar Sesi\xf3n "),m.qZA(),m.TgZ(3,"button",20),m.NdJ("click",function(){m.CHM(le);const ut=m.oxw();return m.KtG(ut.goRegistrarme())}),m._uU(4," Registrarme "),m.qZA()()}}let Pe=(()=>{class we{constructor(le,ve){this.authService=le,this.router=ve,this.usuario$=this.authService.afAuth.user,console.log("logedUser",this.authService.ITEM_ACCESOS)}ngOnInit(){}goIniciarSesion(){this.router.navigate(["/iniciar-sesion"])}goRegistrarme(){this.router.navigate(["/registro"])}}return we.\u0275fac=function(le){return new(le||we)(m.Y36(Te.e),m.Y36(U.F0))},we.\u0275cmp=m.Xpm({type:we,selectors:[["app-home"]],decls:34,vars:2,consts:[["id","carouselExampleCaptions","data-bs-ride","carousel",1,"carousel","slide"],[1,"carousel-indicators"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","0","aria-current","true","aria-label","Slide 1",1,"active"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","1","aria-label","Slide 2"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","2","aria-label","Slide 3"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","../../../../../assets/doctora.png","alt","...",1,"d-block","w-100"],[1,"carousel-item"],["src","../../../../../assets/instalaciones.jpg","alt","...",1,"d-block","w-100"],["src","../../../../../assets/quimio.jpg","alt","...",1,"d-block","w-100"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],[1,"section-bienvenido","container"],[1,"container-h3-bienvenido"],["style","text-align: center",4,"ngIf"],[2,"text-align","center"],["type","button",1,"btn-dark","btn-lg",3,"click"]],template:function(le,ve){1&le&&(m.TgZ(0,"body")(1,"div")(2,"div",0)(3,"div",1),m._UZ(4,"button",2)(5,"button",3)(6,"button",4),m.qZA(),m.TgZ(7,"div",5)(8,"div",6),m._UZ(9,"img",7),m.qZA(),m.TgZ(10,"div",8),m._UZ(11,"img",9),m.qZA(),m.TgZ(12,"div",8),m._UZ(13,"img",10),m.qZA()(),m.TgZ(14,"button",11),m._UZ(15,"span",12),m.TgZ(16,"span",13),m._uU(17,"Anterior"),m.qZA()(),m.TgZ(18,"button",14),m._UZ(19,"span",15),m.TgZ(20,"span",13),m._uU(21,"Siguiente"),m.qZA()()(),m.TgZ(22,"section",16)(23,"div",17)(24,"h2"),m._uU(25,"Bienvenido a "),m.TgZ(26,"strong"),m._uU(27,"Cl\xednica OnLine"),m.qZA()(),m.TgZ(28,"p"),m._uU(29," Somos una Instituci\xf3n especialista en salud, cuenta actualmente con consultorios (6 en la actualidad), dos laboratorios (f\xedsicos en la cl\xednica), y una sala de espera general. Est\xe1 abierta al p\xfablico de lunes a viernes en el horario de 8:00 a 19:00, y los s\xe1bados en el horario de 8:00 a 14:00. "),m._UZ(30,"br")(31,"br"),m._uU(32," Trabajan en ella profesionales de diversas especialidades, que ocupan los consultorios acorde a su disponibilidad, y reciben en ellos pacientes con turno para consulta o tratamiento. Dichos turnos son pedidos por la web seleccionando el profesional o la especialidad. La duraci\xf3n m\xednima de un turno es 30 minutos.\u201d pero los profesionales pueden cambiar la duraci\xf3n seg\xfan su especialidad. Estos profesionales pueden tener m\xe1s de una especialidad. Tambi\xe9n contamos con un sector dentro de la cl\xednica que se encarga de la organizaci\xf3n y administraci\xf3n de la misma. "),m.qZA(),m.YNc(33,ke,5,0,"div",18),m.qZA()()()()),2&le&&(m.xp6(1),m.Q6J("@deAbajoHaciaArriba",void 0),m.xp6(32),m.Q6J("ngIf",null==ve.authService.usuario))},dependencies:[c.O5],styles:["body[_ngcontent-%COMP%]{background-color:#f2f2f2;height:55em}@media only screen and (max-width: 993px){body[_ngcontent-%COMP%]{height:60em}}@media only screen and (max-width: 769px){body[_ngcontent-%COMP%]{height:80em}}footer[_ngcontent-%COMP%]{background-color:#6d6d6d;color:#f2f2f2}img[_ngcontent-%COMP%]{width:100%;height:350px;display:block;object-fit:cover}.container-h3-bienvenido[_ngcontent-%COMP%]{padding:50px 0}.container-h3-bienvenido[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px}.btn-dark[_ngcontent-%COMP%]{width:200px;margin:10px 5px 0 0;float:left}.btn-dark[_ngcontent-%COMP%]:hover{box-shadow:0 0 8px #a5a5a5}"],data:{animation:[(0,pe.X$)("deAbajoHaciaArriba",[(0,pe.eR)(":enter",[(0,pe.oB)({transform:"translateY(100%)"}),(0,pe.jt)("700ms ease-in",(0,pe.oB)({transform:"translateY(0%)"}))]),(0,pe.eR)(":leave",[(0,pe.jt)("700ms ease-in",(0,pe.oB)({transform:"translateY(0%)"}))])])]}}),we})();var Ae=P(5861),q=P(433),Q=P(7501);function me(we,lt){1&we&&(m.TgZ(0,"small",29),m._uU(1,"El correo electr\xf3nico es requerido"),m.qZA())}function tt(we,lt){1&we&&(m.TgZ(0,"small",29),m._uU(1,"La contrase\xf1a es requerida"),m.qZA())}function Qe(we,lt){1&we&&(m.TgZ(0,"small",29),m._uU(1,"La contrase\xf1a debe contener al menos 6 caracteres"),m.qZA())}function ze(we,lt){if(1&we&&(m.TgZ(0,"div",30)(1,"label",29),m._uU(2),m.qZA()()),2&we){const le=m.oxw();m.xp6(2),m.hij("- ",le.authService.msjError,"")}}let Pt=(()=>{class we{constructor(le,ve,ut,It){this.adminService=le,this.formBuilder=ve,this.authService=ut,this.router=It,this.spinner=!1,this.formulario=ve.group({email:["",[q.kI.required]],password:["",[q.kI.required,q.kI.minLength(6)]]})}ngOnInit(){}submit(){var le=this;return(0,Ae.Z)(function*(){let ve={email:le.formulario.controls.email.value,password:le.formulario.controls.password.value};try{le.spinnerShow(),le.authService.login(ve.email,ve.password).then(ut=>{le.spinnerHide(),""==le.authService.msjError&&(le.adminService.addLogIngreso(ve.email),le.router.navigate(["inicio"]))})}catch{le.spinnerHide()}})()}ngOnDestroy(){this.authService.setearMsjError()}onAdmin1(){this.formulario.controls.email.setValue("patricioorce2001@gmail.com"),this.formulario.controls.password.setValue("123456789")}onEspecialista1(){this.formulario.controls.email.setValue("furdojurto@gufum.com"),this.formulario.controls.password.setValue("123456789")}onEspecialista2(){this.formulario.controls.email.setValue("marzizupsi@gufum.com"),this.formulario.controls.password.setValue("123456789")}onPaciente1(){this.formulario.controls.email.setValue("kerdeborki@gufum.com"),this.formulario.controls.password.setValue("123456789")}onPaciente2(){this.formulario.controls.email.setValue("curdokarde@gufum.com"),this.formulario.controls.password.setValue("123456789")}onPaciente3(){this.formulario.controls.email.setValue("ferzihurku@gufum.com"),this.formulario.controls.password.setValue("123456789")}spinnerShow(){this.spinner=!0}spinnerHide(){this.spinner=!1}}return we.\u0275fac=function(le){return new(le||we)(m.Y36(Q.l),m.Y36(q.qu),m.Y36(Te.e),m.Y36(U.F0))},we.\u0275cmp=m.Xpm({type:we,selectors:[["app-login"]],decls:69,vars:9,consts:[[1,"container","section-register"],[1,"row","g-4","container-form","mx-auto"],[1,"text-center"],[1,"col-md-5","col-lg-7","mx-auto"],[1,"needs-validation",3,"formGroup","ngSubmit"],[1,"row","g-4"],[1,"col-sm-12"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","autocomplete","on",1,"form-control"],["class","text-danger",4,"ngIf"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password","autocomplete","off",1,"form-control"],["class","col-md-12",4,"ngIf"],["type","submit",1,"w-100","btn","btn-primary","btn-lg",3,"disabled","hidden"],["role","status",1,"spinner-border","text-dark","mx-auto",3,"hidden"],[1,"visually-hidden"],[1,"col-md-5","col-lg-8","order-md-last","mx-auto"],["for","especialidades",1,"form-label",2,"margin","20px 0px"],[1,"my-4"],[1,"quick-access-buttons"],[1,"quick-access-button","admin",3,"click"],["src","https://firebasestorage.googleapis.com/v0/b/clinica-orce-patricio.appspot.com/o/especialistas1687214587185.png?alt=media&token=08b0da1f-0787-4763-9519-6724af33d8bd","alt","Imagen de perfil del especialista"],[1,"quick-access-button","specialist",3,"click"],["src","https://firebasestorage.googleapis.com/v0/b/clinica-orce-patricio.appspot.com/o/especialistas1687475303839.png?alt=media&token=9feb6a66-760a-45c0-9c3a-388705e7347c","alt","Imagen de perfil del paciente"],[1,"quick-access-button","patient",3,"click"],["src","https://firebasestorage.googleapis.com/v0/b/clinica-orce-patricio.appspot.com/o/especialistas1687475037153.png?alt=media&token=e6f65357-996c-491d-9e5c-12a4ba823c4d","alt","Imagen de perfil del paciente"],["src","https://firebasestorage.googleapis.com/v0/b/clinica-orce-patricio.appspot.com/o/pacientes1687216146364.png?alt=media&token=cc5d53d8-1cc7-4ce1-bb69-b4306d1548ac","alt","Imagen de perfil del administrador"],["src","https://firebasestorage.googleapis.com/v0/b/clinica-orce-patricio.appspot.com/o/pacientes1687225575713.png?alt=media&token=43a9ad21-2b1b-49de-bc72-3ffcc3761edb","alt","Imagen de perfil del administrador"],["src","https://firebasestorage.googleapis.com/v0/b/clinica-orce-patricio.appspot.com/o/pacientes1687223112299.png?alt=media&token=e743302a-4325-46e4-a8ba-a8a2cd787eae","alt","Imagen de perfil del administrador"],[1,"text-danger"],[1,"col-md-12"]],template:function(le,ve){if(1&le&&(m.TgZ(0,"body")(1,"section",0)(2,"div",1)(3,"h3",2),m._uU(4,"Iniciar sesi\xf3n"),m.qZA(),m.TgZ(5,"div",3)(6,"form",4),m.NdJ("ngSubmit",function(){return ve.submit()}),m.TgZ(7,"div",5)(8,"div",6)(9,"label",7),m._uU(10,"Correo electr\xf3nico"),m.qZA(),m._UZ(11,"input",8),m.YNc(12,me,2,0,"small",9),m.qZA(),m.TgZ(13,"div",6)(14,"label",10),m._uU(15,"Constrase\xf1a"),m.qZA(),m._UZ(16,"input",11),m.YNc(17,tt,2,0,"small",9),m.YNc(18,Qe,2,0,"small",9),m.qZA(),m.YNc(19,ze,3,1,"div",12),m.TgZ(20,"div")(21,"button",13),m._uU(22," Ingresar "),m.qZA()(),m.TgZ(23,"div",14)(24,"span",15),m._uU(25,"Loading..."),m.qZA()()()()(),m.TgZ(26,"div",16)(27,"label",17),m._uU(28,"Si usted no se ha registrado nunca en el portal pero es paciente de nuestra instituci\xf3n, ingrese en la opci\xf3n Acceder/Registrarme para crear su usuario."),m.qZA()()(),m._UZ(29,"hr",18),m.TgZ(30,"h3",2),m._uU(31,"Accesos"),m.qZA(),m.TgZ(32,"div",19)(33,"button",20),m.NdJ("click",function(){return ve.onAdmin1()}),m._UZ(34,"img",21),m.TgZ(35,"span"),m._uU(36,"Patricio"),m._UZ(37,"br"),m._uU(38,"(Admin)"),m.qZA()(),m.TgZ(39,"button",22),m.NdJ("click",function(){return ve.onEspecialista1()}),m._UZ(40,"img",23),m.TgZ(41,"span"),m._uU(42,"Hibbert"),m._UZ(43,"br"),m._uU(44,"(Especialista)"),m.qZA()(),m.TgZ(45,"button",24),m.NdJ("click",function(){return ve.onEspecialista2()}),m._UZ(46,"img",25),m.TgZ(47,"span"),m._uU(48,"Nick"),m._UZ(49,"br"),m._uU(50,"(Especialista)"),m.qZA()(),m.TgZ(51,"button",20),m.NdJ("click",function(){return ve.onPaciente1()}),m._UZ(52,"img",26),m.TgZ(53,"span"),m._uU(54,"Leandro"),m._UZ(55,"br"),m._uU(56,"(Paciente)"),m.qZA()(),m.TgZ(57,"button",20),m.NdJ("click",function(){return ve.onPaciente2()}),m._UZ(58,"img",27),m.TgZ(59,"span"),m._uU(60,"Bender"),m._UZ(61,"br"),m._uU(62,"(Paciente)"),m.qZA()(),m.TgZ(63,"button",20),m.NdJ("click",function(){return ve.onPaciente3()}),m._UZ(64,"img",28),m.TgZ(65,"span"),m._uU(66,"Jose"),m._UZ(67,"br"),m._uU(68,"(Paciente)"),m.qZA()()()()()),2&le){let ut,It,pn;m.xp6(1),m.Q6J("@deArribaHaciaAbajo",void 0),m.xp6(5),m.Q6J("formGroup",ve.formulario),m.xp6(6),m.Q6J("ngIf",(null==(ut=ve.formulario.get("email"))?null:ut.hasError("required"))&&(null==(ut=ve.formulario.get("email"))?null:ut.touched)),m.xp6(5),m.Q6J("ngIf",(null==(It=ve.formulario.get("password"))?null:It.hasError("required"))&&(null==(It=ve.formulario.get("password"))?null:It.touched)),m.xp6(1),m.Q6J("ngIf",(null==(pn=ve.formulario.get("password"))?null:pn.hasError("minLength"))&&(null==(pn=ve.formulario.get("password"))?null:pn.touched)),m.xp6(1),m.Q6J("ngIf",""!=ve.authService.msjError),m.xp6(2),m.Q6J("disabled",ve.formulario.invalid)("hidden",ve.spinner),m.xp6(2),m.Q6J("hidden",!ve.spinner)}},dependencies:[c.O5,q._Y,q.Fj,q.JJ,q.JL,q.sg,q.u],styles:["body[_ngcontent-%COMP%]{background-color:#f2f2f2;height:55em;padding:20px}@media only screen and (max-width: 769px){body[_ngcontent-%COMP%]{height:80em}}h3[_ngcontent-%COMP%]{text-align:center;text-transform:uppercase}.container-form[_ngcontent-%COMP%]{border-radius:20px;margin:0;padding:0}img[_ngcontent-%COMP%]{width:140px;height:150px;box-shadow:0 0 5px #999;padding:10px;margin:0 10px}img[_ngcontent-%COMP%]:hover{cursor:pointer;box-shadow:0 0 6px #0073ff}table[_ngcontent-%COMP%]{text-align:center;color:#696969;font-weight:400;margin-top:10px}.container-table[_ngcontent-%COMP%]{padding:10px}.quick-access-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}.quick-access-button[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:120px;height:120px;margin:0 10px;border-radius:8px;background-color:#f1f1f1;cursor:pointer}.quick-access-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;margin-bottom:10px}.quick-access-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;font-weight:700;text-align:center}"],data:{animation:[(0,pe.X$)("deArribaHaciaAbajo",[(0,pe.eR)(":enter",[(0,pe.oB)({transform:"translateY(-100%)"}),(0,pe.jt)("700ms ease-in",(0,pe.oB)({transform:"translateY(0%)"}))]),(0,pe.eR)(":leave",[(0,pe.jt)("700ms ease-in",(0,pe.oB)({transform:"translateY(100%)"}))])])]}}),we})();const We=function(){return["paciente"]},Ge=function(){return["especialista"]};let Tt=(()=>{class we{constructor(le){this.formBuilder=le,this.formRegister=le.group({nombre:["",[q.kI.required]],apellido:["",[q.kI.required]],dni:["",[q.kI.required,q.kI.minLength(8)]],edad:["",[q.kI.required,q.kI.min(18),q.kI.max(120)]],email:["",[q.kI.required]],password:["",[q.kI.required]],urlFoto:["",[q.kI.required]]})}ngOnInit(){}submit(){}}return we.\u0275fac=function(le){return new(le||we)(m.Y36(q.qu))},we.\u0275cmp=m.Xpm({type:we,selectors:[["app-register"]],decls:21,vars:4,consts:[[1,"container"],[1,"title"],[1,"subtitle"],[1,"card-container"],[1,"card","patient-card"],[1,"card-icon"],["src","../../../../../assets/consulta.png","alt","Patient"],[1,"card-title"],[3,"routerLink"],[1,"card","specialist-card"],["src","../../../../../assets/medico.png","alt","Specialist"]],template:function(le,ve){1&le&&(m.TgZ(0,"div",0)(1,"div")(2,"h1",1),m._uU(3,"Bienvenidos a la cl\xednica OnLine"),m.qZA(),m.TgZ(4,"h2",2),m._uU(5,"\xbfC\xf3mo desea registrarse?"),m.qZA(),m.TgZ(6,"div",3)(7,"div",4)(8,"div",5),m._UZ(9,"img",6),m.qZA(),m.TgZ(10,"div",7),m._uU(11,"Paciente"),m.qZA(),m.TgZ(12,"button",8),m._uU(13,"Registrarse como Paciente"),m.qZA()(),m.TgZ(14,"div",9)(15,"div",5),m._UZ(16,"img",10),m.qZA(),m.TgZ(17,"div",7),m._uU(18,"Especialista"),m.qZA(),m.TgZ(19,"button",8),m._uU(20,"Registrarse como Especialista"),m.qZA()()()()()),2&le&&(m.xp6(12),m.Q6J("routerLink",m.DdM(2,We)),m.xp6(7),m.Q6J("routerLink",m.DdM(3,Ge)))},dependencies:[U.rH],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:50%;text-align:center}.title[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin-bottom:10px}.subtitle[_ngcontent-%COMP%]{font-size:18px;margin-bottom:20px}.card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:250px;height:300px;border-radius:10px;box-shadow:0 2px 4px #0003;transition:box-shadow .3s,background-color .3s;cursor:pointer;margin:10px;background:linear-gradient(#12d653,#91e5e1)}.card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 8px #0003;background-color:#f5f5f5}.card-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px;height:120px}.card-title[_ngcontent-%COMP%]{margin-top:10px;font-size:18px;font-weight:700}.card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:inherit;border:.5px solid grey;width:90%;height:15%;border-radius:10px;box-shadow:0 4px 8px #0003}.card-container[_ngcontent-%COMP%]{display:flex}"],data:{animation:[(0,pe.X$)("slideInOut",[(0,pe.eR)(":enter",[(0,pe.oB)({transform:"translateX(-100%)"}),(0,pe.jt)("1000ms ease-in",(0,pe.oB)({transform:"translateX(0%)"}))]),(0,pe.eR)(":leave",[(0,pe.jt)("500ms ease-in",(0,pe.oB)({transform:"translateX(-100%)"}))])])]}}),we})();var Bt=P(8005),ge=P(137),He=P(1584);function ot(we,lt){1&we&&(m.TgZ(0,"small",36),m._uU(1,"El nombre es requerido"),m.qZA())}function _t(we,lt){1&we&&(m.TgZ(0,"small",36),m._uU(1,"El apellido es requerido"),m.qZA())}function Re(we,lt){1&we&&(m.TgZ(0,"small",36),m._uU(1,"El correo electr\xf3nico es requerido"),m.qZA())}function Ye(we,lt){1&we&&(m.TgZ(0,"small",36),m._uU(1,"La edad es requerida"),m.qZA())}function rt(we,lt){1&we&&(m.TgZ(0,"small",36),m._uU(1,"La edad m\xednima es 18 a\xf1os"),m.qZA())}function _e(we,lt){1&we&&(m.TgZ(0,"small",36),m._uU(1,"El dni es requerido"),m.qZA())}function Ve(we,lt){1&we&&(m.TgZ(0,"small",36),m._uU(1,"El dni debe contener al menos 8 caracteres"),m.qZA())}function xe(we,lt){1&we&&(m.TgZ(0,"small",36),m._uU(1,"La obra social es requerida"),m.qZA())}function $e(we,lt){1&we&&(m.TgZ(0,"small",36),m._uU(1,"La contrase\xf1a es requerida"),m.qZA())}function Ft(we,lt){1&we&&(m.TgZ(0,"small",36),m._uU(1,"La contrase\xf1a debe contener al menos 6 caracteres"),m.qZA())}function jt(we,lt){1&we&&(m.TgZ(0,"small",36),m._uU(1,"La confirmaci\xf3n de contrase\xf1a es requerida"),m.qZA())}function Kt(we,lt){1&we&&(m.TgZ(0,"small",36),m._uU(1,"La contrase\xf1a debe contener al menos 6 caracteres"),m.qZA())}function nn(we,lt){1&we&&(m.TgZ(0,"span",36),m._uU(1," La imagen es requerida "),m.qZA())}function un(we,lt){1&we&&(m.TgZ(0,"span",36),m._uU(1," La imagen es requerida "),m.qZA())}function Ot(we,lt){if(1&we&&(m.TgZ(0,"div",37),m._uU(1),m.qZA()),2&we){const le=m.oxw();m.xp6(1),m.hij(" - ",le.authService.msjError," ")}}let vn=(()=>{class we{constructor(le,ve,ut,It){this.formBuilder=le,this.authService=ve,this.router=ut,this.pacienteService=It,this.msjSucces="",this.spinner=!1,this.formRegister=le.group({nombre:["",[q.kI.required]],apellido:["",[q.kI.required]],edad:["",[q.kI.required,q.kI.min(18),q.kI.max(120)]],dni:["",[q.kI.required,q.kI.min(8)]],email:["",[q.kI.required]],obraSocial:["",[q.kI.required]],password:["",[q.kI.required,q.kI.minLength(6)]],password_confirm:["",[q.kI.required,q.kI.minLength(6)]],urlFoto:["",[q.kI.required]],urlFoto2:["",[q.kI.required]]})}spinnerShow(){this.spinner=!0}spinnerHide(){this.spinner=!1}passwordMatchValidator(le){this.formRegister.controls.password.value!==this.formRegister.controls.password_confirm.value&&this.formRegister.controls.password_confirm.setErrors({NoPassswordMatch:!0})}ngOnInit(){}ngOnDestroy(){this.authService.setearMsjError()}submit(){var le=this;return(0,Ae.Z)(function*(){let ve={id:"",nombre:le.formRegister.controls.nombre.value,apellido:le.formRegister.controls.apellido.value,dni:le.formRegister.controls.dni.value,obraSocial:le.formRegister.controls.obraSocial.value,edad:le.formRegister.controls.edad.value,email:le.formRegister.controls.email.value,password:le.formRegister.controls.password.value,cuentaHabilitada:!1,urlFotos:[],roles:[Bt.l.PACIENTE],fechaAlta:(new Date).toLocaleString()},ut=[];ut.push(le.selectedFile),ut.push(le.selectedFile2);try{le.spinnerShow();const It=yield le.authService.register(ve.email,ve.password);console.log(It),It&&le.pacienteService.uploadImagesAndCreate(ve,ut).then(pn=>{le.spinnerHide(),le.setearCamposForm();const De=le.authService.isEmailVerified(It);le.redirectUser(De)})}catch(It){console.log("Error",It)}})()}redirectUser(le){this.router.navigate(le?["inicio"]:["registro/verificar-correo"])}setearCamposForm(){this.formRegister.setValue({nombre:"",apellido:"",dni:"",obraSocial:"",edad:"",email:"",password:"",password_confirm:"",urlFotos:[]})}selectFile(le){this.selectedFile=le.target.files[0],console.log(this.selectedFile)}selectFile2(le){this.selectedFile2=le.target.files[0],console.log(this.selectedFile2)}getResultadoCaptcha(le){this.resultadoCaptcha=le,console.log("Resultado Captcha ->",this.resultadoCaptcha)}}return we.\u0275fac=function(le){return new(le||we)(m.Y36(q.qu),m.Y36(Te.e),m.Y36(U.F0),m.Y36(ge.d))},we.\u0275cmp=m.Xpm({type:we,selectors:[["app-register-paciente"]],decls:70,vars:18,consts:[[1,"container","section-register"],[1,"g-5","container-form"],[1,"col-md-3","col-lg-11","mx-auto"],[2,"margin-bottom","20px"],[1,"needs-validation",3,"formGroup","ngSubmit"],[1,"row","g-4"],[1,"col-sm-6"],["for","nombre",1,"form-label"],["type","text","id","nombre","formControlName","nombre","autocomplete","off",1,"form-control"],["class","text-danger",4,"ngIf"],["for","apellido",1,"form-label"],["type","text","id","apellido","formControlName","apellido","autocomplete","off",1,"form-control"],[1,"col-sm-12"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","autocomplete","off",1,"form-control"],["for","edad",1,"form-label"],["type","number","id","edad","formControlName","edad",1,"form-control"],["for","dni",1,"form-label"],["type","number","id","dni","formControlName","dni","autocomplete","off",1,"form-control"],["for","obraSocial",1,"form-label"],["type","text","id","obraSocial","formControlName","obraSocial","autocomplete","off",1,"form-control"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password","autocomplete","off",1,"form-control"],["for","password_confirm",1,"form-label"],["type","password","id","password_confirm","formControlName","password_confirm","autocomplete","off",1,"form-control"],["for","country",1,"form-label"],["type","file","id","urlFoto","formControlName","urlFoto",1,"form-control",3,"change"],["type","file","id","urlFoto2","formControlName","urlFoto2",1,"form-control",3,"change"],["class","alert alert-danger","role","alert",4,"ngIf"],[1,"mb-3"],[3,"resultadoCaptcha"],[1,"my-4"],[2,"text-align","center"],["type","submit",1,"w-100","btn","btn-primary","btn-lg",3,"disabled"],["role","status",1,"spinner-border","text-dark","mx-auto",3,"hidden"],[1,"visually-hidden"],[1,"text-danger"],["role","alert",1,"alert","alert-danger"]],template:function(le,ve){if(1&le&&(m.TgZ(0,"body")(1,"section",0)(2,"div",1)(3,"div",2)(4,"h3",3),m._uU(5,"Registro de cuenta: Paciente"),m.qZA(),m.TgZ(6,"form",4),m.NdJ("ngSubmit",function(){return ve.submit()}),m.TgZ(7,"div",5)(8,"div",6)(9,"label",7),m._uU(10,"Nombre"),m.qZA(),m._UZ(11,"input",8),m.YNc(12,ot,2,0,"small",9),m.qZA(),m.TgZ(13,"div",6)(14,"label",10),m._uU(15,"Apellido"),m.qZA(),m._UZ(16,"input",11),m.YNc(17,_t,2,0,"small",9),m.qZA(),m.TgZ(18,"div",12)(19,"label",13),m._uU(20,"Correo electr\xf3nico"),m.qZA(),m._UZ(21,"input",14),m.YNc(22,Re,2,0,"small",9),m.qZA(),m.TgZ(23,"div",6)(24,"label",15),m._uU(25,"Edad"),m.qZA(),m._UZ(26,"input",16),m.YNc(27,Ye,2,0,"small",9),m.YNc(28,rt,2,0,"small",9),m.qZA(),m.TgZ(29,"div",6)(30,"label",17),m._uU(31,"DNI"),m.qZA(),m._UZ(32,"input",18),m.YNc(33,_e,2,0,"small",9),m.YNc(34,Ve,2,0,"small",9),m.qZA(),m.TgZ(35,"div",12)(36,"label",19),m._uU(37,"OBRA SOCIAL"),m.qZA(),m._UZ(38,"input",20),m.YNc(39,xe,2,0,"small",9),m.qZA(),m.TgZ(40,"div",6)(41,"label",21),m._uU(42,"Constrase\xf1a"),m.qZA(),m._UZ(43,"input",22),m.YNc(44,$e,2,0,"small",9),m.YNc(45,Ft,2,0,"small",9),m.qZA(),m.TgZ(46,"div",6)(47,"label",23),m._uU(48,"Confirma Constrase\xf1a"),m.qZA(),m._UZ(49,"input",24),m.YNc(50,jt,2,0,"small",9),m.YNc(51,Kt,2,0,"small",9),m.qZA(),m.TgZ(52,"div",12)(53,"label",25),m._uU(54,"Adjunte imagenes"),m.qZA(),m.TgZ(55,"input",26),m.NdJ("change",function(It){return ve.selectFile(It)}),m.qZA(),m.YNc(56,nn,2,0,"span",9),m.qZA(),m.TgZ(57,"div",12)(58,"input",27),m.NdJ("change",function(It){return ve.selectFile2(It)}),m.qZA(),m.YNc(59,un,2,0,"span",9),m.qZA(),m.YNc(60,Ot,2,1,"div",28),m.TgZ(61,"div",29)(62,"app-captcha-propio",30),m.NdJ("resultadoCaptcha",function(It){return ve.getResultadoCaptcha(It)}),m.qZA()(),m._UZ(63,"hr",31),m.TgZ(64,"div",32)(65,"button",33),m._uU(66," Enviar "),m.qZA()(),m.TgZ(67,"div",34)(68,"span",35),m._uU(69,"Loading..."),m.qZA()()()()()()()()),2&le){let ut,It,pn,De,ce,Oe,ue,Z,ie,Be,xt,rn,sn,fe;m.xp6(6),m.Q6J("formGroup",ve.formRegister),m.xp6(6),m.Q6J("ngIf",(null==(ut=ve.formRegister.get("nombre"))?null:ut.hasError("required"))&&(null==(ut=ve.formRegister.get("nombre"))?null:ut.touched)),m.xp6(5),m.Q6J("ngIf",(null==(It=ve.formRegister.get("apellido"))?null:It.hasError("required"))&&(null==(It=ve.formRegister.get("apellido"))?null:It.touched)),m.xp6(5),m.Q6J("ngIf",(null==(pn=ve.formRegister.get("email"))?null:pn.hasError("required"))&&(null==(pn=ve.formRegister.get("email"))?null:pn.touched)),m.xp6(5),m.Q6J("ngIf",(null==(De=ve.formRegister.get("edad"))?null:De.hasError("required"))&&(null==(De=ve.formRegister.get("edad"))?null:De.touched)),m.xp6(1),m.Q6J("ngIf",(null==(ce=ve.formRegister.get("edad"))?null:ce.hasError("min"))&&(null==(ce=ve.formRegister.get("edad"))?null:ce.touched)),m.xp6(5),m.Q6J("ngIf",(null==(Oe=ve.formRegister.get("dni"))?null:Oe.hasError("required"))&&(null==(Oe=ve.formRegister.get("dni"))?null:Oe.touched)),m.xp6(1),m.Q6J("ngIf",(null==(ue=ve.formRegister.get("dni"))?null:ue.hasError("min"))&&(null==(ue=ve.formRegister.get("dni"))?null:ue.touched)),m.xp6(5),m.Q6J("ngIf",(null==(Z=ve.formRegister.get("obraSocial"))?null:Z.hasError("required"))&&(null==(Z=ve.formRegister.get("obraSocial"))?null:Z.touched)),m.xp6(5),m.Q6J("ngIf",(null==(ie=ve.formRegister.get("password"))?null:ie.hasError("required"))&&(null==(ie=ve.formRegister.get("password"))?null:ie.touched)),m.xp6(1),m.Q6J("ngIf",(null==(Be=ve.formRegister.get("password"))?null:Be.hasError("minLength"))&&(null==(Be=ve.formRegister.get("password"))?null:Be.touched)),m.xp6(5),m.Q6J("ngIf",(null==(xt=ve.formRegister.get("password_confirm"))?null:xt.hasError("required"))&&(null==(xt=ve.formRegister.get("password_confirm"))?null:xt.touched)),m.xp6(1),m.Q6J("ngIf",(null==(rn=ve.formRegister.get("password_confirm"))?null:rn.hasError("minLength"))&&(null==(rn=ve.formRegister.get("password_confirm"))?null:rn.touched)),m.xp6(5),m.Q6J("ngIf",(null==(sn=ve.formRegister.get("urlFoto"))?null:sn.hasError("required"))&&(null==(sn=ve.formRegister.get("urlFoto"))?null:sn.touched)),m.xp6(3),m.Q6J("ngIf",(null==(fe=ve.formRegister.get("urlFoto2"))?null:fe.hasError("required"))&&(null==(fe=ve.formRegister.get("urlFoto2"))?null:fe.touched)),m.xp6(1),m.Q6J("ngIf",ve.authService.msjError),m.xp6(5),m.Q6J("disabled",ve.formRegister.invalid||!ve.resultadoCaptcha),m.xp6(2),m.Q6J("hidden",!ve.spinner)}},dependencies:[c.O5,q._Y,q.Fj,q.wV,q.JJ,q.JL,q.sg,q.u,He.O],styles:["body[_ngcontent-%COMP%]{background-color:#f2f2f2;height:80em}@media only screen and (max-width: 769px){body[_ngcontent-%COMP%]{height:120em}}.section-register[_ngcontent-%COMP%]{padding:20px 0}.container-form[_ngcontent-%COMP%]{padding:15px;align-items:center}.spinner[_ngcontent-%COMP%]{margin-left:15px}"]}),we})();var fn=P(5235),Dt=P(2668);function ht(we,lt){1&we&&m._UZ(0,"div",4)}function wt(we,lt){if(1&we){const le=m.EpF();m.TgZ(0,"li",5),m.NdJ("click",function(){const It=m.CHM(le).$implicit,pn=m.oxw();return m.KtG(pn.seleccionarItem(It))}),m.TgZ(1,"div")(2,"h5",6),m._uU(3),m.qZA()()()}if(2&we){const le=lt.$implicit;m.xp6(3),m.Oqu(le.descripcion)}}let Xt=(()=>{class we{constructor(le){this.especialidadService=le,this.seleccionado=new m.vpe,this.suscripciones=[],this.especialidades=[],this.spinner_especialidades=!0,this.suscripciones.push(this.especialidadService.getAll().subscribe(ve=>{this.especialidades=[],ve.forEach(ut=>{const It=ut.payload.doc.data();It.id=ut.payload.doc.id,this.especialidades.push(It)}),this.especialidades.length>0&&(this.spinner_especialidades=!1)}))}ngOnInit(){}ngOnDestroy(){this.suscripciones.forEach(le=>{le.unsubscribe(),console.log("cantidad de unsubscribe Especialidad: ",this.suscripciones.length)})}seleccionarItem(le){this.seleccionado.emit(le)}}return we.\u0275fac=function(le){return new(le||we)(m.Y36(Dt.T))},we.\u0275cmp=m.Xpm({type:we,selectors:[["app-tabla-especialidades"]],outputs:{seleccionado:"seleccionado"},decls:4,vars:2,consts:[[1,"overflow-auto","container-items"],[1,"list-group","mb-3","seleccionado"],["class","spinner-border spinner","role","status",4,"ngIf"],["class","list-group-item d-flex justify-content-between lh-sm",3,"click",4,"ngFor","ngForOf"],["role","status",1,"spinner-border","spinner"],[1,"list-group-item","d-flex","justify-content-between","lh-sm",3,"click"],[1,"my-0"]],template:function(le,ve){1&le&&(m.TgZ(0,"div",0)(1,"ul",1),m.YNc(2,ht,1,0,"div",2),m.YNc(3,wt,4,1,"li",3),m.qZA()()),2&le&&(m.xp6(2),m.Q6J("ngIf",ve.spinner_especialidades),m.xp6(1),m.Q6J("ngForOf",ve.especialidades))},dependencies:[c.sg,c.O5],styles:[".container-items[_ngcontent-%COMP%]{height:400px;overflow:auto}.seleccionado[_ngcontent-%COMP%]:hover{cursor:pointer}.spinner[_ngcontent-%COMP%]{margin-left:50%;margin-top:10%;font-weight:900}"]}),we})();function Fn(we,lt){1&we&&(m.TgZ(0,"small",41),m._uU(1,"El nombre es requerido"),m.qZA())}function sr(we,lt){1&we&&(m.TgZ(0,"small",41),m._uU(1,"El apellido es requerido"),m.qZA())}function Wn(we,lt){1&we&&(m.TgZ(0,"small",41),m._uU(1,"El correo electr\xf3nico es requerido"),m.qZA())}function nr(we,lt){1&we&&(m.TgZ(0,"small",41),m._uU(1,"La edad es requerida"),m.qZA())}function Kn(we,lt){1&we&&(m.TgZ(0,"small",41),m._uU(1,"La edad m\xednima es 18 a\xf1os"),m.qZA())}function fr(we,lt){1&we&&(m.TgZ(0,"small",41),m._uU(1,"El dni es requerido"),m.qZA())}function cn(we,lt){1&we&&(m.TgZ(0,"small",41),m._uU(1,"El dni debe contener al menos 8 caracteres"),m.qZA())}function rr(we,lt){1&we&&(m.TgZ(0,"small",41),m._uU(1,"La contrase\xf1a es requerida"),m.qZA())}function br(we,lt){1&we&&(m.TgZ(0,"small",41),m._uU(1,"La contrase\xf1a debe contener al menos 6 caracteres"),m.qZA())}function dr(we,lt){1&we&&(m.TgZ(0,"small",41),m._uU(1,"La confirmaci\xf3n de contrase\xf1a es requerida"),m.qZA())}function Ut(we,lt){1&we&&(m.TgZ(0,"small",41),m._uU(1,"La contrase\xf1a debe contener al menos 6 caracteres"),m.qZA())}function or(we,lt){1&we&&(m.TgZ(0,"span",41),m._uU(1," La imagen de perfil es requerida "),m.qZA())}function Ln(we,lt){if(1&we){const le=m.EpF();m.TgZ(0,"div",44)(1,"button",45),m.NdJ("click",function(){const It=m.CHM(le).$implicit,pn=m.oxw(2);return m.KtG(pn.borrarEspecialidad(It.descripcion))}),m._uU(2),m.TgZ(3,"strong",46),m._uU(4,"\u2716"),m.qZA()()()}if(2&we){const le=lt.$implicit;m.xp6(2),m.hij(" ",le.descripcion," ")}}function jn(we,lt){if(1&we&&(m.TgZ(0,"div",42),m.YNc(1,Ln,5,1,"div",43),m.qZA()),2&we){const le=m.oxw();m.xp6(1),m.Q6J("ngForOf",le.especialidadesSeleccionadas)}}function pr(we,lt){1&we&&(m.TgZ(0,"small",47),m._uU(1,"Seleccione o genere uno nuevo"),m.qZA())}function Pi(we,lt){if(1&we&&(m.TgZ(0,"div",48),m._uU(1),m.qZA()),2&we){const le=m.oxw();m.xp6(1),m.hij(" - ",le.authService.msjError," ")}}let Ar=(()=>{class we{constructor(le,ve,ut,It){this.formBuilder=le,this.especialistaService=ve,this.authService=ut,this.router=It,this.especialidadesSeleccionadas=[],this.msjSucces="",this.formRegister=le.group({nombre:["",[q.kI.required]],apellido:["",[q.kI.required]],dni:["",[q.kI.required,q.kI.min(8)]],edad:["",[q.kI.required,q.kI.min(18),q.kI.max(120)]],email:["",[q.kI.required]],password:["",[q.kI.required,q.kI.minLength(6)]],password_confirm:["",[q.kI.required,q.kI.minLength(6)]],urlFoto:["",[q.kI.required]]})}passwordMatchValidator(le){this.formRegister.controls.password.value!==this.formRegister.controls.password_confirm.value&&this.formRegister.controls.password_confirm.setErrors({NoPassswordMatch:!0})}ngOnInit(){}ngOnDestroy(){this.authService.setearMsjError()}submit(){var le=this;return(0,Ae.Z)(function*(){let ve={id:"",nombre:le.formRegister.controls.nombre.value,apellido:le.formRegister.controls.apellido.value,dni:le.formRegister.controls.dni.value,edad:le.formRegister.controls.edad.value,email:le.formRegister.controls.email.value,password:le.formRegister.controls.password.value,especialidades:le.especialidadesSeleccionadas,cuentaHabilitada:!1,urlFoto:"",roles:[Bt.l.ESPECIALISTA],horarios:"",fechaAlta:(new Date).toLocaleString()};try{const ut=yield le.authService.register(ve.email,ve.password);console.log(ut),ut&&le.especialistaService.uploadImageAndCreate(ve,le.selectedFiles).then(It=>{le.setearCamposForm();const pn=le.authService.isEmailVerified(ut);le.redirectUser(pn)})}catch(ut){console.log("Error",ut)}})()}redirectUser(le){this.router.navigate(le?["inicio"]:["registro/verificar-correo"])}setearCamposForm(){this.especialidadesSeleccionadas=[],this.formRegister.setValue({nombre:"",apellido:"",dni:"",edad:"",email:"",password:"",password_confirm:"",urlFoto:""})}changeEspecialidadSeleccionada(le){console.log(le),this.especialidadesSeleccionadas.includes(le)||this.especialidadesSeleccionadas.push(le)}borrarEspecialidad(le){this.especialidadesSeleccionadas=this.especialidadesSeleccionadas.filter(function(ve){return ve.descripcion!==le})}selectFile(le){this.selectedFiles=le.target.files[0],console.log(this.selectedFiles)}onRegisterEspecialidad(){this.router.navigate(["/registro/especialidad"])}getResultadoCaptcha(le){this.resultadoCaptcha=le,console.log("Resultado Captcha ->",this.resultadoCaptcha)}}return we.\u0275fac=function(le){return new(le||we)(m.Y36(q.qu),m.Y36(fn.n),m.Y36(Te.e),m.Y36(U.F0))},we.\u0275cmp=m.Xpm({type:we,selectors:[["app-register-especialista"]],decls:77,vars:17,consts:[[1,"container","section-register"],[1,"row","g-5","container-form"],[1,"col-md-5","col-lg-4","order-md-last","div-top-especialidades"],["for","especialidades",1,"form-label","text-success",2,"margin-top","10px"],[1,"container-especialidades"],[3,"seleccionado"],[1,"col-md-7","col-lg-8"],[1,"needs-validation",3,"formGroup","ngSubmit"],[1,"row","g-4"],[1,"col-sm-6"],["for","nombre",1,"form-label"],["type","text","id","nombre","formControlName","nombre","autocomplete","off",1,"form-control"],["class","text-danger",4,"ngIf"],["for","apellido",1,"form-label"],["type","text","id","apellido","formControlName","apellido","autocomplete","off",1,"form-control"],[1,"col-sm-12"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","autocomplete","off",1,"form-control"],["for","edad",1,"form-label"],["type","number","id","edad","formControlName","edad",1,"form-control"],["for","dni",1,"form-label"],["type","number","id","dni","formControlName","dni","autocomplete","off",1,"form-control"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password","autocomplete","off",1,"form-control"],["for","password_confirm",1,"form-label"],["type","password","id","password_confirm","formControlName","password_confirm","autocomplete","off",1,"form-control"],["for","country",1,"form-label"],["type","file","id","urlFoto","formControlName","urlFoto",1,"form-control",3,"change"],[1,"col-md-5","col-lg-4","order-md-last","div-bottom-especialidades"],["for","especialidades",1,"form-label","text-success",2,"margin-top","0px"],[1,"col-md-12"],["class","container-especialidades-selected",4,"ngIf"],["style","display: block","class","text-success",4,"ngIf"],[2,"margin-top","10px"],["type","button",1,"w-20","btn","btn-success","btn-lg",3,"click"],["class","alert alert-danger","role","alert",4,"ngIf"],[1,"mb-3"],[3,"resultadoCaptcha"],[1,"my-4"],[2,"text-align","center"],["type","submit",1,"w-100","btn","btn-primary","btn-lg",3,"disabled"],[1,"text-danger"],[1,"container-especialidades-selected"],["style","display: inline",4,"ngFor","ngForOf"],[2,"display","inline"],["id","especialidades",1,"w-0","btn","btn-dark","btn-xs","m-1",3,"click"],[2,"font-size","20px"],[1,"text-success",2,"display","block"],["role","alert",1,"alert","alert-danger"]],template:function(le,ve){if(1&le&&(m.TgZ(0,"body")(1,"section",0)(2,"div",1)(3,"h3"),m._uU(4,"Registro de cuenta: Especialista"),m.qZA(),m.TgZ(5,"div",2)(6,"label",3),m._uU(7,"Especialidades disponibles:"),m.qZA(),m.TgZ(8,"div",4)(9,"app-tabla-especialidades",5),m.NdJ("seleccionado",function(It){return ve.changeEspecialidadSeleccionada(It)}),m.qZA()()(),m.TgZ(10,"div",6)(11,"form",7),m.NdJ("ngSubmit",function(){return ve.submit()}),m.TgZ(12,"div",8)(13,"div",9)(14,"label",10),m._uU(15,"Nombre"),m.qZA(),m._UZ(16,"input",11),m.YNc(17,Fn,2,0,"small",12),m.qZA(),m.TgZ(18,"div",9)(19,"label",13),m._uU(20,"Apellido"),m.qZA(),m._UZ(21,"input",14),m.YNc(22,sr,2,0,"small",12),m.qZA(),m.TgZ(23,"div",15)(24,"label",16),m._uU(25,"Correo electr\xf3nico"),m.qZA(),m._UZ(26,"input",17),m.YNc(27,Wn,2,0,"small",12),m.qZA(),m.TgZ(28,"div",9)(29,"label",18),m._uU(30,"Edad"),m.qZA(),m._UZ(31,"input",19),m.YNc(32,nr,2,0,"small",12),m.YNc(33,Kn,2,0,"small",12),m.qZA(),m.TgZ(34,"div",9)(35,"label",20),m._uU(36,"DNI"),m.qZA(),m._UZ(37,"input",21),m.YNc(38,fr,2,0,"small",12),m.YNc(39,cn,2,0,"small",12),m.qZA(),m.TgZ(40,"div",9)(41,"label",22),m._uU(42,"Constrase\xf1a"),m.qZA(),m._UZ(43,"input",23),m.YNc(44,rr,2,0,"small",12),m.YNc(45,br,2,0,"small",12),m.qZA(),m.TgZ(46,"div",9)(47,"label",24),m._uU(48,"Confirma Constrase\xf1a"),m.qZA(),m._UZ(49,"input",25),m.YNc(50,dr,2,0,"small",12),m.YNc(51,Ut,2,0,"small",12),m.qZA(),m.TgZ(52,"div",15)(53,"label",26),m._uU(54,"Imagen de perfil"),m.qZA(),m.TgZ(55,"input",27),m.NdJ("change",function(It){return ve.selectFile(It)}),m.qZA(),m.YNc(56,or,2,0,"span",12),m.qZA(),m.TgZ(57,"div",28)(58,"label",29),m._uU(59,"Especialidades disponibles:"),m.qZA(),m.TgZ(60,"div",4)(61,"app-tabla-especialidades",5),m.NdJ("seleccionado",function(It){return ve.changeEspecialidadSeleccionada(It)}),m.qZA()()(),m.TgZ(62,"div",30)(63,"label",26),m._uU(64,"Especialidad / Especialidades"),m.qZA(),m.YNc(65,jn,2,1,"div",31),m.YNc(66,pr,2,0,"small",32),m.TgZ(67,"div",33)(68,"button",34),m.NdJ("click",function(){return ve.onRegisterEspecialidad()}),m._uU(69," Crear Especialidad "),m.qZA()()(),m.YNc(70,Pi,2,1,"div",35),m.TgZ(71,"div",36)(72,"app-captcha-propio",37),m.NdJ("resultadoCaptcha",function(It){return ve.getResultadoCaptcha(It)}),m.qZA()(),m._UZ(73,"hr",38),m.TgZ(74,"div",39)(75,"button",40),m._uU(76," Enviar "),m.qZA()()()()()()()()),2&le){let ut,It,pn,De,ce,Oe,ue,Z,ie,Be,xt,rn;m.xp6(11),m.Q6J("formGroup",ve.formRegister),m.xp6(6),m.Q6J("ngIf",(null==(ut=ve.formRegister.get("nombre"))?null:ut.hasError("required"))&&(null==(ut=ve.formRegister.get("nombre"))?null:ut.touched)),m.xp6(5),m.Q6J("ngIf",(null==(It=ve.formRegister.get("apellido"))?null:It.hasError("required"))&&(null==(It=ve.formRegister.get("apellido"))?null:It.touched)),m.xp6(5),m.Q6J("ngIf",(null==(pn=ve.formRegister.get("email"))?null:pn.hasError("required"))&&(null==(pn=ve.formRegister.get("email"))?null:pn.touched)),m.xp6(5),m.Q6J("ngIf",(null==(De=ve.formRegister.get("edad"))?null:De.hasError("required"))&&(null==(De=ve.formRegister.get("edad"))?null:De.touched)),m.xp6(1),m.Q6J("ngIf",(null==(ce=ve.formRegister.get("edad"))?null:ce.hasError("min"))&&(null==(ce=ve.formRegister.get("edad"))?null:ce.touched)),m.xp6(5),m.Q6J("ngIf",(null==(Oe=ve.formRegister.get("dni"))?null:Oe.hasError("required"))&&(null==(Oe=ve.formRegister.get("dni"))?null:Oe.touched)),m.xp6(1),m.Q6J("ngIf",(null==(ue=ve.formRegister.get("dni"))?null:ue.hasError("min"))&&(null==(ue=ve.formRegister.get("dni"))?null:ue.touched)),m.xp6(5),m.Q6J("ngIf",(null==(Z=ve.formRegister.get("password"))?null:Z.hasError("required"))&&(null==(Z=ve.formRegister.get("password"))?null:Z.touched)),m.xp6(1),m.Q6J("ngIf",(null==(ie=ve.formRegister.get("password"))?null:ie.hasError("minLength"))&&(null==(ie=ve.formRegister.get("password"))?null:ie.touched)),m.xp6(5),m.Q6J("ngIf",(null==(Be=ve.formRegister.get("password_confirm"))?null:Be.hasError("required"))&&(null==(Be=ve.formRegister.get("password_confirm"))?null:Be.touched)),m.xp6(1),m.Q6J("ngIf",(null==(xt=ve.formRegister.get("password_confirm"))?null:xt.hasError("minLength"))&&(null==(xt=ve.formRegister.get("password_confirm"))?null:xt.touched)),m.xp6(5),m.Q6J("ngIf",(null==(rn=ve.formRegister.get("urlFoto"))?null:rn.hasError("required"))&&(null==(rn=ve.formRegister.get("urlFoto"))?null:rn.touched)),m.xp6(9),m.Q6J("ngIf",ve.especialidadesSeleccionadas.length>0),m.xp6(1),m.Q6J("ngIf",0==ve.especialidadesSeleccionadas.length),m.xp6(4),m.Q6J("ngIf",ve.authService.msjError),m.xp6(5),m.Q6J("disabled",0==ve.especialidadesSeleccionadas.length||!ve.resultadoCaptcha)}},dependencies:[c.sg,c.O5,q._Y,q.Fj,q.wV,q.JJ,q.JL,q.sg,q.u,He.O,Xt],styles:["body[_ngcontent-%COMP%]{background-color:#f2f2f2;height:70em}@media only screen and (max-width: 769px){body[_ngcontent-%COMP%]{height:120em}}.section-register[_ngcontent-%COMP%]{padding:20px 0}.container-form[_ngcontent-%COMP%]{padding:15px}.container-especialidades[_ngcontent-%COMP%]{overflow:auto}.container-especialidades-selected[_ngcontent-%COMP%]{padding:10px;border:1px solid rgb(220,220,220);background-color:#fff;border-radius:5px;max-height:150px;overflow:auto}.spinner[_ngcontent-%COMP%]{margin-left:15px}@media only screen and (max-width: 769px){.container-especialidades[_ngcontent-%COMP%]{overflow:auto;height:200px}}@media only screen and (max-width: 769px){.div-top-especialidades[_ngcontent-%COMP%]{display:none}.div-bottom-especialidades[_ngcontent-%COMP%]{display:block}}@media only screen and (min-width: 769px){.div-bottom-especialidades[_ngcontent-%COMP%]{display:none}}"]}),we})();function Hn(we,lt){if(1&we&&(m.TgZ(0,"div",4),m._uU(1),m.qZA()),2&we){const le=m.oxw(2);m.xp6(1),m.hij(" ",le.authSvc.msjError," ")}}function qn(we,lt){if(1&we){const le=m.EpF();m.TgZ(0,"div",1)(1,"h2"),m._uU(2,"\xa1Gracias por registrarte!"),m.qZA(),m.TgZ(3,"p"),m._uU(4," Hemos enviado un correo electr\xf3nico de confirmaci\xf3n a "),m.TgZ(5,"strong"),m._uU(6),m.qZA()(),m.TgZ(7,"p"),m._uU(8," Por favor revise su correo electr\xf3nico y haga clic en el enlace para verificar su direcci\xf3n de correo electr\xf3nico. "),m.qZA(),m.TgZ(9,"button",2),m.NdJ("click",function(){m.CHM(le);const ut=m.oxw();return m.KtG(ut.onSendEmail())}),m._uU(10," Reenviar correo de verificaci\xf3n "),m.qZA(),m.YNc(11,Hn,2,1,"div",3),m.qZA()}if(2&we){const le=lt.ngIf,ve=m.oxw();m.xp6(6),m.Oqu(null==le?null:le.email),m.xp6(5),m.Q6J("ngIf",ve.authSvc.msjError)}}let yn=(()=>{class we{constructor(le,ve){this.authSvc=le,this.router=ve,this.usuario$=this.authSvc.afAuth.user}ngOnInit(){}onSendEmail(){var le=this;return(0,Ae.Z)(function*(){try{le.usuario$.subscribe(function(){var ve=(0,Ae.Z)(function*(ut){yield le.authSvc.sendVerifcationEmail()});return function(ut){return ve.apply(this,arguments)}}())}catch(ve){console.log("Error->",ve)}})()}ngOnDestroy(){this.authSvc.setearMsjError()}}return we.\u0275fac=function(le){return new(le||we)(m.Y36(Te.e),m.Y36(U.F0))},we.\u0275cmp=m.Xpm({type:we,selectors:[["app-verify-email"]],decls:3,vars:3,consts:[["class","container-msj",4,"ngIf"],[1,"container-msj"],["type","submit","color","primary","expand","block",1,"btn-dark",3,"click"],["class","alert alert-danger mt-3","role","alert",4,"ngIf"],["role","alert",1,"alert","alert-danger","mt-3"]],template:function(le,ve){1&le&&(m.TgZ(0,"body"),m.YNc(1,qn,12,2,"div",0),m.ALo(2,"async"),m.qZA()),2&le&&(m.xp6(1),m.Q6J("ngIf",m.lcZ(2,1,ve.usuario$)))},dependencies:[c.O5,c.Ov],styles:["body[_ngcontent-%COMP%]{background-color:#f2f2f2;height:86vh;padding:20px}"]}),we})();var mn=P(5698),Rn=P(4004);let Et=(()=>{class we{constructor(le,ve){this.authSvc=le,this.router=ve,this.usuario$=this.authSvc.afAuth.user}canActivate(le,ve){return this.usuario$?.pipe((0,mn.q)(1),(0,Rn.U)(ut=>!ut||(this.router.navigate(["inicio"]),!1)))}}return we.\u0275fac=function(le){return new(le||we)(m.LFG(Te.e),m.LFG(U.F0))},we.\u0275prov=m.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"}),we})(),Se=(()=>{class we{constructor(le,ve){this.authSvc=le,this.router=ve,this.usuario$=this.authSvc.afAuth.user}canActivate(le,ve){return this.usuario$?.pipe((0,mn.q)(1),(0,Rn.U)(ut=>!(!ut||ut.emailVerified)||(this.router.navigate(["inicio"]),!1)))}}return we.\u0275fac=function(le){return new(le||we)(m.LFG(Te.e),m.LFG(U.F0))},we.\u0275prov=m.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"}),we})();function Ue(we,lt){1&we&&(m.TgZ(0,"span",14),m._uU(1," Debes ingresar el nombre de la especialidad."),m.qZA())}function yt(we,lt){if(1&we&&(m.TgZ(0,"div",15),m._uU(1),m.qZA()),2&we){const le=m.oxw();m.xp6(1),m.hij(" - ",le.authService.msjError," ")}}const Qt=[{path:"",component:j.f,children:[{path:"",redirectTo:"inicio",pathMatch:"full"},{path:"inicio",component:Pe},{path:"iniciar-sesion",component:Pt,canActivate:[Et]},{path:"solicitar-turno",component:Pe},{path:"registro",component:Tt},{path:"registro/paciente",component:vn},{path:"registro/especialista",component:Ar},{path:"registro/especialidad",component:(()=>{class we{constructor(le,ve,ut,It){this.fv=le,this.especialidadService=ve,this.authService=ut,this.router=It,this.formulario=le.group({especialidad:["",q.kI.required],urlFoto:[""]})}ngOnInit(){}guardar(){this.especialidad=this.formulario.controls.especialidad.value;let le={id:"",descripcion:this.formulario.controls.especialidad.value,urlFoto:"",fechaAlta:(new Date).toLocaleString()};this.especialidadService.uploadImageAndCreate(le,this.selectedFiles).then(ve=>{console.log(ve),this.formulario.reset()})}selectFile(le){this.selectedFiles=le.target.files[0],console.log(this.selectedFiles)}}return we.\u0275fac=function(le){return new(le||we)(m.Y36(q.qu),m.Y36(Dt.T),m.Y36(Te.e),m.Y36(U.F0))},we.\u0275cmp=m.Xpm({type:we,selectors:[["app-register-especialidad"]],decls:20,vars:4,consts:[[3,"formGroup","ngSubmit"],[1,"container"],[1,"row"],[1,"mb-10"],[1,"col-sm-12"],["for","country",1,"form-label"],["type","text","id","especialidad","formControlName","especialidad","placeholder","Ingrese Especialidad","autocomplete","off",1,"form-control"],["class","text-danger",4,"ngIf"],[1,"col-sm-12","mt-3"],["type","file","id","urlFoto","formControlName","urlFoto",1,"form-control",3,"change"],["class","alert alert-danger","role","alert",4,"ngIf"],[1,"my-4"],[2,"text-align","center"],["type","submit",1,"w-50","btn","btn-primary","btn-lg",3,"disabled"],[1,"text-danger"],["role","alert",1,"alert","alert-danger"]],template:function(le,ve){if(1&le&&(m.TgZ(0,"body")(1,"form",0),m.NdJ("ngSubmit",function(){return ve.guardar()}),m.TgZ(2,"div",1)(3,"div",2)(4,"h4",3),m._uU(5,"Registro de Especialidad"),m.qZA(),m.TgZ(6,"div",4)(7,"label",5),m._uU(8,"Especialidad"),m.qZA(),m._UZ(9,"input",6),m.YNc(10,Ue,2,0,"span",7),m.qZA(),m.TgZ(11,"div",8)(12,"label",5),m._uU(13,"Imagen"),m.qZA(),m.TgZ(14,"input",9),m.NdJ("change",function(It){return ve.selectFile(It)}),m.qZA()(),m.YNc(15,yt,2,1,"div",10),m._UZ(16,"hr",11),m.TgZ(17,"div",12)(18,"button",13),m._uU(19," Enviar "),m.qZA()()()()()()),2&le){let ut;m.xp6(1),m.Q6J("formGroup",ve.formulario),m.xp6(9),m.Q6J("ngIf",(null==(ut=ve.formulario.get("especialidad"))?null:ut.hasError("required"))&&(null==(ut=ve.formulario.get("especialidad"))?null:ut.touched)),m.xp6(5),m.Q6J("ngIf",ve.authService.msjError),m.xp6(3),m.Q6J("disabled",ve.formulario.invalid)}},dependencies:[c.O5,q._Y,q.Fj,q.JJ,q.JL,q.sg,q.u],styles:["body[_ngcontent-%COMP%]{background-color:#f2f2f2;height:35em}@media only screen and (max-width: 769px){body[_ngcontent-%COMP%]{height:60em}}.container[_ngcontent-%COMP%]{padding:20px}"]}),we})()},{path:"registro/verificar-correo",component:yn,canActivate:[Se]}]}];let Xn=(()=>{class we{}return we.\u0275fac=function(le){return new(le||we)},we.\u0275mod=m.oAB({type:we}),we.\u0275inj=m.cJS({imports:[U.Bz.forChild(Qt),U.Bz]}),we})();var ln=P(7865);let Sn=(()=>{class we{}return we.\u0275fac=function(le){return new(le||we)},we.\u0275mod=m.oAB({type:we}),we.\u0275inj=m.cJS({imports:[c.ez,Xn,ln.m]}),we})()},7501:(tn,et,P)=>{P.d(et,{l:()=>ke});var c=P(5861),U=P(4004),j=P(8210),pe=P(4650),m=P(7566),Te=P(7385);let ke=(()=>{class Pe{constructor(q,Q){this.firestore=q,this.angularFireStorage=Q,this.dbPath="administradores",this.dbPathLogs="logIngresosClinica",this.cargarCollection()}get(q){return this.collectionAdministradores=this.firestore.collection(this.dbPath,Q=>Q.where("email","==",q)),this.collectionAdministradores.snapshotChanges()}getAll(){return this.firestore.collection(this.dbPath).snapshotChanges()}addLogIngreso(q){var Q=this;return(0,c.Z)(function*(){var me=new Date;let tt={email:q,fecha:me.toLocaleDateString(),hora:me.toLocaleTimeString()};return yield Q.firestore.collection(Q.dbPathLogs).add(tt)})()}create(q){var Q=this;return(0,c.Z)(function*(){console.log("create collectionAdministradores ->",q);const{id:me}=yield Q.firestore.collection(Q.dbPath).add(q);return yield Q.updateID(yield me)})()}uploadImageAndCreate(q,Q){const me=(0,j.cF)();let tt=this.dbPath+(new Date).getTime()+".png";const Qe=(0,j.iH)(me,tt);return(0,j.KV)(Qe,Q).then(Pt=>{(0,j.Jt)(Pt.ref).then(We=>(q.urlFoto=We,this.create(q))).catch(We=>console.error("getDownloadURL: ",We))}).catch(Pt=>console.error(Pt))}update(q,Q){return this.firestore.collection(this.dbPath).doc(q).update(Q)}habilitarCuenta(q){return this.firestore.collection(this.dbPath).doc(q).update({cuentaHabilitada:!0})}deshabilitarCuenta(q){return this.firestore.collection(this.dbPath).doc(q).update({cuentaHabilitada:!1})}updateID(q){return this.firestore.collection(this.dbPath).doc(q).update({id:q})}getAllArray(){var q=this;return(0,c.Z)(function*(){let Q=new Array;return q.getAll().subscribe(tt=>{tt.forEach(Qe=>{const ze=Qe.payload.doc.data();ze.id=Qe.payload.doc.id,Q.push(ze)})}),yield Q})()}cargarCollection(){this.collectionAdministradores=this.firestore.collection(this.dbPath),this.administradores=this.collectionAdministradores.snapshotChanges().pipe((0,U.U)(q=>q.map(Q=>{const me=Q.payload.doc.data();return me.id=Q.payload.doc.id,me})))}getCollection(q){return this.firestore.collection(q).valueChanges({idField:"id"})}}return Pe.\u0275fac=function(q){return new(q||Pe)(pe.LFG(m.ST),pe.LFG(Te.Q1))},Pe.\u0275prov=pe.Yz7({token:Pe,factory:Pe.\u0275fac,providedIn:"root"}),Pe})()},6534:(tn,et,P)=>{P.d(et,{e:()=>De});var c=P(5861),U=P(5813),j=P(4650),Te=(P(3692),P(5867),P(7573));P(2090),P(9681),P(1877),P(4859);const Ut=(0,U.u3)(Te.ab,!0);var lt=P(1205),le=P(8471),ve=P(7566),ut=P(7501),It=P(5235),pn=P(137);let De=(()=>{class ce{constructor(ue,Z,ie,Be,xt,rn){this.afAuth=ue,this.router=Z,this.afs=ie,this.adminService=Be,this.especialistaService=xt,this.pacienteService=rn,this.msjError="",this.setearUsuarioYAccesos(),this.afAuth.user.subscribe(fe=>{console.log(fe),null!=fe&&(this.usuario={id:fe.uid,email:fe.email,emailVerificado:fe.emailVerified},console.log("USUARIO CONSTRUCTOR AUTH SERVICE:",this.usuario),this.getIsAdmin(fe.email??""),this.getIsEspecialista(fe.email??""),this.getIsPaciente(fe.email??""))})}setearUsuarioLogeado(ue){this.usuarioLogeado=ue}setearUsuarioYAccesos(){console.log("setearUsuario Y Accesos"),this.usuario=null,this.setearItemAccesos(),this.setearUsuarioLogeado(null)}setearItemAccesos(){this.ITEM_ACCESOS={cuentaHabilitada:!1,isAdmin:!1,isPaciente:!1,isEspecialista:!1},console.log("setearItemAccesos")}login(ue,Z){var ie=this;return(0,c.Z)(function*(){return yield ie.afAuth.signInWithEmailAndPassword(ue,Z).then(Be=>{ie.msjError="",Be.user&&(ie.usuario={id:Be.user.uid,email:Be.user.email,emailVerificado:Be.user.emailVerified})}).catch(Be=>{ie.setearUsuarioYAccesos(),console.log("error",Be),ie.msjError=ie.getError(Be.code)})})()}sendVerifcationEmail(ue=this.afAuth.currentUser){var Z=this;return(0,c.Z)(function*(){try{console.log("sendVerifcationEmail",ue);const ie=Ut(yield ue);return console.log(ie),ie}catch(ie){console.log("Error->",ie),Z.msjError=Z.getError(ie)}})()}register(ue,Z){var ie=this;return(0,c.Z)(function*(){try{const{user:Be}=yield ie.afAuth.createUserWithEmailAndPassword(ue,Z);return yield ie.sendVerifcationEmail(Be),ie.msjError="",yield Be}catch(Be){ie.setearUsuarioYAccesos(),console.log("Error->",Be),ie.msjError=ie.getError(Be.code)}})()}getUserLogged(){var ue=this;return(0,c.Z)(function*(){return ue.afAuth.onAuthStateChanged(Z=>{if(Z)return console.log("getUserLogged -> ",Z),Z})})()}logout(){return this.setearUsuarioYAccesos(),this.afAuth.signOut()}isEmailVerified(ue){return!0===ue.emailVerified}getError(ue){switch(console.log("getError ->",ue),ue){case"auth/user-not-found":return"No existe ning\xfan registro de usuario que corresponda al correo electr\xf3nico indicado.";case"auth/email-already-in-use":return"Otro usuario ya est\xe1 utilizando el correo electr\xf3nico indicado.";case"auth/invalid-email":return"El formato del correo electr\xf3nico no es correcto.";case"auth/invalid-password":return"El valor que se proporcion\xf3 para la contrase\xf1a no es v\xe1lido. Debe contener al menos seis caracteres.";case"auth/invalid-phone-number":return"El valor que se proporcion\xf3 para el n\xfamero de celular no es v\xe1lido. Debe no estar vac\xedo y que cumpla con el est\xe1ndar E.164.";case"auth/wrong-password":return"La contrase\xf1a no es v\xe1lida.";case"auth/email-already-in-use":return"La direcci\xf3n de correo electr\xf3nico ya est\xe1 en uso por otra cuenta."}return"Ocurri\xf3 un error."}setearMsjError(){this.msjError=""}getIsEspecialista(ue){var Z=this;return(0,c.Z)(function*(){""!=ue&&Z.especialistaService.especialistas.subscribe(ie=>{ie.forEach(Be=>{Be.email==ue&&(Z.ITEM_ACCESOS.isEspecialista=!0,Z.ITEM_ACCESOS.cuentaHabilitada=Be.cuentaHabilitada,Z.setearUsuarioLogeado(Be),console.log("Es Especialista",Z.ITEM_ACCESOS),console.log("item Especialista",Be))})})})()}getIsAdmin(ue){var Z=this;return(0,c.Z)(function*(){""!=ue&&Z.adminService.administradores.subscribe(ie=>{ie.forEach(Be=>{Be.email==ue&&(Z.ITEM_ACCESOS.isAdmin=!0,Z.setearUsuarioLogeado(Be),console.log("Es Admin",Z.ITEM_ACCESOS),console.log("item Admin",Be))})})})()}getIsPaciente(ue){var Z=this;return(0,c.Z)(function*(){""!=ue&&Z.pacienteService.pacientes.subscribe(ie=>{ie.forEach(Be=>{Be.email==ue&&(Z.ITEM_ACCESOS.isPaciente=!0,Z.setearUsuarioLogeado(Be),console.log("Es Paciente",Z.ITEM_ACCESOS),console.log("item Paciente",Be))})})})()}}return ce.\u0275fac=function(ue){return new(ue||ce)(j.LFG(lt.zQ),j.LFG(le.F0),j.LFG(ve.ST),j.LFG(ut.l),j.LFG(It.n),j.LFG(pn.d))},ce.\u0275prov=j.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})()},2668:(tn,et,P)=>{P.d(et,{T:()=>Te});var c=P(5861),U=P(8210),j=P(4650),pe=P(7566),m=P(7385);let Te=(()=>{class ke{constructor(Ae,q){this.firestore=Ae,this.angularFireStorage=q,this.dbPath="especialidades"}getAll(){return this.firestore.collection(this.dbPath).snapshotChanges()}getAllEsp(){return this.firestore.collection(this.dbPath).valueChanges()}get(Ae){return this.firestore.collection(this.dbPath).doc(Ae).snapshotChanges()}create(Ae){var q=this;return(0,c.Z)(function*(){console.log("create especialista ->",Ae);const{id:Q}=yield q.firestore.collection(q.dbPath).add(Ae);return yield q.updateID(yield Q)})()}uploadImageAndCreate(Ae,q){const Q=(0,U.cF)();let me=this.dbPath+(new Date).getTime()+".png";const tt=(0,U.iH)(Q,me);return null!=q&&null!=q?(0,U.KV)(tt,q).then(Qe=>{(0,U.Jt)(Qe.ref).then(ze=>(Ae.urlFoto=ze,this.create(Ae))).catch(ze=>console.error("getDownloadURL: ",ze))}).catch(Qe=>console.error(Qe)):this.create(Ae)}update(Ae,q){return this.firestore.collection(this.dbPath).doc(Ae).set(q)}updateID(Ae){return this.firestore.collection(this.dbPath).doc(Ae).update({id:Ae})}}return ke.\u0275fac=function(Ae){return new(Ae||ke)(j.LFG(pe.ST),j.LFG(m.Q1))},ke.\u0275prov=j.Yz7({token:ke,factory:ke.\u0275fac,providedIn:"root"}),ke})()},5235:(tn,et,P)=>{P.d(et,{n:()=>Pe});var c=P(5861),U=P(262),j=P(4004),pe=P(8210),m=P(4650),Te=P(7566),ke=P(7385);let Pe=(()=>{class Ae{constructor(Q,me){this.firestore=Q,this.angularFireStorage=me,this.dbPath="especialistas",this.collectionEspecialistas=this.firestore.collection(this.dbPath),this.cargarCollection()}get(Q){return this.collectionEspecialistas=this.firestore.collection(this.dbPath,me=>me.where("email","==",Q)),this.collectionEspecialistas.snapshotChanges()}getAll(){return this.firestore.collection(this.dbPath).snapshotChanges()}getAllTwo(){return this.collectionEspecialistas.valueChanges().pipe((0,U.K)(Q=>{throw console.error("Error al obtener los especialistas:",Q),Q}))}create(Q){var me=this;return(0,c.Z)(function*(){console.log("create especialista ->",Q);const{id:tt}=yield me.firestore.collection(me.dbPath).add(Q);return yield me.updateID(yield tt)})()}uploadImageAndCreate(Q,me){const tt=(0,pe.cF)();let Qe=this.dbPath+(new Date).getTime()+".png";const ze=(0,pe.iH)(tt,Qe);return(0,pe.KV)(ze,me).then(We=>{(0,pe.Jt)(We.ref).then(Ge=>(Q.urlFoto=Ge,this.create(Q))).catch(Ge=>console.error("getDownloadURL: ",Ge))}).catch(We=>console.error(We))}update(Q,me){return this.firestore.collection(this.dbPath).doc(Q).update(me)}habilitarCuenta(Q){return this.firestore.collection(this.dbPath).doc(Q).update({cuentaHabilitada:!0})}deshabilitarCuenta(Q){return this.firestore.collection(this.dbPath).doc(Q).update({cuentaHabilitada:!1})}updateID(Q){return this.firestore.collection(this.dbPath).doc(Q).update({id:Q})}updateHorarios(Q){var me=this;return(0,c.Z)(function*(){console.log("update Horarios Especialista"),console.log(Q),console.log(Q.horarios);const tt=me.firestore.collection(me.dbPath);return tt.doc(Q.id).update({horarios:Object.assign({},Q.horarios)}),yield tt})()}cargarCollection(){this.collectionEspecialistas=this.firestore.collection(this.dbPath),this.especialistas=this.collectionEspecialistas.snapshotChanges().pipe((0,j.U)(Q=>Q.map(me=>{const tt=me.payload.doc.data();return tt.id=me.payload.doc.id,tt})))}}return Ae.\u0275fac=function(Q){return new(Q||Ae)(m.LFG(Te.ST),m.LFG(ke.Q1))},Ae.\u0275prov=m.Yz7({token:Ae,factory:Ae.\u0275fac,providedIn:"root"}),Ae})()},137:(tn,et,P)=>{P.d(et,{d:()=>Pe});var c=P(5861),U=P(4004),j=P(8210),pe=P(4650),m=P(7566),Te=P(7385),ke=P(8471);let Pe=(()=>{class Ae{constructor(Q,me,tt){this.firestore=Q,this.angularFireStorage=me,this.router=tt,this.dbPath="pacientes",this.cargarCollection()}get(Q){return this.collectionPacientes=this.firestore.collection(this.dbPath,me=>me.where("email","==",Q)),this.collectionPacientes.snapshotChanges()}getAll(){return this.firestore.collection(this.dbPath).snapshotChanges()}getAllTwo(){return this.firestore.collection(this.dbPath).valueChanges()}create(Q){var me=this;return(0,c.Z)(function*(){console.log("create Paciente ->",Q);const{id:tt}=yield me.firestore.collection(me.dbPath).add(Q);return yield me.updateID(yield tt)})()}uploadImagesAndCreate(Q,me){var tt=this;console.log(Q),console.log(me);const Qe=(0,j.cF)();Q.urlFotos=[];let ze=0;me.forEach(Pt=>{let We=this.dbPath+(new Date).getTime()+".png";const Ge=(0,j.iH)(Qe,We);console.log(Pt),console.log(We),console.log(Ge),(0,j.KV)(Ge,Pt).then(Tt=>{(0,j.Jt)(Tt.ref).then(function(){var Bt=(0,c.Z)(function*(ge){console.log(ge),Q.urlFotos.push(ge),ze++,ze==me.length&&(console.log("this.create(item)"),tt.create(Q).then(He=>{tt.redirectUser(!1)}))});return function(ge){return Bt.apply(this,arguments)}}()).catch(Bt=>console.error("getDownloadURL: ",Bt))}).catch(Tt=>console.error(Tt))})}redirectUser(Q){this.router.navigate(Q?["inicio"]:["registro/verificar-correo"])}update(Q,me){return this.firestore.collection(this.dbPath).doc(Q).update(me)}updateID(Q){return this.firestore.collection(this.dbPath).doc(Q).update({id:Q})}getAllArray(){var Q=this;return(0,c.Z)(function*(){let me=new Array;return Q.getAll().subscribe(Qe=>{Qe.forEach(ze=>{const Pt=ze.payload.doc.data();Pt.id=ze.payload.doc.id,me.push(Pt)})}),yield me})()}cargarCollection(){this.collectionPacientes=this.firestore.collection(this.dbPath),this.pacientes=this.collectionPacientes.snapshotChanges().pipe((0,U.U)(Q=>Q.map(me=>{const tt=me.payload.doc.data();return tt.id=me.payload.doc.id,tt})))}}return Ae.\u0275fac=function(Q){return new(Q||Ae)(pe.LFG(m.ST),pe.LFG(Te.Q1),pe.LFG(ke.F0))},Ae.\u0275prov=pe.Yz7({token:Ae,factory:Ae.\u0275fac,providedIn:"root"}),Ae})()},8030:(tn,et,P)=>{var c=P(1481),U=P(4650),j=P(8471);let pe=(()=>{class ${constructor(){}ngOnInit(){}}return $.\u0275fac=function(E){return new(E||$)},$.\u0275cmp=U.Xpm({type:$,selectors:[["app-not-found"]],decls:4,vars:0,consts:[[1,"container"],[1,"text-center"]],template:function(E,N){1&E&&(U.TgZ(0,"body")(1,"div",0)(2,"h3",1),U._uU(3,"Error 404, p\xe1gina no encontrada..."),U.qZA()()())},styles:["body[_ngcontent-%COMP%]{background-color:#f2f2f2;height:60em}@media only screen and (max-width: 769px){body[_ngcontent-%COMP%]{height:80em}}"]}),$})();var m=P(8005),Te=P(5698),ke=P(4004),Pe=P(6534);let Ae=(()=>{class ${constructor(E,N){this.authSvc=E,this.router=N,this.usuario$=this.authSvc.afAuth.user}canActivate(E,N){return this.usuario$?.pipe((0,Te.q)(1),(0,ke.U)(K=>K?(K.emailVerified||this.router.navigate(["registro/verificar-correo"]),!0):(this.router.navigate(["iniciar-sesion"]),!1)))}}return $.\u0275fac=function(E){return new(E||$)(U.LFG(Pe.e),U.LFG(j.F0))},$.\u0275prov=U.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),$})();var q=P(406);const me=[{path:"",loadChildren:()=>Promise.resolve().then(P.bind(P,3593)).then($=>$.PublicModule)},{path:"",component:P(9703).f},{path:"#",loadChildren:()=>Promise.resolve().then(P.bind(P,3593)).then($=>$.PublicModule)},{path:"administracion",loadChildren:()=>Promise.all([P.e(236),P.e(374)]).then(P.bind(P,7374)).then($=>$.AdminModule),canActivate:[Ae,q.J],data:{roles:[m.l.ADMIN]}},{path:"intranet",loadChildren:()=>Promise.all([P.e(236),P.e(637)]).then(P.bind(P,9637)).then($=>$.IntranetModule),canActivate:[Ae]},{path:"**",component:pe}];let tt=(()=>{class ${}return $.\u0275fac=function(E){return new(E||$)},$.\u0275mod=U.oAB({type:$}),$.\u0275inj=U.cJS({imports:[j.Bz.forRoot(me,{useHash:!0}),j.Bz]}),$})(),Qe=(()=>{class ${constructor(){this.title="clinica"}}return $.\u0275fac=function(E){return new(E||$)},$.\u0275cmp=U.Xpm({type:$,selectors:[["app-root"]],decls:1,vars:0,template:function(E,N){1&E&&U._UZ(0,"router-outlet")},dependencies:[j.lC]}),$})();const ze_firebase={apiKey:"AIzaSyBCg6oDiAc_LzKD_VRozMsPrAsaW6NDpo0",authDomain:"clinicaorcepatricio.firebaseapp.com",projectId:"clinicaorcepatricio",storageBucket:"clinicaorcepatricio.appspot.com",messagingSenderId:"526923206596",appId:"1:526923206596:web:a63cb8a4367290f143de91"};var Pt=P(6895);const We=[];let Ge=(()=>{class ${}return $.\u0275fac=function(E){return new(E||$)},$.\u0275mod=U.oAB({type:$}),$.\u0275inj=U.cJS({imports:[j.Bz.forChild(We),j.Bz]}),$})(),Tt=(()=>{class ${}return $.\u0275fac=function(E){return new(E||$)},$.\u0275mod=U.oAB({type:$}),$.\u0275inj=U.cJS({imports:[Pt.ez,Ge]}),$})();var Bt=P(3593),ge=P(2011),He=P(1205),ot=P(7566),_t=P(7340);function Ye($){return new U.vHH(3e3,!1)}function yn(){return typeof window<"u"&&typeof window.document<"u"}function mn(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Rn($){switch($.length){case 0:return new _t.ZN;case 1:return $[0];default:return new _t.ZE($)}}function Et($,_,E,N,K=new Map,se=new Map){const Le=[],je=[];let Xe=-1,Lt=null;if(N.forEach(Mn=>{const Pn=Mn.get("offset"),Rr=Pn==Xe,Cr=Rr&&Lt||new Map;Mn.forEach((Zn,ar)=>{let Jr=ar,Xr=Zn;if("offset"!==ar)switch(Jr=_.normalizePropertyName(Jr,Le),Xr){case _t.k1:Xr=K.get(ar);break;case _t.l3:Xr=se.get(ar);break;default:Xr=_.normalizeStyleValue(ar,Jr,Xr,Le)}Cr.set(Jr,Xr)}),Rr||je.push(Cr),Lt=Cr,Xe=Pn}),Le.length)throw function cn($){return new U.vHH(3502,!1)}();return je}function Se($,_,E,N){switch(_){case"start":$.onStart(()=>N(E&&Ue(E,"start",$)));break;case"done":$.onDone(()=>N(E&&Ue(E,"done",$)));break;case"destroy":$.onDestroy(()=>N(E&&Ue(E,"destroy",$)))}}function Ue($,_,E){const se=yt($.element,$.triggerName,$.fromState,$.toState,_||$.phaseName,E.totalTime??$.totalTime,!!E.disabled),Le=$._data;return null!=Le&&(se._data=Le),se}function yt($,_,E,N,K="",se=0,Le){return{element:$,triggerName:_,fromState:E,toState:N,phaseName:K,totalTime:se,disabled:!!Le}}function St($,_,E){let N=$.get(_);return N||$.set(_,N=E),N}function Qt($){const _=$.indexOf(":");return[$.substring(1,_),$.slice(_+1)]}let Xn=($,_)=>!1,ln=($,_,E)=>[],Sn=null;function we($){const _=$.parentNode||$.host;return _===Sn?null:_}(mn()||typeof Element<"u")&&(yn()?(Sn=(()=>document.documentElement)(),Xn=($,_)=>{for(;_;){if(_===$)return!0;_=we(_)}return!1}):Xn=($,_)=>$.contains(_),ln=($,_,E)=>{if(E)return Array.from($.querySelectorAll(_));const N=$.querySelector(_);return N?[N]:[]});let ve=null,ut=!1;const ce=Xn,Oe=ln;let Z=(()=>{class ${validateStyleProperty(E){return function It($){ve||(ve=function De(){return typeof document<"u"?document.body:null}()||{},ut=!!ve.style&&"WebkitAppearance"in ve.style);let _=!0;return ve.style&&!function le($){return"ebkit"==$.substring(1,6)}($)&&(_=$ in ve.style,!_&&ut&&(_="Webkit"+$.charAt(0).toUpperCase()+$.slice(1)in ve.style)),_}(E)}matchesElement(E,N){return!1}containsElement(E,N){return ce(E,N)}getParentElement(E){return we(E)}query(E,N,K){return Oe(E,N,K)}computeStyle(E,N,K){return K||""}animate(E,N,K,se,Le,je=[],Xe){return new _t.ZN(K,se)}}return $.\u0275fac=function(E){return new(E||$)},$.\u0275prov=U.Yz7({token:$,factory:$.\u0275fac}),$})(),ie=(()=>{class ${}return $.NOOP=new Z,$})();const sn="ng-enter",fe="ng-leave",de="ng-trigger",he=".ng-trigger",st="ng-animating",dt=".ng-animating";function on($){if("number"==typeof $)return $;const _=$.match(/^(-?[\.\d]+)(m?s)/);return!_||_.length<2?0:zn(parseFloat(_[1]),_[2])}function zn($,_){return"s"===_?1e3*$:$}function An($,_,E){return $.hasOwnProperty("duration")?$:function ur($,_,E){let K,se=0,Le="";if("string"==typeof $){const je=$.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===je)return _.push(Ye()),{duration:0,delay:0,easing:""};K=zn(parseFloat(je[1]),je[2]);const Xe=je[3];null!=Xe&&(se=zn(parseFloat(Xe),je[4]));const Lt=je[5];Lt&&(Le=Lt)}else K=$;if(!E){let je=!1,Xe=_.length;K<0&&(_.push(function rt(){return new U.vHH(3100,!1)}()),je=!0),se<0&&(_.push(function _e(){return new U.vHH(3101,!1)}()),je=!0),je&&_.splice(Xe,0,Ye())}return{duration:K,delay:se,easing:Le}}($,_,E)}function Yr($,_={}){return Object.keys($).forEach(E=>{_[E]=$[E]}),_}function bn($){const _=new Map;return Object.keys($).forEach(E=>{_.set(E,$[E])}),_}function _i($,_=new Map,E){if(E)for(let[N,K]of E)_.set(N,K);for(let[N,K]of $)_.set(N,K);return _}function gs($,_,E){return E?_+":"+E+";":""}function ei($){let _="";for(let E=0;E<$.style.length;E++){const N=$.style.item(E);_+=gs(0,N,$.style.getPropertyValue(N))}for(const E in $.style)$.style.hasOwnProperty(E)&&!E.startsWith("_")&&(_+=gs(0,ms(E),$.style[E]));$.setAttribute("style",_)}function vi($,_,E){$.style&&(_.forEach((N,K)=>{const se=ss(K);E&&!E.has(K)&&E.set(K,$.style[se]),$.style[se]=N}),mn()&&ei($))}function gr($,_){$.style&&(_.forEach((E,N)=>{const K=ss(N);$.style[K]=""}),mn()&&ei($))}function ti($){return Array.isArray($)?1==$.length?$[0]:(0,_t.vP)($):$}const Oi=new RegExp("{{\\s*(.+?)\\s*}}","g");function Ir($){let _=[];if("string"==typeof $){let E;for(;E=Oi.exec($);)_.push(E[1]);Oi.lastIndex=0}return _}function Fs($,_,E){const N=$.toString(),K=N.replace(Oi,(se,Le)=>{let je=_[Le];return null==je&&(E.push(function xe($){return new U.vHH(3003,!1)}()),je=""),je.toString()});return K==N?$:K}function Wi($){const _=[];let E=$.next();for(;!E.done;)_.push(E.value),E=$.next();return _}const ii=/-+([a-z0-9])/g;function ss($){return $.replace(ii,(..._)=>_[1].toUpperCase())}function ms($){return $.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function it($,_,E){switch(_.type){case 7:return $.visitTrigger(_,E);case 0:return $.visitState(_,E);case 1:return $.visitTransition(_,E);case 2:return $.visitSequence(_,E);case 3:return $.visitGroup(_,E);case 4:return $.visitAnimate(_,E);case 5:return $.visitKeyframes(_,E);case 6:return $.visitStyle(_,E);case 8:return $.visitReference(_,E);case 9:return $.visitAnimateChild(_,E);case 10:return $.visitAnimateRef(_,E);case 11:return $.visitQuery(_,E);case 12:return $.visitStagger(_,E);default:throw function $e($){return new U.vHH(3004,!1)}()}}function Mt($,_){return window.getComputedStyle($)[_]}function os($,_){const E=[];return"string"==typeof $?$.split(/\s*,\s*/).forEach(N=>function Xi($,_,E){if(":"==$[0]){const Xe=function Ts($,_){switch($){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(E,N)=>parseFloat(N)>parseFloat(E);case":decrement":return(E,N)=>parseFloat(N)<parseFloat(E);default:return _.push(function Wn($){return new U.vHH(3016,!1)}()),"* => *"}}($,E);if("function"==typeof Xe)return void _.push(Xe);$=Xe}const N=$.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==N||N.length<4)return E.push(function sr($){return new U.vHH(3015,!1)}()),_;const K=N[1],se=N[2],Le=N[3];_.push(as(K,Le));"<"==se[0]&&!("*"==K&&"*"==Le)&&_.push(as(Le,K))}(N,E,_)):E.push($),E}const Li=new Set(["true","1"]),Ei=new Set(["false","0"]);function as($,_){const E=Li.has($)||Ei.has($),N=Li.has(_)||Ei.has(_);return(K,se)=>{let Le="*"==$||$==K,je="*"==_||_==se;return!Le&&E&&"boolean"==typeof K&&(Le=K?Li.has($):Ei.has($)),!je&&N&&"boolean"==typeof se&&(je=se?Li.has(_):Ei.has(_)),Le&&je}}const Ys=new RegExp("s*:selfs*,?","g");function ao($,_,E,N){return new Ss($).build(_,E,N)}class Ss{constructor(_){this._driver=_}build(_,E,N){const K=new yo(E);return this._resetContextStyleTimingState(K),it(this,ti(_),K)}_resetContextStyleTimingState(_){_.currentQuerySelector="",_.collectedStyles=new Map,_.collectedStyles.set("",new Map),_.currentTime=0}visitTrigger(_,E){let N=E.queryCount=0,K=E.depCount=0;const se=[],Le=[];return"@"==_.name.charAt(0)&&E.errors.push(function jt(){return new U.vHH(3006,!1)}()),_.definitions.forEach(je=>{if(this._resetContextStyleTimingState(E),0==je.type){const Xe=je,Lt=Xe.name;Lt.toString().split(/\s*,\s*/).forEach(Mn=>{Xe.name=Mn,se.push(this.visitState(Xe,E))}),Xe.name=Lt}else if(1==je.type){const Xe=this.visitTransition(je,E);N+=Xe.queryCount,K+=Xe.depCount,Le.push(Xe)}else E.errors.push(function Kt(){return new U.vHH(3007,!1)}())}),{type:7,name:_.name,states:se,transitions:Le,queryCount:N,depCount:K,options:null}}visitState(_,E){const N=this.visitStyle(_.styles,E),K=_.options&&_.options.params||null;if(N.containsDynamicStyles){const se=new Set,Le=K||{};N.styles.forEach(je=>{je instanceof Map&&je.forEach(Xe=>{Ir(Xe).forEach(Lt=>{Le.hasOwnProperty(Lt)||se.add(Lt)})})}),se.size&&(Wi(se.values()),E.errors.push(function nn($,_){return new U.vHH(3008,!1)}()))}return{type:0,name:_.name,style:N,options:K?{params:K}:null}}visitTransition(_,E){E.queryCount=0,E.depCount=0;const N=it(this,ti(_.animation),E);return{type:1,matchers:os(_.expr,E.errors),animation:N,queryCount:E.queryCount,depCount:E.depCount,options:ls(_.options)}}visitSequence(_,E){return{type:2,steps:_.steps.map(N=>it(this,N,E)),options:ls(_.options)}}visitGroup(_,E){const N=E.currentTime;let K=0;const se=_.steps.map(Le=>{E.currentTime=N;const je=it(this,Le,E);return K=Math.max(K,E.currentTime),je});return E.currentTime=K,{type:3,steps:se,options:ls(_.options)}}visitAnimate(_,E){const N=function us($,_){if($.hasOwnProperty("duration"))return $;if("number"==typeof $)return cs(An($,_).duration,0,"");const E=$;if(E.split(/\s+/).some(se=>"{"==se.charAt(0)&&"{"==se.charAt(1))){const se=cs(0,0,"");return se.dynamic=!0,se.strValue=E,se}const K=An(E,_);return cs(K.duration,K.delay,K.easing)}(_.timings,E.errors);E.currentAnimateTimings=N;let K,se=_.styles?_.styles:(0,_t.oB)({});if(5==se.type)K=this.visitKeyframes(se,E);else{let Le=_.styles,je=!1;if(!Le){je=!0;const Lt={};N.easing&&(Lt.easing=N.easing),Le=(0,_t.oB)(Lt)}E.currentTime+=N.duration+N.delay;const Xe=this.visitStyle(Le,E);Xe.isEmptyStep=je,K=Xe}return E.currentAnimateTimings=null,{type:4,timings:N,style:K,options:null}}visitStyle(_,E){const N=this._makeStyleAst(_,E);return this._validateStyleAst(N,E),N}_makeStyleAst(_,E){const N=[],K=Array.isArray(_.styles)?_.styles:[_.styles];for(let je of K)"string"==typeof je?je===_t.l3?N.push(je):E.errors.push(new U.vHH(3002,!1)):N.push(bn(je));let se=!1,Le=null;return N.forEach(je=>{if(je instanceof Map&&(je.has("easing")&&(Le=je.get("easing"),je.delete("easing")),!se))for(let Xe of je.values())if(Xe.toString().indexOf("{{")>=0){se=!0;break}}),{type:6,styles:N,easing:Le,offset:_.offset,containsDynamicStyles:se,options:null}}_validateStyleAst(_,E){const N=E.currentAnimateTimings;let K=E.currentTime,se=E.currentTime;N&&se>0&&(se-=N.duration+N.delay),_.styles.forEach(Le=>{"string"!=typeof Le&&Le.forEach((je,Xe)=>{const Lt=E.collectedStyles.get(E.currentQuerySelector),Mn=Lt.get(Xe);let Pn=!0;Mn&&(se!=K&&se>=Mn.startTime&&K<=Mn.endTime&&(E.errors.push(function vn($,_,E,N,K){return new U.vHH(3010,!1)}()),Pn=!1),se=Mn.startTime),Pn&&Lt.set(Xe,{startTime:se,endTime:K}),E.options&&function qr($,_,E){const N=_.params||{},K=Ir($);K.length&&K.forEach(se=>{N.hasOwnProperty(se)||E.push(function Ve($){return new U.vHH(3001,!1)}())})}(je,E.options,E.errors)})})}visitKeyframes(_,E){const N={type:5,styles:[],options:null};if(!E.currentAnimateTimings)return E.errors.push(function fn(){return new U.vHH(3011,!1)}()),N;let se=0;const Le=[];let je=!1,Xe=!1,Lt=0;const Mn=_.steps.map(Xr=>{const Ki=this._makeStyleAst(Xr,E);let ns=null!=Ki.offset?Ki.offset:function uo($){if("string"==typeof $)return null;let _=null;if(Array.isArray($))$.forEach(E=>{if(E instanceof Map&&E.has("offset")){const N=E;_=parseFloat(N.get("offset")),N.delete("offset")}});else if($ instanceof Map&&$.has("offset")){const E=$;_=parseFloat(E.get("offset")),E.delete("offset")}return _}(Ki.styles),Ur=0;return null!=ns&&(se++,Ur=Ki.offset=ns),Xe=Xe||Ur<0||Ur>1,je=je||Ur<Lt,Lt=Ur,Le.push(Ur),Ki});Xe&&E.errors.push(function Dt(){return new U.vHH(3012,!1)}()),je&&E.errors.push(function ht(){return new U.vHH(3200,!1)}());const Pn=_.steps.length;let Rr=0;se>0&&se<Pn?E.errors.push(function wt(){return new U.vHH(3202,!1)}()):0==se&&(Rr=1/(Pn-1));const Cr=Pn-1,Zn=E.currentTime,ar=E.currentAnimateTimings,Jr=ar.duration;return Mn.forEach((Xr,Ki)=>{const ns=Rr>0?Ki==Cr?1:Rr*Ki:Le[Ki],Ur=ns*Jr;E.currentTime=Zn+ar.delay+Ur,ar.duration=Ur,this._validateStyleAst(Xr,E),Xr.offset=ns,N.styles.push(Xr)}),N}visitReference(_,E){return{type:8,animation:it(this,ti(_.animation),E),options:ls(_.options)}}visitAnimateChild(_,E){return E.depCount++,{type:9,options:ls(_.options)}}visitAnimateRef(_,E){return{type:10,animation:this.visitReference(_.animation,E),options:ls(_.options)}}visitQuery(_,E){const N=E.currentQuerySelector,K=_.options||{};E.queryCount++,E.currentQuery=_;const[se,Le]=function Ro($){const _=!!$.split(/\s*,\s*/).find(E=>":self"==E);return _&&($=$.replace(Ys,"")),$=$.replace(/@\*/g,he).replace(/@\w+/g,E=>he+"-"+E.slice(1)).replace(/:animating/g,dt),[$,_]}(_.selector);E.currentQuerySelector=N.length?N+" "+se:se,St(E.collectedStyles,E.currentQuerySelector,new Map);const je=it(this,ti(_.animation),E);return E.currentQuery=null,E.currentQuerySelector=N,{type:11,selector:se,limit:K.limit||0,optional:!!K.optional,includeSelf:Le,animation:je,originalSelector:_.selector,options:ls(_.options)}}visitStagger(_,E){E.currentQuery||E.errors.push(function Xt(){return new U.vHH(3013,!1)}());const N="full"===_.timings?{duration:0,delay:0,easing:"full"}:An(_.timings,E.errors,!0);return{type:12,animation:it(this,ti(_.animation),E),timings:N,options:null}}}class yo{constructor(_){this.errors=_,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ls($){return $?($=Yr($)).params&&($.params=function mo($){return $?Yr($):null}($.params)):$={},$}function cs($,_,E){return{duration:$,delay:_,easing:E}}function wi($,_,E,N,K,se,Le=null,je=!1){return{type:1,element:$,keyframes:_,preStyleProps:E,postStyleProps:N,duration:K,delay:se,totalTime:K+se,easing:Le,subTimeline:je}}class Qs{constructor(){this._map=new Map}get(_){return this._map.get(_)||[]}append(_,E){let N=this._map.get(_);N||this._map.set(_,N=[]),N.push(...E)}has(_){return this._map.has(_)}clear(){this._map.clear()}}const ys=new RegExp(":enter","g"),lo=new RegExp(":leave","g");function Js($,_,E,N,K,se=new Map,Le=new Map,je,Xe,Lt=[]){return(new zs).buildKeyframes($,_,E,N,K,se,Le,je,Xe,Lt)}class zs{buildKeyframes(_,E,N,K,se,Le,je,Xe,Lt,Mn=[]){Lt=Lt||new Qs;const Pn=new vs(_,E,Lt,K,se,Mn,[]);Pn.options=Xe;const Rr=Xe.delay?on(Xe.delay):0;Pn.currentTimeline.delayNextStep(Rr),Pn.currentTimeline.setStyles([Le],null,Pn.errors,Xe),it(this,N,Pn);const Cr=Pn.timelines.filter(Zn=>Zn.containsAnimation());if(Cr.length&&je.size){let Zn;for(let ar=Cr.length-1;ar>=0;ar--){const Jr=Cr[ar];if(Jr.element===E){Zn=Jr;break}}Zn&&!Zn.allowOnlyTimelineStyles()&&Zn.setStyles([je],null,Pn.errors,Xe)}return Cr.length?Cr.map(Zn=>Zn.buildKeyframes()):[wi(E,[],[],[],0,Rr,"",!1)]}visitTrigger(_,E){}visitState(_,E){}visitTransition(_,E){}visitAnimateChild(_,E){const N=E.subInstructions.get(E.element);if(N){const K=E.createSubContext(_.options),se=E.currentTimeline.currentTime,Le=this._visitSubInstructions(N,K,K.options);se!=Le&&E.transformIntoNewTimeline(Le)}E.previousNode=_}visitAnimateRef(_,E){const N=E.createSubContext(_.options);N.transformIntoNewTimeline(),this._applyAnimationRefDelays([_.options,_.animation.options],E,N),this.visitReference(_.animation,N),E.transformIntoNewTimeline(N.currentTimeline.currentTime),E.previousNode=_}_applyAnimationRefDelays(_,E,N){for(const K of _){const se=K?.delay;if(se){const Le="number"==typeof se?se:on(Fs(se,K?.params??{},E.errors));N.delayNextStep(Le)}}}_visitSubInstructions(_,E,N){let se=E.currentTimeline.currentTime;const Le=null!=N.duration?on(N.duration):null,je=null!=N.delay?on(N.delay):null;return 0!==Le&&_.forEach(Xe=>{const Lt=E.appendInstructionToTimeline(Xe,Le,je);se=Math.max(se,Lt.duration+Lt.delay)}),se}visitReference(_,E){E.updateOptions(_.options,!0),it(this,_.animation,E),E.previousNode=_}visitSequence(_,E){const N=E.subContextCount;let K=E;const se=_.options;if(se&&(se.params||se.delay)&&(K=E.createSubContext(se),K.transformIntoNewTimeline(),null!=se.delay)){6==K.previousNode.type&&(K.currentTimeline.snapshotCurrentStyles(),K.previousNode=_s);const Le=on(se.delay);K.delayNextStep(Le)}_.steps.length&&(_.steps.forEach(Le=>it(this,Le,K)),K.currentTimeline.applyStylesToKeyframe(),K.subContextCount>N&&K.transformIntoNewTimeline()),E.previousNode=_}visitGroup(_,E){const N=[];let K=E.currentTimeline.currentTime;const se=_.options&&_.options.delay?on(_.options.delay):0;_.steps.forEach(Le=>{const je=E.createSubContext(_.options);se&&je.delayNextStep(se),it(this,Le,je),K=Math.max(K,je.currentTimeline.currentTime),N.push(je.currentTimeline)}),N.forEach(Le=>E.currentTimeline.mergeTimelineCollectedStyles(Le)),E.transformIntoNewTimeline(K),E.previousNode=_}_visitTiming(_,E){if(_.dynamic){const N=_.strValue;return An(E.params?Fs(N,E.params,E.errors):N,E.errors)}return{duration:_.duration,delay:_.delay,easing:_.easing}}visitAnimate(_,E){const N=E.currentAnimateTimings=this._visitTiming(_.timings,E),K=E.currentTimeline;N.delay&&(E.incrementTime(N.delay),K.snapshotCurrentStyles());const se=_.style;5==se.type?this.visitKeyframes(se,E):(E.incrementTime(N.duration),this.visitStyle(se,E),K.applyStylesToKeyframe()),E.currentAnimateTimings=null,E.previousNode=_}visitStyle(_,E){const N=E.currentTimeline,K=E.currentAnimateTimings;!K&&N.hasCurrentStyleProperties()&&N.forwardFrame();const se=K&&K.easing||_.easing;_.isEmptyStep?N.applyEmptyStep(se):N.setStyles(_.styles,se,E.errors,E.options),E.previousNode=_}visitKeyframes(_,E){const N=E.currentAnimateTimings,K=E.currentTimeline.duration,se=N.duration,je=E.createSubContext().currentTimeline;je.easing=N.easing,_.styles.forEach(Xe=>{je.forwardTime((Xe.offset||0)*se),je.setStyles(Xe.styles,Xe.easing,E.errors,E.options),je.applyStylesToKeyframe()}),E.currentTimeline.mergeTimelineCollectedStyles(je),E.transformIntoNewTimeline(K+se),E.previousNode=_}visitQuery(_,E){const N=E.currentTimeline.currentTime,K=_.options||{},se=K.delay?on(K.delay):0;se&&(6===E.previousNode.type||0==N&&E.currentTimeline.hasCurrentStyleProperties())&&(E.currentTimeline.snapshotCurrentStyles(),E.previousNode=_s);let Le=N;const je=E.invokeQuery(_.selector,_.originalSelector,_.limit,_.includeSelf,!!K.optional,E.errors);E.currentQueryTotal=je.length;let Xe=null;je.forEach((Lt,Mn)=>{E.currentQueryIndex=Mn;const Pn=E.createSubContext(_.options,Lt);se&&Pn.delayNextStep(se),Lt===E.element&&(Xe=Pn.currentTimeline),it(this,_.animation,Pn),Pn.currentTimeline.applyStylesToKeyframe(),Le=Math.max(Le,Pn.currentTimeline.currentTime)}),E.currentQueryIndex=0,E.currentQueryTotal=0,E.transformIntoNewTimeline(Le),Xe&&(E.currentTimeline.mergeTimelineCollectedStyles(Xe),E.currentTimeline.snapshotCurrentStyles()),E.previousNode=_}visitStagger(_,E){const N=E.parentContext,K=E.currentTimeline,se=_.timings,Le=Math.abs(se.duration),je=Le*(E.currentQueryTotal-1);let Xe=Le*E.currentQueryIndex;switch(se.duration<0?"reverse":se.easing){case"reverse":Xe=je-Xe;break;case"full":Xe=N.currentStaggerTime}const Mn=E.currentTimeline;Xe&&Mn.delayNextStep(Xe);const Pn=Mn.currentTime;it(this,_.animation,E),E.previousNode=_,N.currentStaggerTime=K.currentTime-Pn+(K.startTime-N.currentTimeline.startTime)}}const _s={};class vs{constructor(_,E,N,K,se,Le,je,Xe){this._driver=_,this.element=E,this.subInstructions=N,this._enterClassName=K,this._leaveClassName=se,this.errors=Le,this.timelines=je,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=_s,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Xe||new As(this._driver,E,0),je.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(_,E){if(!_)return;const N=_;let K=this.options;null!=N.duration&&(K.duration=on(N.duration)),null!=N.delay&&(K.delay=on(N.delay));const se=N.params;if(se){let Le=K.params;Le||(Le=this.options.params={}),Object.keys(se).forEach(je=>{(!E||!Le.hasOwnProperty(je))&&(Le[je]=Fs(se[je],Le,this.errors))})}}_copyOptions(){const _={};if(this.options){const E=this.options.params;if(E){const N=_.params={};Object.keys(E).forEach(K=>{N[K]=E[K]})}}return _}createSubContext(_=null,E,N){const K=E||this.element,se=new vs(this._driver,K,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(K,N||0));return se.previousNode=this.previousNode,se.currentAnimateTimings=this.currentAnimateTimings,se.options=this._copyOptions(),se.updateOptions(_),se.currentQueryIndex=this.currentQueryIndex,se.currentQueryTotal=this.currentQueryTotal,se.parentContext=this,this.subContextCount++,se}transformIntoNewTimeline(_){return this.previousNode=_s,this.currentTimeline=this.currentTimeline.fork(this.element,_),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(_,E,N){const K={duration:E??_.duration,delay:this.currentTimeline.currentTime+(N??0)+_.delay,easing:""},se=new ki(this._driver,_.element,_.keyframes,_.preStyleProps,_.postStyleProps,K,_.stretchStartingKeyframe);return this.timelines.push(se),K}incrementTime(_){this.currentTimeline.forwardTime(this.currentTimeline.duration+_)}delayNextStep(_){_>0&&this.currentTimeline.delayNextStep(_)}invokeQuery(_,E,N,K,se,Le){let je=[];if(K&&je.push(this.element),_.length>0){_=(_=_.replace(ys,"."+this._enterClassName)).replace(lo,"."+this._leaveClassName);let Lt=this._driver.query(this.element,_,1!=N);0!==N&&(Lt=N<0?Lt.slice(Lt.length+N,Lt.length):Lt.slice(0,N)),je.push(...Lt)}return!se&&0==je.length&&Le.push(function Fn($){return new U.vHH(3014,!1)}()),je}}class As{constructor(_,E,N,K){this._driver=_,this.element=E,this.startTime=N,this._elementTimelineStylesLookup=K,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(E),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(E,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(_){const E=1===this._keyframes.size&&this._pendingStyles.size;this.duration||E?(this.forwardTime(this.currentTime+_),E&&this.snapshotCurrentStyles()):this.startTime+=_}fork(_,E){return this.applyStylesToKeyframe(),new As(this._driver,_,E||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(_){this.applyStylesToKeyframe(),this.duration=_,this._loadKeyframe()}_updateStyle(_,E){this._localTimelineStyles.set(_,E),this._globalTimelineStyles.set(_,E),this._styleSummary.set(_,{time:this.currentTime,value:E})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(_){_&&this._previousKeyframe.set("easing",_);for(let[E,N]of this._globalTimelineStyles)this._backFill.set(E,N||_t.l3),this._currentKeyframe.set(E,_t.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(_,E,N,K){E&&this._previousKeyframe.set("easing",E);const se=K&&K.params||{},Le=function Hi($,_){const E=new Map;let N;return $.forEach(K=>{if("*"===K){N=N||_.keys();for(let se of N)E.set(se,_t.l3)}else _i(K,E)}),E}(_,this._globalTimelineStyles);for(let[je,Xe]of Le){const Lt=Fs(Xe,se,N);this._pendingStyles.set(je,Lt),this._localTimelineStyles.has(je)||this._backFill.set(je,this._globalTimelineStyles.get(je)??_t.l3),this._updateStyle(je,Lt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((_,E)=>{this._currentKeyframe.set(E,_)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((_,E)=>{this._currentKeyframe.has(E)||this._currentKeyframe.set(E,_)}))}snapshotCurrentStyles(){for(let[_,E]of this._localTimelineStyles)this._pendingStyles.set(_,E),this._updateStyle(_,E)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const _=[];for(let E in this._currentKeyframe)_.push(E);return _}mergeTimelineCollectedStyles(_){_._styleSummary.forEach((E,N)=>{const K=this._styleSummary.get(N);(!K||E.time>K.time)&&this._updateStyle(N,E.value)})}buildKeyframes(){this.applyStylesToKeyframe();const _=new Set,E=new Set,N=1===this._keyframes.size&&0===this.duration;let K=[];this._keyframes.forEach((je,Xe)=>{const Lt=_i(je,new Map,this._backFill);Lt.forEach((Mn,Pn)=>{Mn===_t.k1?_.add(Pn):Mn===_t.l3&&E.add(Pn)}),N||Lt.set("offset",Xe/this.duration),K.push(Lt)});const se=_.size?Wi(_.values()):[],Le=E.size?Wi(E.values()):[];if(N){const je=K[0],Xe=new Map(je);je.set("offset",0),Xe.set("offset",1),K=[je,Xe]}return wi(this.element,K,se,Le,this.duration,this.startTime,this.easing,!1)}}class ki extends As{constructor(_,E,N,K,se,Le,je=!1){super(_,E,Le.delay),this.keyframes=N,this.preStyleProps=K,this.postStyleProps=se,this._stretchStartingKeyframe=je,this.timings={duration:Le.duration,delay:Le.delay,easing:Le.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let _=this.keyframes,{delay:E,duration:N,easing:K}=this.timings;if(this._stretchStartingKeyframe&&E){const se=[],Le=N+E,je=E/Le,Xe=_i(_[0]);Xe.set("offset",0),se.push(Xe);const Lt=_i(_[0]);Lt.set("offset",bi(je)),se.push(Lt);const Mn=_.length-1;for(let Pn=1;Pn<=Mn;Pn++){let Rr=_i(_[Pn]);const Cr=Rr.get("offset");Rr.set("offset",bi((E+Cr*N)/Le)),se.push(Rr)}N=Le,E=0,K="",_=se}return wi(this.element,_,this.preStyleProps,this.postStyleProps,N,E,K,!0)}}function bi($,_=3){const E=Math.pow(10,_-1);return Math.round($*E)/E}class Y{}const be=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Fe extends Y{normalizePropertyName(_,E){return ss(_)}normalizeStyleValue(_,E,N,K){let se="";const Le=N.toString().trim();if(be.has(E)&&0!==N&&"0"!==N)if("number"==typeof N)se="px";else{const je=N.match(/^[+-]?[\d\.]+([a-z]*)$/);je&&0==je[1].length&&K.push(function Ft($,_){return new U.vHH(3005,!1)}())}return Le+se}}function Ze($,_,E,N,K,se,Le,je,Xe,Lt,Mn,Pn,Rr){return{type:0,element:$,triggerName:_,isRemovalTransition:K,fromState:E,fromStyles:se,toState:N,toStyles:Le,timelines:je,queriedElements:Xe,preStyleProps:Lt,postStyleProps:Mn,totalTime:Pn,errors:Rr}}const Ct={};class en{constructor(_,E,N){this._triggerName=_,this.ast=E,this._stateStyles=N}match(_,E,N,K){return function hn($,_,E,N,K){return $.some(se=>se(_,E,N,K))}(this.ast.matchers,_,E,N,K)}buildStyles(_,E,N){let K=this._stateStyles.get("*");return void 0!==_&&(K=this._stateStyles.get(_?.toString())||K),K?K.buildStyles(E,N):new Map}build(_,E,N,K,se,Le,je,Xe,Lt,Mn){const Pn=[],Rr=this.ast.options&&this.ast.options.params||Ct,Zn=this.buildStyles(N,je&&je.params||Ct,Pn),ar=Xe&&Xe.params||Ct,Jr=this.buildStyles(K,ar,Pn),Xr=new Set,Ki=new Map,ns=new Map,Ur="void"===K,sa={params:_n(ar,Rr),delay:this.ast.options?.delay},Zr=Mn?[]:Js(_,E,this.ast.animation,se,Le,Zn,Jr,sa,Lt,Pn);let Vi=0;if(Zr.forEach(Ws=>{Vi=Math.max(Ws.duration+Ws.delay,Vi)}),Pn.length)return Ze(E,this._triggerName,N,K,Ur,Zn,Jr,[],[],Ki,ns,Vi,Pn);Zr.forEach(Ws=>{const Do=Ws.element,Ht=St(Ki,Do,new Set);Ws.preStyleProps.forEach(li=>Ht.add(li));const ui=St(ns,Do,new Set);Ws.postStyleProps.forEach(li=>ui.add(li)),Do!==E&&Xr.add(Do)});const Yi=Wi(Xr.values());return Ze(E,this._triggerName,N,K,Ur,Zn,Jr,Zr,Yi,Ki,ns,Vi)}}function _n($,_){const E=Yr(_);for(const N in $)$.hasOwnProperty(N)&&null!=$[N]&&(E[N]=$[N]);return E}class cr{constructor(_,E,N){this.styles=_,this.defaultParams=E,this.normalizer=N}buildStyles(_,E){const N=new Map,K=Yr(this.defaultParams);return Object.keys(_).forEach(se=>{const Le=_[se];null!==Le&&(K[se]=Le)}),this.styles.styles.forEach(se=>{"string"!=typeof se&&se.forEach((Le,je)=>{Le&&(Le=Fs(Le,K,E));const Xe=this.normalizer.normalizePropertyName(je,E);Le=this.normalizer.normalizeStyleValue(je,Xe,Le,E),N.set(Xe,Le)})}),N}}class $n{constructor(_,E,N){this.name=_,this.ast=E,this._normalizer=N,this.transitionFactories=[],this.states=new Map,E.states.forEach(K=>{this.states.set(K.name,new cr(K.style,K.options&&K.options.params||{},N))}),$r(this.states,"true","1"),$r(this.states,"false","0"),E.transitions.forEach(K=>{this.transitionFactories.push(new en(_,K,this.states))}),this.fallbackTransition=function si($,_,E){return new en($,{type:1,animation:{type:2,steps:[],options:null},matchers:[(Le,je)=>!0],options:null,queryCount:0,depCount:0},_)}(_,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(_,E,N,K){return this.transitionFactories.find(Le=>Le.match(_,E,N,K))||null}matchStyles(_,E,N){return this.fallbackTransition.buildStyles(_,E,N)}}function $r($,_,E){$.has(_)?$.has(E)||$.set(E,$.get(_)):$.has(E)&&$.set(_,$.get(E))}const ts=new Qs;class xr{constructor(_,E,N){this.bodyNode=_,this._driver=E,this._normalizer=N,this._animations=new Map,this._playersById=new Map,this.players=[]}register(_,E){const N=[],se=ao(this._driver,E,N,[]);if(N.length)throw function rr($){return new U.vHH(3503,!1)}();this._animations.set(_,se)}_buildPlayer(_,E,N){const K=_.element,se=Et(0,this._normalizer,0,_.keyframes,E,N);return this._driver.animate(K,se,_.duration,_.delay,_.easing,[],!0)}create(_,E,N={}){const K=[],se=this._animations.get(_);let Le;const je=new Map;if(se?(Le=Js(this._driver,E,se,sn,fe,new Map,new Map,N,ts,K),Le.forEach(Mn=>{const Pn=St(je,Mn.element,new Map);Mn.postStyleProps.forEach(Rr=>Pn.set(Rr,null))})):(K.push(function br(){return new U.vHH(3300,!1)}()),Le=[]),K.length)throw function dr($){return new U.vHH(3504,!1)}();je.forEach((Mn,Pn)=>{Mn.forEach((Rr,Cr)=>{Mn.set(Cr,this._driver.computeStyle(Pn,Cr,_t.l3))})});const Lt=Rn(Le.map(Mn=>{const Pn=je.get(Mn.element);return this._buildPlayer(Mn,new Map,Pn)}));return this._playersById.set(_,Lt),Lt.onDestroy(()=>this.destroy(_)),this.players.push(Lt),Lt}destroy(_){const E=this._getPlayer(_);E.destroy(),this._playersById.delete(_);const N=this.players.indexOf(E);N>=0&&this.players.splice(N,1)}_getPlayer(_){const E=this._playersById.get(_);if(!E)throw function Ut($){return new U.vHH(3301,!1)}();return E}listen(_,E,N,K){const se=yt(E,"","","");return Se(this._getPlayer(_),N,se,K),()=>{}}command(_,E,N,K){if("register"==N)return void this.register(_,K[0]);if("create"==N)return void this.create(_,E,K[0]||{});const se=this._getPlayer(_);switch(N){case"play":se.play();break;case"pause":se.pause();break;case"reset":se.reset();break;case"restart":se.restart();break;case"finish":se.finish();break;case"init":se.init();break;case"setPosition":se.setPosition(parseFloat(K[0]));break;case"destroy":this.destroy(_)}}}const qi="ng-animate-queued",Dn="ng-animate-disabled",Ls=[],Kr={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ws={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Fi="__ng_removed";class co{constructor(_,E=""){this.namespaceId=E;const N=_&&_.hasOwnProperty("value");if(this.value=function ho($){return $??null}(N?_.value:_),N){const se=Yr(_);delete se.value,this.options=se}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(_){const E=_.params;if(E){const N=this.options.params;Object.keys(E).forEach(K=>{null==N[K]&&(N[K]=E[K])})}}}const Gt="void",hr=new co(Gt);class Po{constructor(_,E,N){this.id=_,this.hostElement=E,this._engine=N,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+_,L(E,this._hostClassName)}listen(_,E,N,K){if(!this._triggers.has(E))throw function or($,_){return new U.vHH(3302,!1)}();if(null==N||0==N.length)throw function Ln($){return new U.vHH(3303,!1)}();if(!function Ho($){return"start"==$||"done"==$}(N))throw function jn($,_){return new U.vHH(3400,!1)}();const se=St(this._elementListeners,_,[]),Le={name:E,phase:N,callback:K};se.push(Le);const je=St(this._engine.statesByElement,_,new Map);return je.has(E)||(L(_,de),L(_,de+"-"+E),je.set(E,hr)),()=>{this._engine.afterFlush(()=>{const Xe=se.indexOf(Le);Xe>=0&&se.splice(Xe,1),this._triggers.has(E)||je.delete(E)})}}register(_,E){return!this._triggers.has(_)&&(this._triggers.set(_,E),!0)}_getTrigger(_){const E=this._triggers.get(_);if(!E)throw function pr($){return new U.vHH(3401,!1)}();return E}trigger(_,E,N,K=!0){const se=this._getTrigger(E),Le=new oi(this.id,E,_);let je=this._engine.statesByElement.get(_);je||(L(_,de),L(_,de+"-"+E),this._engine.statesByElement.set(_,je=new Map));let Xe=je.get(E);const Lt=new co(N,this.id);if(!(N&&N.hasOwnProperty("value"))&&Xe&&Lt.absorbOptions(Xe.options),je.set(E,Lt),Xe||(Xe=hr),Lt.value!==Gt&&Xe.value===Lt.value){if(!function En($,_){const E=Object.keys($),N=Object.keys(_);if(E.length!=N.length)return!1;for(let K=0;K<E.length;K++){const se=E[K];if(!_.hasOwnProperty(se)||$[se]!==_[se])return!1}return!0}(Xe.params,Lt.params)){const ar=[],Jr=se.matchStyles(Xe.value,Xe.params,ar),Xr=se.matchStyles(Lt.value,Lt.params,ar);ar.length?this._engine.reportError(ar):this._engine.afterFlush(()=>{gr(_,Jr),vi(_,Xr)})}return}const Rr=St(this._engine.playersByElement,_,[]);Rr.forEach(ar=>{ar.namespaceId==this.id&&ar.triggerName==E&&ar.queued&&ar.destroy()});let Cr=se.matchTransition(Xe.value,Lt.value,_,Lt.params),Zn=!1;if(!Cr){if(!K)return;Cr=se.fallbackTransition,Zn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:_,triggerName:E,transition:Cr,fromState:Xe,toState:Lt,player:Le,isFallbackTransition:Zn}),Zn||(L(_,qi),Le.onStart(()=>{k(_,qi)})),Le.onDone(()=>{let ar=this.players.indexOf(Le);ar>=0&&this.players.splice(ar,1);const Jr=this._engine.playersByElement.get(_);if(Jr){let Xr=Jr.indexOf(Le);Xr>=0&&Jr.splice(Xr,1)}}),this.players.push(Le),Rr.push(Le),Le}deregister(_){this._triggers.delete(_),this._engine.statesByElement.forEach(E=>E.delete(_)),this._elementListeners.forEach((E,N)=>{this._elementListeners.set(N,E.filter(K=>K.name!=_))})}clearElementCache(_){this._engine.statesByElement.delete(_),this._elementListeners.delete(_);const E=this._engine.playersByElement.get(_);E&&(E.forEach(N=>N.destroy()),this._engine.playersByElement.delete(_))}_signalRemovalForInnerTriggers(_,E){const N=this._engine.driver.query(_,he,!0);N.forEach(K=>{if(K[Fi])return;const se=this._engine.fetchNamespacesByElement(K);se.size?se.forEach(Le=>Le.triggerLeaveAnimation(K,E,!1,!0)):this.clearElementCache(K)}),this._engine.afterFlushAnimationsDone(()=>N.forEach(K=>this.clearElementCache(K)))}triggerLeaveAnimation(_,E,N,K){const se=this._engine.statesByElement.get(_),Le=new Map;if(se){const je=[];if(se.forEach((Xe,Lt)=>{if(Le.set(Lt,Xe.value),this._triggers.has(Lt)){const Mn=this.trigger(_,Lt,Gt,K);Mn&&je.push(Mn)}}),je.length)return this._engine.markElementAsRemoved(this.id,_,!0,E,Le),N&&Rn(je).onDone(()=>this._engine.processLeaveNode(_)),!0}return!1}prepareLeaveAnimationListeners(_){const E=this._elementListeners.get(_),N=this._engine.statesByElement.get(_);if(E&&N){const K=new Set;E.forEach(se=>{const Le=se.name;if(K.has(Le))return;K.add(Le);const Xe=this._triggers.get(Le).fallbackTransition,Lt=N.get(Le)||hr,Mn=new co(Gt),Pn=new oi(this.id,Le,_);this._engine.totalQueuedPlayers++,this._queue.push({element:_,triggerName:Le,transition:Xe,fromState:Lt,toState:Mn,player:Pn,isFallbackTransition:!0})})}}removeNode(_,E){const N=this._engine;if(_.childElementCount&&this._signalRemovalForInnerTriggers(_,E),this.triggerLeaveAnimation(_,E,!0))return;let K=!1;if(N.totalAnimations){const se=N.players.length?N.playersByQueriedElement.get(_):[];if(se&&se.length)K=!0;else{let Le=_;for(;Le=Le.parentNode;)if(N.statesByElement.get(Le)){K=!0;break}}}if(this.prepareLeaveAnimationListeners(_),K)N.markElementAsRemoved(this.id,_,!1,E);else{const se=_[Fi];(!se||se===Kr)&&(N.afterFlush(()=>this.clearElementCache(_)),N.destroyInnerAnimations(_),N._onRemovalComplete(_,E))}}insertNode(_,E){L(_,this._hostClassName)}drainQueuedTransitions(_){const E=[];return this._queue.forEach(N=>{const K=N.player;if(K.destroyed)return;const se=N.element,Le=this._elementListeners.get(se);Le&&Le.forEach(je=>{if(je.name==N.triggerName){const Xe=yt(se,N.triggerName,N.fromState.value,N.toState.value);Xe._data=_,Se(N.player,je.phase,Xe,je.callback)}}),K.markedForDestroy?this._engine.afterFlush(()=>{K.destroy()}):E.push(N)}),this._queue=[],E.sort((N,K)=>{const se=N.transition.ast.depCount,Le=K.transition.ast.depCount;return 0==se||0==Le?se-Le:this._engine.driver.containsElement(N.element,K.element)?1:-1})}destroy(_){this.players.forEach(E=>E.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,_)}elementContainsData(_){let E=!1;return this._elementListeners.has(_)&&(E=!0),E=!!this._queue.find(N=>N.element===_)||E,E}}class eo{constructor(_,E,N){this.bodyNode=_,this.driver=E,this._normalizer=N,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(K,se)=>{}}_onRemovalComplete(_,E){this.onRemovalComplete(_,E)}get queuedPlayers(){const _=[];return this._namespaceList.forEach(E=>{E.players.forEach(N=>{N.queued&&_.push(N)})}),_}createNamespace(_,E){const N=new Po(_,E,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,E)?this._balanceNamespaceList(N,E):(this.newHostElements.set(E,N),this.collectEnterElement(E)),this._namespaceLookup[_]=N}_balanceNamespaceList(_,E){const N=this._namespaceList,K=this.namespacesByHostElement;if(N.length-1>=0){let Le=!1,je=this.driver.getParentElement(E);for(;je;){const Xe=K.get(je);if(Xe){const Lt=N.indexOf(Xe);N.splice(Lt+1,0,_),Le=!0;break}je=this.driver.getParentElement(je)}Le||N.unshift(_)}else N.push(_);return K.set(E,_),_}register(_,E){let N=this._namespaceLookup[_];return N||(N=this.createNamespace(_,E)),N}registerTrigger(_,E,N){let K=this._namespaceLookup[_];K&&K.register(E,N)&&this.totalAnimations++}destroy(_,E){if(!_)return;const N=this._fetchNamespace(_);this.afterFlush(()=>{this.namespacesByHostElement.delete(N.hostElement),delete this._namespaceLookup[_];const K=this._namespaceList.indexOf(N);K>=0&&this._namespaceList.splice(K,1)}),this.afterFlushAnimationsDone(()=>N.destroy(E))}_fetchNamespace(_){return this._namespaceLookup[_]}fetchNamespacesByElement(_){const E=new Set,N=this.statesByElement.get(_);if(N)for(let K of N.values())if(K.namespaceId){const se=this._fetchNamespace(K.namespaceId);se&&E.add(se)}return E}trigger(_,E,N,K){if(Ii(E)){const se=this._fetchNamespace(_);if(se)return se.trigger(E,N,K),!0}return!1}insertNode(_,E,N,K){if(!Ii(E))return;const se=E[Fi];if(se&&se.setForRemoval){se.setForRemoval=!1,se.setForMove=!0;const Le=this.collectedLeaveElements.indexOf(E);Le>=0&&this.collectedLeaveElements.splice(Le,1)}if(_){const Le=this._fetchNamespace(_);Le&&Le.insertNode(E,N)}K&&this.collectEnterElement(E)}collectEnterElement(_){this.collectedEnterElements.push(_)}markElementAsDisabled(_,E){E?this.disabledNodes.has(_)||(this.disabledNodes.add(_),L(_,Dn)):this.disabledNodes.has(_)&&(this.disabledNodes.delete(_),k(_,Dn))}removeNode(_,E,N,K){if(Ii(E)){const se=_?this._fetchNamespace(_):null;if(se?se.removeNode(E,K):this.markElementAsRemoved(_,E,!1,K),N){const Le=this.namespacesByHostElement.get(E);Le&&Le.id!==_&&Le.removeNode(E,K)}}else this._onRemovalComplete(E,K)}markElementAsRemoved(_,E,N,K,se){this.collectedLeaveElements.push(E),E[Fi]={namespaceId:_,setForRemoval:K,hasAnimation:N,removedBeforeQueried:!1,previousTriggersValues:se}}listen(_,E,N,K,se){return Ii(E)?this._fetchNamespace(_).listen(E,N,K,se):()=>{}}_buildInstruction(_,E,N,K,se){return _.transition.build(this.driver,_.element,_.fromState.value,_.toState.value,N,K,_.fromState.options,_.toState.options,E,se)}destroyInnerAnimations(_){let E=this.driver.query(_,he,!0);E.forEach(N=>this.destroyActiveAnimationsForElement(N)),0!=this.playersByQueriedElement.size&&(E=this.driver.query(_,dt,!0),E.forEach(N=>this.finishActiveQueriedAnimationOnElement(N)))}destroyActiveAnimationsForElement(_){const E=this.playersByElement.get(_);E&&E.forEach(N=>{N.queued?N.markedForDestroy=!0:N.destroy()})}finishActiveQueriedAnimationOnElement(_){const E=this.playersByQueriedElement.get(_);E&&E.forEach(N=>N.finish())}whenRenderingDone(){return new Promise(_=>{if(this.players.length)return Rn(this.players).onDone(()=>_());_()})}processLeaveNode(_){const E=_[Fi];if(E&&E.setForRemoval){if(_[Fi]=Kr,E.namespaceId){this.destroyInnerAnimations(_);const N=this._fetchNamespace(E.namespaceId);N&&N.clearElementCache(_)}this._onRemovalComplete(_,E.setForRemoval)}_.classList?.contains(Dn)&&this.markElementAsDisabled(_,!1),this.driver.query(_,".ng-animate-disabled",!0).forEach(N=>{this.markElementAsDisabled(N,!1)})}flush(_=-1){let E=[];if(this.newHostElements.size&&(this.newHostElements.forEach((N,K)=>this._balanceNamespaceList(N,K)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let N=0;N<this.collectedEnterElements.length;N++)L(this.collectedEnterElements[N],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const N=[];try{E=this._flushAnimations(N,_)}finally{for(let K=0;K<N.length;K++)N[K]()}}else for(let N=0;N<this.collectedLeaveElements.length;N++)this.processLeaveNode(this.collectedLeaveElements[N]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(N=>N()),this._flushFns=[],this._whenQuietFns.length){const N=this._whenQuietFns;this._whenQuietFns=[],E.length?Rn(E).onDone(()=>{N.forEach(K=>K())}):N.forEach(K=>K())}}reportError(_){throw function Pi($){return new U.vHH(3402,!1)}()}_flushAnimations(_,E){const N=new Qs,K=[],se=new Map,Le=[],je=new Map,Xe=new Map,Lt=new Map,Mn=new Set;this.disabledNodes.forEach(Wt=>{Mn.add(Wt);const Yn=this.driver.query(Wt,".ng-animate-queued",!0);for(let Nt=0;Nt<Yn.length;Nt++)Mn.add(Yn[Nt])});const Pn=this.bodyNode,Rr=Array.from(this.statesByElement.keys()),Cr=fo(Rr,this.collectedEnterElements),Zn=new Map;let ar=0;Cr.forEach((Wt,Yn)=>{const Nt=sn+ar++;Zn.set(Yn,Nt),Wt.forEach(at=>L(at,Nt))});const Jr=[],Xr=new Set,Ki=new Set;for(let Wt=0;Wt<this.collectedLeaveElements.length;Wt++){const Yn=this.collectedLeaveElements[Wt],Nt=Yn[Fi];Nt&&Nt.setForRemoval&&(Jr.push(Yn),Xr.add(Yn),Nt.hasAnimation?this.driver.query(Yn,".ng-star-inserted",!0).forEach(at=>Xr.add(at)):Ki.add(Yn))}const ns=new Map,Ur=fo(Rr,Array.from(Xr));Ur.forEach((Wt,Yn)=>{const Nt=fe+ar++;ns.set(Yn,Nt),Wt.forEach(at=>L(at,Nt))}),_.push(()=>{Cr.forEach((Wt,Yn)=>{const Nt=Zn.get(Yn);Wt.forEach(at=>k(at,Nt))}),Ur.forEach((Wt,Yn)=>{const Nt=ns.get(Yn);Wt.forEach(at=>k(at,Nt))}),Jr.forEach(Wt=>{this.processLeaveNode(Wt)})});const sa=[],Zr=[];for(let Wt=this._namespaceList.length-1;Wt>=0;Wt--)this._namespaceList[Wt].drainQueuedTransitions(E).forEach(Nt=>{const at=Nt.player,kt=Nt.element;if(sa.push(at),this.collectedEnterElements.length){const Ti=kt[Fi];if(Ti&&Ti.setForMove){if(Ti.previousTriggersValues&&Ti.previousTriggersValues.has(Nt.triggerName)){const zo=Ti.previousTriggersValues.get(Nt.triggerName),Cs=this.statesByElement.get(Nt.element);if(Cs&&Cs.has(Nt.triggerName)){const Qo=Cs.get(Nt.triggerName);Qo.value=zo,Cs.set(Nt.triggerName,Qo)}}return void at.destroy()}}const Wr=!Pn||!this.driver.containsElement(Pn,kt),$i=ns.get(kt),xs=Zn.get(kt),Di=this._buildInstruction(Nt,N,xs,$i,Wr);if(Di.errors&&Di.errors.length)return void Zr.push(Di);if(Wr)return at.onStart(()=>gr(kt,Di.fromStyles)),at.onDestroy(()=>vi(kt,Di.toStyles)),void K.push(at);if(Nt.isFallbackTransition)return at.onStart(()=>gr(kt,Di.fromStyles)),at.onDestroy(()=>vi(kt,Di.toStyles)),void K.push(at);const aa=[];Di.timelines.forEach(Ti=>{Ti.stretchStartingKeyframe=!0,this.disabledNodes.has(Ti.element)||aa.push(Ti)}),Di.timelines=aa,N.append(kt,Di.timelines),Le.push({instruction:Di,player:at,element:kt}),Di.queriedElements.forEach(Ti=>St(je,Ti,[]).push(at)),Di.preStyleProps.forEach((Ti,zo)=>{if(Ti.size){let Cs=Xe.get(zo);Cs||Xe.set(zo,Cs=new Set),Ti.forEach((Qo,ko)=>Cs.add(ko))}}),Di.postStyleProps.forEach((Ti,zo)=>{let Cs=Lt.get(zo);Cs||Lt.set(zo,Cs=new Set),Ti.forEach((Qo,ko)=>Cs.add(ko))})});if(Zr.length){const Wt=[];Zr.forEach(Yn=>{Wt.push(function Hn($,_){return new U.vHH(3505,!1)}())}),sa.forEach(Yn=>Yn.destroy()),this.reportError(Wt)}const Vi=new Map,Yi=new Map;Le.forEach(Wt=>{const Yn=Wt.element;N.has(Yn)&&(Yi.set(Yn,Yn),this._beforeAnimationBuild(Wt.player.namespaceId,Wt.instruction,Vi))}),K.forEach(Wt=>{const Yn=Wt.element;this._getPreviousPlayers(Yn,!1,Wt.namespaceId,Wt.triggerName,null).forEach(at=>{St(Vi,Yn,[]).push(at),at.destroy()})});const Ws=Jr.filter(Wt=>Lr(Wt,Xe,Lt)),Do=new Map;Oo(Do,this.driver,Ki,Lt,_t.l3).forEach(Wt=>{Lr(Wt,Xe,Lt)&&Ws.push(Wt)});const ui=new Map;Cr.forEach((Wt,Yn)=>{Oo(ui,this.driver,new Set(Wt),Xe,_t.k1)}),Ws.forEach(Wt=>{const Yn=Do.get(Wt),Nt=ui.get(Wt);Do.set(Wt,new Map([...Array.from(Yn?.entries()??[]),...Array.from(Nt?.entries()??[])]))});const li=[],oa=[],xn={};Le.forEach(Wt=>{const{element:Yn,player:Nt,instruction:at}=Wt;if(N.has(Yn)){if(Mn.has(Yn))return Nt.onDestroy(()=>vi(Yn,at.toStyles)),Nt.disabled=!0,Nt.overrideTotalTime(at.totalTime),void K.push(Nt);let kt=xn;if(Yi.size>1){let $i=Yn;const xs=[];for(;$i=$i.parentNode;){const Di=Yi.get($i);if(Di){kt=Di;break}xs.push($i)}xs.forEach(Di=>Yi.set(Di,kt))}const Wr=this._buildAnimation(Nt.namespaceId,at,Vi,se,ui,Do);if(Nt.setRealPlayer(Wr),kt===xn)li.push(Nt);else{const $i=this.playersByElement.get(kt);$i&&$i.length&&(Nt.parentPlayer=Rn($i)),K.push(Nt)}}else gr(Yn,at.fromStyles),Nt.onDestroy(()=>vi(Yn,at.toStyles)),oa.push(Nt),Mn.has(Yn)&&K.push(Nt)}),oa.forEach(Wt=>{const Yn=se.get(Wt.element);if(Yn&&Yn.length){const Nt=Rn(Yn);Wt.setRealPlayer(Nt)}}),K.forEach(Wt=>{Wt.parentPlayer?Wt.syncPlayerEvents(Wt.parentPlayer):Wt.destroy()});for(let Wt=0;Wt<Jr.length;Wt++){const Yn=Jr[Wt],Nt=Yn[Fi];if(k(Yn,fe),Nt&&Nt.hasAnimation)continue;let at=[];if(je.size){let Wr=je.get(Yn);Wr&&Wr.length&&at.push(...Wr);let $i=this.driver.query(Yn,dt,!0);for(let xs=0;xs<$i.length;xs++){let Di=je.get($i[xs]);Di&&Di.length&&at.push(...Di)}}const kt=at.filter(Wr=>!Wr.destroyed);kt.length?M(this,Yn,kt):this.processLeaveNode(Yn)}return Jr.length=0,li.forEach(Wt=>{this.players.push(Wt),Wt.onDone(()=>{Wt.destroy();const Yn=this.players.indexOf(Wt);this.players.splice(Yn,1)}),Wt.play()}),li}elementContainsData(_,E){let N=!1;const K=E[Fi];return K&&K.setForRemoval&&(N=!0),this.playersByElement.has(E)&&(N=!0),this.playersByQueriedElement.has(E)&&(N=!0),this.statesByElement.has(E)&&(N=!0),this._fetchNamespace(_).elementContainsData(E)||N}afterFlush(_){this._flushFns.push(_)}afterFlushAnimationsDone(_){this._whenQuietFns.push(_)}_getPreviousPlayers(_,E,N,K,se){let Le=[];if(E){const je=this.playersByQueriedElement.get(_);je&&(Le=je)}else{const je=this.playersByElement.get(_);if(je){const Xe=!se||se==Gt;je.forEach(Lt=>{Lt.queued||!Xe&&Lt.triggerName!=K||Le.push(Lt)})}}return(N||K)&&(Le=Le.filter(je=>!(N&&N!=je.namespaceId||K&&K!=je.triggerName))),Le}_beforeAnimationBuild(_,E,N){const se=E.element,Le=E.isRemovalTransition?void 0:_,je=E.isRemovalTransition?void 0:E.triggerName;for(const Xe of E.timelines){const Lt=Xe.element,Mn=Lt!==se,Pn=St(N,Lt,[]);this._getPreviousPlayers(Lt,Mn,Le,je,E.toState).forEach(Cr=>{const Zn=Cr.getRealPlayer();Zn.beforeDestroy&&Zn.beforeDestroy(),Cr.destroy(),Pn.push(Cr)})}gr(se,E.fromStyles)}_buildAnimation(_,E,N,K,se,Le){const je=E.triggerName,Xe=E.element,Lt=[],Mn=new Set,Pn=new Set,Rr=E.timelines.map(Zn=>{const ar=Zn.element;Mn.add(ar);const Jr=ar[Fi];if(Jr&&Jr.removedBeforeQueried)return new _t.ZN(Zn.duration,Zn.delay);const Xr=ar!==Xe,Ki=function ne($){const _=[];return gt($,_),_}((N.get(ar)||Ls).map(Vi=>Vi.getRealPlayer())).filter(Vi=>!!Vi.element&&Vi.element===ar),ns=se.get(ar),Ur=Le.get(ar),sa=Et(0,this._normalizer,0,Zn.keyframes,ns,Ur),Zr=this._buildPlayer(Zn,sa,Ki);if(Zn.subTimeline&&K&&Pn.add(ar),Xr){const Vi=new oi(_,je,ar);Vi.setRealPlayer(Zr),Lt.push(Vi)}return Zr});Lt.forEach(Zn=>{St(this.playersByQueriedElement,Zn.element,[]).push(Zn),Zn.onDone(()=>function Us($,_,E){let N=$.get(_);if(N){if(N.length){const K=N.indexOf(E);N.splice(K,1)}0==N.length&&$.delete(_)}return N}(this.playersByQueriedElement,Zn.element,Zn))}),Mn.forEach(Zn=>L(Zn,st));const Cr=Rn(Rr);return Cr.onDestroy(()=>{Mn.forEach(Zn=>k(Zn,st)),vi(Xe,E.toStyles)}),Pn.forEach(Zn=>{St(K,Zn,[]).push(Cr)}),Cr}_buildPlayer(_,E,N){return E.length>0?this.driver.animate(_.element,E,_.duration,_.delay,_.easing,N):new _t.ZN(_.duration,_.delay)}}class oi{constructor(_,E,N){this.namespaceId=_,this.triggerName=E,this.element=N,this._player=new _t.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(_){this._containsRealPlayer||(this._player=_,this._queuedCallbacks.forEach((E,N)=>{E.forEach(K=>Se(_,N,void 0,K))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(_.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(_){this.totalTime=_}syncPlayerEvents(_){const E=this._player;E.triggerCallback&&_.onStart(()=>E.triggerCallback("start")),_.onDone(()=>this.finish()),_.onDestroy(()=>this.destroy())}_queueEvent(_,E){St(this._queuedCallbacks,_,[]).push(E)}onDone(_){this.queued&&this._queueEvent("done",_),this._player.onDone(_)}onStart(_){this.queued&&this._queueEvent("start",_),this._player.onStart(_)}onDestroy(_){this.queued&&this._queueEvent("destroy",_),this._player.onDestroy(_)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(_){this.queued||this._player.setPosition(_)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(_){const E=this._player;E.triggerCallback&&E.triggerCallback(_)}}function Ii($){return $&&1===$.nodeType}function Zs($,_){const E=$.style.display;return $.style.display=_??"none",E}function Oo($,_,E,N,K){const se=[];E.forEach(Xe=>se.push(Zs(Xe)));const Le=[];N.forEach((Xe,Lt)=>{const Mn=new Map;Xe.forEach(Pn=>{const Rr=_.computeStyle(Lt,Pn,K);Mn.set(Pn,Rr),(!Rr||0==Rr.length)&&(Lt[Fi]=ws,Le.push(Lt))}),$.set(Lt,Mn)});let je=0;return E.forEach(Xe=>Zs(Xe,se[je++])),Le}function fo($,_){const E=new Map;if($.forEach(je=>E.set(je,[])),0==_.length)return E;const K=new Set(_),se=new Map;function Le(je){if(!je)return 1;let Xe=se.get(je);if(Xe)return Xe;const Lt=je.parentNode;return Xe=E.has(Lt)?Lt:K.has(Lt)?1:Le(Lt),se.set(je,Xe),Xe}return _.forEach(je=>{const Xe=Le(je);1!==Xe&&E.get(Xe).push(je)}),E}function L($,_){$.classList?.add(_)}function k($,_){$.classList?.remove(_)}function M($,_,E){Rn(E).onDone(()=>$.processLeaveNode(_))}function gt($,_){for(let E=0;E<$.length;E++){const N=$[E];N instanceof _t.ZE?gt(N.players,_):_.push(N)}}function Lr($,_,E){const N=E.get($);if(!N)return!1;let K=_.get($);return K?N.forEach(se=>K.add(se)):_.set($,N),E.delete($),!0}class vr{constructor(_,E,N){this.bodyNode=_,this._driver=E,this._normalizer=N,this._triggerCache={},this.onRemovalComplete=(K,se)=>{},this._transitionEngine=new eo(_,E,N),this._timelineEngine=new xr(_,E,N),this._transitionEngine.onRemovalComplete=(K,se)=>this.onRemovalComplete(K,se)}registerTrigger(_,E,N,K,se){const Le=_+"-"+K;let je=this._triggerCache[Le];if(!je){const Xe=[],Mn=ao(this._driver,se,Xe,[]);if(Xe.length)throw function fr($,_){return new U.vHH(3404,!1)}();je=function Dr($,_,E){return new $n($,_,E)}(K,Mn,this._normalizer),this._triggerCache[Le]=je}this._transitionEngine.registerTrigger(E,K,je)}register(_,E){this._transitionEngine.register(_,E)}destroy(_,E){this._transitionEngine.destroy(_,E)}onInsert(_,E,N,K){this._transitionEngine.insertNode(_,E,N,K)}onRemove(_,E,N,K){this._transitionEngine.removeNode(_,E,K||!1,N)}disableAnimations(_,E){this._transitionEngine.markElementAsDisabled(_,E)}process(_,E,N,K){if("@"==N.charAt(0)){const[se,Le]=Qt(N);this._timelineEngine.command(se,E,Le,K)}else this._transitionEngine.trigger(_,E,N,K)}listen(_,E,N,K,se){if("@"==N.charAt(0)){const[Le,je]=Qt(N);return this._timelineEngine.listen(Le,E,je,se)}return this._transitionEngine.listen(_,E,N,K,se)}flush(_=-1){this._transitionEngine.flush(_)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Ms=(()=>{class ${constructor(E,N,K){this._element=E,this._startStyles=N,this._endStyles=K,this._state=0;let se=$.initialStylesByElement.get(E);se||$.initialStylesByElement.set(E,se=new Map),this._initialStyles=se}start(){this._state<1&&(this._startStyles&&vi(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(vi(this._element,this._initialStyles),this._endStyles&&(vi(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&($.initialStylesByElement.delete(this._element),this._startStyles&&(gr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(gr(this._element,this._endStyles),this._endStyles=null),vi(this._element,this._initialStyles),this._state=3)}}return $.initialStylesByElement=new WeakMap,$})();function bo($){let _=null;return $.forEach((E,N)=>{(function po($){return"display"===$||"position"===$})(N)&&(_=_||new Map,_.set(N,E))}),_}class No{constructor(_,E,N,K){this.element=_,this.keyframes=E,this.options=N,this._specialStyles=K,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=N.duration,this._delay=N.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(_=>_()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const _=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,_,this.options),this._finalKeyframe=_.length?_[_.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(_){const E=[];return _.forEach(N=>{E.push(Object.fromEntries(N))}),E}_triggerWebAnimation(_,E,N){return _.animate(this._convertKeyframesToObject(E),N)}onStart(_){this._originalOnStartFns.push(_),this._onStartFns.push(_)}onDone(_){this._originalOnDoneFns.push(_),this._onDoneFns.push(_)}onDestroy(_){this._onDestroyFns.push(_)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(_=>_()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(_=>_()),this._onDestroyFns=[])}setPosition(_){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=_*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const _=new Map;this.hasStarted()&&this._finalKeyframe.forEach((N,K)=>{"offset"!==K&&_.set(K,this._finished?N:Mt(this.element,K))}),this.currentSnapshot=_}triggerCallback(_){const E="start"===_?this._onStartFns:this._onDoneFns;E.forEach(N=>N()),E.length=0}}class $o{validateStyleProperty(_){return!0}validateAnimatableStyleProperty(_){return!0}matchesElement(_,E){return!1}containsElement(_,E){return ce(_,E)}getParentElement(_){return we(_)}query(_,E,N){return Oe(_,E,N)}computeStyle(_,E,N){return window.getComputedStyle(_)[E]}animate(_,E,N,K,se,Le=[]){const Xe={duration:N,delay:K,fill:0==K?"both":"forwards"};se&&(Xe.easing=se);const Lt=new Map,Mn=Le.filter(Cr=>Cr instanceof No);(function Je($,_){return 0===$||0===_})(N,K)&&Mn.forEach(Cr=>{Cr.currentSnapshot.forEach((Zn,ar)=>Lt.set(ar,Zn))});let Pn=function Zi($){return $.length?$[0]instanceof Map?$:$.map(_=>bn(_)):[]}(E).map(Cr=>_i(Cr));Pn=function Ke($,_,E){if(E.size&&_.length){let N=_[0],K=[];if(E.forEach((se,Le)=>{N.has(Le)||K.push(Le),N.set(Le,se)}),K.length)for(let se=1;se<_.length;se++){let Le=_[se];K.forEach(je=>Le.set(je,Mt($,je)))}}return _}(_,Pn,Lt);const Rr=function bs($,_){let E=null,N=null;return Array.isArray(_)&&_.length?(E=bo(_[0]),_.length>1&&(N=bo(_[_.length-1]))):_ instanceof Map&&(E=bo(_)),E||N?new Ms($,E,N):null}(_,Pn);return new No(_,Pn,Xe,Rr)}}let ia=(()=>{class $ extends _t._j{constructor(E,N){super(),this._nextAnimationId=0,this._renderer=E.createRenderer(N.body,{id:"0",encapsulation:U.ifc.None,styles:[],data:{animation:[]}})}build(E){const N=this._nextAnimationId.toString();this._nextAnimationId++;const K=Array.isArray(E)?(0,_t.vP)(E):E;return Is(this._renderer,null,N,"register",[K]),new Io(N,this._renderer)}}return $.\u0275fac=function(E){return new(E||$)(U.LFG(U.FYo),U.LFG(Pt.K0))},$.\u0275prov=U.Yz7({token:$,factory:$.\u0275fac}),$})();class Io extends _t.LC{constructor(_,E){super(),this._id=_,this._renderer=E}create(_,E){return new pa(this._id,_,E||{},this._renderer)}}class pa{constructor(_,E,N,K){this.id=_,this.element=E,this._renderer=K,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",N)}_listen(_,E){return this._renderer.listen(this.element,`@@${this.id}:${_}`,E)}_command(_,...E){return Is(this._renderer,this.element,this.id,_,E)}onDone(_){this._listen("done",_)}onStart(_){this._listen("start",_)}onDestroy(_){this._listen("destroy",_)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(_){this._command("setPosition",_)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Is($,_,E,N,K){return $.setProperty(_,`@@${E}:${N}`,K)}const Co="@.disabled";let ga=(()=>{class ${constructor(E,N,K){this.delegate=E,this.engine=N,this._zone=K,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),N.onRemovalComplete=(se,Le)=>{const je=Le?.parentNode(se);je&&Le.removeChild(je,se)}}createRenderer(E,N){const se=this.delegate.createRenderer(E,N);if(!(E&&N&&N.data&&N.data.animation)){let Mn=this._rendererCache.get(se);return Mn||(Mn=new S("",se,this.engine),this._rendererCache.set(se,Mn)),Mn}const Le=N.id,je=N.id+"-"+this._currentId;this._currentId++,this.engine.register(je,E);const Xe=Mn=>{Array.isArray(Mn)?Mn.forEach(Xe):this.engine.registerTrigger(Le,je,E,Mn.name,Mn)};return N.data.animation.forEach(Xe),new G(this,je,se,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(E,N,K){E>=0&&E<this._microtaskId?this._zone.run(()=>N(K)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(se=>{const[Le,je]=se;Le(je)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([N,K]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return $.\u0275fac=function(E){return new(E||$)(U.LFG(U.FYo),U.LFG(vr),U.LFG(U.R0b))},$.\u0275prov=U.Yz7({token:$,factory:$.\u0275fac}),$})();class S{constructor(_,E,N){this.namespaceId=_,this.delegate=E,this.engine=N,this.destroyNode=this.delegate.destroyNode?K=>E.destroyNode(K):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(_,E){return this.delegate.createElement(_,E)}createComment(_){return this.delegate.createComment(_)}createText(_){return this.delegate.createText(_)}appendChild(_,E){this.delegate.appendChild(_,E),this.engine.onInsert(this.namespaceId,E,_,!1)}insertBefore(_,E,N,K=!0){this.delegate.insertBefore(_,E,N),this.engine.onInsert(this.namespaceId,E,_,K)}removeChild(_,E,N){this.engine.onRemove(this.namespaceId,E,this.delegate,N)}selectRootElement(_,E){return this.delegate.selectRootElement(_,E)}parentNode(_){return this.delegate.parentNode(_)}nextSibling(_){return this.delegate.nextSibling(_)}setAttribute(_,E,N,K){this.delegate.setAttribute(_,E,N,K)}removeAttribute(_,E,N){this.delegate.removeAttribute(_,E,N)}addClass(_,E){this.delegate.addClass(_,E)}removeClass(_,E){this.delegate.removeClass(_,E)}setStyle(_,E,N,K){this.delegate.setStyle(_,E,N,K)}removeStyle(_,E,N){this.delegate.removeStyle(_,E,N)}setProperty(_,E,N){"@"==E.charAt(0)&&E==Co?this.disableAnimations(_,!!N):this.delegate.setProperty(_,E,N)}setValue(_,E){this.delegate.setValue(_,E)}listen(_,E,N){return this.delegate.listen(_,E,N)}disableAnimations(_,E){this.engine.disableAnimations(_,E)}}class G extends S{constructor(_,E,N,K){super(E,N,K),this.factory=_,this.namespaceId=E}setProperty(_,E,N){"@"==E.charAt(0)?"."==E.charAt(1)&&E==Co?this.disableAnimations(_,N=void 0===N||!!N):this.engine.process(this.namespaceId,_,E.slice(1),N):this.delegate.setProperty(_,E,N)}listen(_,E,N){if("@"==E.charAt(0)){const K=function O($){switch($){case"body":return document.body;case"document":return document;case"window":return window;default:return $}}(_);let se=E.slice(1),Le="";return"@"!=se.charAt(0)&&([se,Le]=function te($){const _=$.indexOf(".");return[$.substring(0,_),$.slice(_+1)]}(se)),this.engine.listen(this.namespaceId,K,se,Le,je=>{this.factory.scheduleListenerCallback(je._data||-1,N,je)})}return this.delegate.listen(_,E,N)}}const Nn=[{provide:_t._j,useClass:ia},{provide:Y,useFactory:function vt(){return new Fe}},{provide:vr,useClass:(()=>{class $ extends vr{constructor(E,N,K,se){super(E.body,N,K)}ngOnDestroy(){this.flush()}}return $.\u0275fac=function(E){return new(E||$)(U.LFG(Pt.K0),U.LFG(ie),U.LFG(Y),U.LFG(U.z2F))},$.\u0275prov=U.Yz7({token:$,factory:$.\u0275fac}),$})()},{provide:U.FYo,useFactory:function Rt($,_,E){return new ga($,_,E)},deps:[c.se,vr,U.R0b]}],_r=[{provide:ie,useFactory:()=>new $o},{provide:U.QbO,useValue:"BrowserAnimations"},...Nn],Br=[{provide:ie,useClass:Z},{provide:U.QbO,useValue:"NoopAnimations"},...Nn];let jr=(()=>{class ${static withConfig(E){return{ngModule:$,providers:E.disableAnimations?Br:_r}}}return $.\u0275fac=function(E){return new(E||$)},$.\u0275mod=U.oAB({type:$}),$.\u0275inj=U.cJS({providers:_r,imports:[c.b2]}),$})(),ni=(()=>{class ${}return $.\u0275fac=function(E){return new(E||$)},$.\u0275mod=U.oAB({type:$,bootstrap:[Qe]}),$.\u0275inj=U.cJS({imports:[c.b2,tt,ge.hO.initializeApp(ze_firebase),He.ww,ot.yb,Tt,Bt.PublicModule,jr]}),$})();(0,U.G48)(),c.q6().bootstrapModule(ni).catch($=>console.error($))},5867:(tn,et,P)=>{P.d(et,{C6:()=>c.getApps,Mq:()=>c.getApp});var c=P(9681);(0,c.registerVersion)("firebase","9.12.1","app")},127:(tn,et,P)=>{P.d(et,{Z:()=>c.Z});var c=P(3942);c.Z.registerVersion("firebase","9.12.1","app-compat")},5881:(tn,et,P)=>{P.r(et);var c=P(5861),U=P(3942),j=P(7573),pe=P(2090),ke=(P(9681),P(1877),P(4859));function Pe(){return window}function Q(){return(Q=(0,c.Z)(function*(ue,Z,ie){var Be;const{BuildInfo:xt}=Pe();(0,j.aq)(Z.sessionId,"AuthEvent did not contain a session ID");const rn=yield Ge(Z.sessionId),sn={};return(0,j.ar)()?sn.ibi=xt.packageName:(0,j.as)()?sn.apn=xt.packageName:(0,j.at)(ue,"operation-not-supported-in-this-environment"),xt.displayName&&(sn.appDisplayName=xt.displayName),sn.sessionId=rn,(0,j.au)(ue,ie,Z.type,void 0,null!==(Be=Z.eventId)&&void 0!==Be?Be:void 0,sn)})).apply(this,arguments)}function tt(){return(tt=(0,c.Z)(function*(ue){const{BuildInfo:Z}=Pe(),ie={};(0,j.ar)()?ie.iosBundleId=Z.packageName:(0,j.as)()?ie.androidPackageName=Z.packageName:(0,j.at)(ue,"operation-not-supported-in-this-environment"),yield(0,j.av)(ue,ie)})).apply(this,arguments)}function Pt(){return(Pt=(0,c.Z)(function*(ue,Z,ie){const{cordova:Be}=Pe();let xt=()=>{};try{yield new Promise((rn,sn)=>{let fe=null;function de(){var dt;rn();const on=null===(dt=Be.plugins.browsertab)||void 0===dt?void 0:dt.close;"function"==typeof on&&on(),"function"==typeof ie?.close&&ie.close()}function he(){fe||(fe=window.setTimeout(()=>{sn((0,j.aw)(ue,"redirect-cancelled-by-user"))},2e3))}function st(){"visible"===document?.visibilityState&&he()}Z.addPassiveListener(de),document.addEventListener("resume",he,!1),(0,j.as)()&&document.addEventListener("visibilitychange",st,!1),xt=()=>{Z.removePassiveListener(de),document.removeEventListener("resume",he,!1),document.removeEventListener("visibilitychange",st,!1),fe&&window.clearTimeout(fe)}})}finally{xt()}})).apply(this,arguments)}function Ge(ue){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,c.Z)(function*(ue){const Z=Bt(ue),ie=yield crypto.subtle.digest("SHA-256",Z);return Array.from(new Uint8Array(ie)).map(xt=>xt.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Bt(ue){if((0,j.aq)(/[0-9a-zA-Z]+/.test(ue),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(ue);const Z=new ArrayBuffer(ue.length),ie=new Uint8Array(Z);for(let Be=0;Be<ue.length;Be++)ie[Be]=ue.charCodeAt(Be);return ie}class He extends j.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(Z=>{this.resolveInialized=Z})}addPassiveListener(Z){this.passiveListeners.add(Z)}removePassiveListener(Z){this.passiveListeners.delete(Z)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(Z){return this.resolveInialized(),this.passiveListeners.forEach(ie=>ie(Z)),super.onEvent(Z)}initialized(){var Z=this;return(0,c.Z)(function*(){yield Z.initPromise})()}}function Re(ue){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,c.Z)(function*(ue){const Z=yield Ve()._get(xe(ue));return Z&&(yield Ve()._remove(xe(ue))),Z})).apply(this,arguments)}function _e(){const ue=[],Z="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let ie=0;ie<20;ie++){const Be=Math.floor(Math.random()*Z.length);ue.push(Z.charAt(Be))}return ue.join("")}function Ve(){return(0,j.ay)(j.b)}function xe(ue){return(0,j.az)("authEvent",ue.config.apiKey,ue.name)}function jt(ue){if(!ue?.includes("?"))return{};const[Z,...ie]=ue.split("?");return(0,pe.zd)(ie.join("?"))}function Ot(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,j.aw)("no-auth-event")}}function wt(){var ue;return(null===(ue=self?.location)||void 0===ue?void 0:ue.protocol)||null}function Fn(ue=(0,pe.z$)()){return!("file:"!==wt()&&"ionic:"!==wt()&&"capacitor:"!==wt()||!ue.toLowerCase().match(/iphone|ipad|ipod|android/))}function fr(){try{const ue=self.localStorage,Z=j.aI();if(ue)return ue.setItem(Z,"1"),ue.removeItem(Z),!function Kn(ue=(0,pe.z$)()){return function Wn(){return(0,pe.w1)()&&11===document?.documentMode}()||function nr(ue=(0,pe.z$)()){return/Edge\/\d+/.test(ue)}(ue)}()||(0,pe.hl)()}catch{return cn()&&(0,pe.hl)()}return!1}function cn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function rr(){return(function Xt(){return"http:"===wt()||"https:"===wt()}()||(0,pe.ru)()||Fn())&&!function sr(){return(0,pe.b$)()||(0,pe.UG)()}()&&fr()&&!cn()}function br(){return Fn()&&typeof document<"u"}function Ut(){return(Ut=(0,c.Z)(function*(){return!!br()&&new Promise(ue=>{const Z=setTimeout(()=>{ue(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(Z),ue(!0)})})})).apply(this,arguments)}const Ln={LOCAL:"local",NONE:"none",SESSION:"session"},jn=j.ax,pr="persistence";function Ar(ue){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,c.Z)(function*(ue){yield ue._initializationPromise;const Z=yn(),ie=j.az(pr,ue.config.apiKey,ue.name);Z&&Z.setItem(ie,ue._getPersistence())})).apply(this,arguments)}function yn(){var ue;try{return(null===(ue=function or(){return typeof window<"u"?window:null}())||void 0===ue?void 0:ue.sessionStorage)||null}catch{return null}}const mn=j.ax;class Rn{constructor(){this.browserResolver=j.ay(j.k),this.cordovaResolver=j.ay(class nn{constructor(){this._redirectPersistence=j.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=j.aB,this._overrideRedirectResult=j.aC}_initialize(Z){var ie=this;return(0,c.Z)(function*(){const Be=Z._key();let xt=ie.eventManagers.get(Be);return xt||(xt=new He(Z),ie.eventManagers.set(Be,xt),ie.attachCallbackListeners(Z,xt)),xt})()}_openPopup(Z){(0,j.at)(Z,"operation-not-supported-in-this-environment")}_openRedirect(Z,ie,Be,xt){var rn=this;return(0,c.Z)(function*(){!function We(ue){var Z,ie,Be,xt,rn,sn,fe,de,he,st;const dt=Pe();(0,j.ax)("function"==typeof(null===(Z=dt?.universalLinks)||void 0===Z?void 0:Z.subscribe),ue,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,j.ax)(typeof(null===(ie=dt?.BuildInfo)||void 0===ie?void 0:ie.packageName)<"u",ue,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,j.ax)("function"==typeof(null===(rn=null===(xt=null===(Be=dt?.cordova)||void 0===Be?void 0:Be.plugins)||void 0===xt?void 0:xt.browsertab)||void 0===rn?void 0:rn.openUrl),ue,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,j.ax)("function"==typeof(null===(de=null===(fe=null===(sn=dt?.cordova)||void 0===sn?void 0:sn.plugins)||void 0===fe?void 0:fe.browsertab)||void 0===de?void 0:de.isAvailable),ue,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,j.ax)("function"==typeof(null===(st=null===(he=dt?.cordova)||void 0===he?void 0:he.InAppBrowser)||void 0===st?void 0:st.open),ue,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(Z);const sn=yield rn._initialize(Z);yield sn.initialized(),sn.resetRedirect(),(0,j.aD)(),yield rn._originValidation(Z);const fe=function ot(ue,Z,ie=null){return{type:Z,eventId:ie,urlResponse:null,sessionId:_e(),postBody:null,tenantId:ue.tenantId,error:(0,j.aw)(ue,"no-auth-event")}}(Z,Be,xt);yield function _t(ue,Z){return Ve()._set(xe(ue),Z)}(Z,fe);const de=yield function q(ue,Z,ie){return Q.apply(this,arguments)}(Z,fe,ie),he=yield function Qe(ue){const{cordova:Z}=Pe();return new Promise(ie=>{Z.plugins.browsertab.isAvailable(Be=>{let xt=null;Be?Z.plugins.browsertab.openUrl(ue):xt=Z.InAppBrowser.open(ue,(0,j.ap)()?"_blank":"_system","location=yes"),ie(xt)})})}(de);return function ze(ue,Z,ie){return Pt.apply(this,arguments)}(Z,sn,he)})()}_isIframeWebStorageSupported(Z,ie){throw new Error("Method not implemented.")}_originValidation(Z){const ie=Z._key();return this.originValidationPromises[ie]||(this.originValidationPromises[ie]=function me(ue){return tt.apply(this,arguments)}(Z)),this.originValidationPromises[ie]}attachCallbackListeners(Z,ie){const{universalLinks:Be,handleOpenURL:xt,BuildInfo:rn}=Pe(),sn=setTimeout((0,c.Z)(function*(){yield Re(Z),ie.onEvent(Ot())}),500),fe=function(){var st=(0,c.Z)(function*(dt){clearTimeout(sn);const on=yield Re(Z);let zn=null;on&&dt?.url&&(zn=function rt(ue,Z){var ie,Be;const xt=function Ft(ue){const Z=jt(ue),ie=Z.link?decodeURIComponent(Z.link):void 0,Be=jt(ie).link,xt=Z.deep_link_id?decodeURIComponent(Z.deep_link_id):void 0;return jt(xt).link||xt||Be||ie||ue}(Z);if(xt.includes("/__/auth/callback")){const rn=jt(xt),sn=rn.firebaseError?function $e(ue){try{return JSON.parse(ue)}catch{return null}}(decodeURIComponent(rn.firebaseError)):null,fe=null===(Be=null===(ie=sn?.code)||void 0===ie?void 0:ie.split("auth/"))||void 0===Be?void 0:Be[1],de=fe?(0,j.aw)(fe):null;return de?{type:ue.type,eventId:ue.eventId,tenantId:ue.tenantId,error:de,urlResponse:null,sessionId:null,postBody:null}:{type:ue.type,eventId:ue.eventId,tenantId:ue.tenantId,sessionId:ue.sessionId,urlResponse:xt,postBody:null}}return null}(on,dt.url)),ie.onEvent(zn||Ot())});return function(on){return st.apply(this,arguments)}}();typeof Be<"u"&&"function"==typeof Be.subscribe&&Be.subscribe(null,fe);const de=xt,he=`${rn.packageName.toLowerCase()}://`;Pe().handleOpenURL=function(){var st=(0,c.Z)(function*(dt){if(dt.toLowerCase().startsWith(he)&&fe({url:dt}),"function"==typeof de)try{de(dt)}catch(on){console.error(on)}});return function(dt){return st.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=j.a,this._completeRedirectFn=j.aB,this._overrideRedirectResult=j.aC}_initialize(Z){var ie=this;return(0,c.Z)(function*(){return yield ie.selectUnderlyingResolver(),ie.assertedUnderlyingResolver._initialize(Z)})()}_openPopup(Z,ie,Be,xt){var rn=this;return(0,c.Z)(function*(){return yield rn.selectUnderlyingResolver(),rn.assertedUnderlyingResolver._openPopup(Z,ie,Be,xt)})()}_openRedirect(Z,ie,Be,xt){var rn=this;return(0,c.Z)(function*(){return yield rn.selectUnderlyingResolver(),rn.assertedUnderlyingResolver._openRedirect(Z,ie,Be,xt)})()}_isIframeWebStorageSupported(Z,ie){this.assertedUnderlyingResolver._isIframeWebStorageSupported(Z,ie)}_originValidation(Z){return this.assertedUnderlyingResolver._originValidation(Z)}get _shouldInitProactively(){return br()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return mn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var Z=this;return(0,c.Z)(function*(){if(Z.underlyingResolver)return;const ie=yield function dr(){return Ut.apply(this,arguments)}();Z.underlyingResolver=ie?Z.cordovaResolver:Z.browserResolver})()}}function Et(ue){return ue.unwrap()}function Ue(ue){return St(ue)}function St(ue){const{_tokenResponse:Z}=ue instanceof pe.ZR?ue.customData:ue;if(!Z)return null;if(!(ue instanceof pe.ZR)&&"temporaryProof"in Z&&"phoneNumber"in Z)return j.P.credentialFromResult(ue);const ie=Z.providerId;if(!ie||ie===j.o.PASSWORD)return null;let Be;switch(ie){case j.o.GOOGLE:Be=j.Q;break;case j.o.FACEBOOK:Be=j.N;break;case j.o.GITHUB:Be=j.T;break;case j.o.TWITTER:Be=j.W;break;default:const{oauthIdToken:xt,oauthAccessToken:rn,oauthTokenSecret:sn,pendingToken:fe,nonce:de}=Z;return rn||sn||xt||fe?fe?ie.startsWith("saml.")?j.aL._create(ie,fe):j.J._fromParams({providerId:ie,signInMethod:ie,pendingToken:fe,idToken:xt,accessToken:rn}):new j.U(ie).credential({idToken:xt,accessToken:rn,rawNonce:de}):null}return ue instanceof pe.ZR?Be.credentialFromError(ue):Be.credentialFromResult(ue)}function Qt(ue,Z){return Z.catch(ie=>{throw ie instanceof pe.ZR&&function yt(ue,Z){var ie,Be;const xt=null===(ie=Z.customData)||void 0===ie?void 0:ie._tokenResponse;if("auth/multi-factor-auth-required"===(null===(Be=Z)||void 0===Be?void 0:Be.code))Z.resolver=new Sn(ue,j.an(ue,Z));else if(xt){const rn=St(Z),sn=Z;rn&&(sn.credential=rn,sn.tenantId=xt.tenantId||void 0,sn.email=xt.email||void 0,sn.phoneNumber=xt.phoneNumber||void 0)}}(ue,ie),ie}).then(ie=>{const xt=ie.user;return{operationType:ie.operationType,credential:Ue(ie),additionalUserInfo:j.al(ie),user:we.getOrCreate(xt)}})}function Xn(ue,Z){return ln.apply(this,arguments)}function ln(){return(ln=(0,c.Z)(function*(ue,Z){const ie=yield Z;return{verificationId:ie.verificationId,confirm:Be=>Qt(ue,ie.confirm(Be))}})).apply(this,arguments)}class Sn{constructor(Z,ie){this.resolver=ie,this.auth=function Se(ue){return ue.wrapped()}(Z)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(Z){return Qt(Et(this.auth),this.resolver.resolveSignIn(Z))}}class we{constructor(Z){this._delegate=Z,this.multiFactor=j.ao(Z)}static getOrCreate(Z){return we.USER_MAP.has(Z)||we.USER_MAP.set(Z,new we(Z)),we.USER_MAP.get(Z)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(Z){return this._delegate.getIdTokenResult(Z)}getIdToken(Z){return this._delegate.getIdToken(Z)}linkAndRetrieveDataWithCredential(Z){return this.linkWithCredential(Z)}linkWithCredential(Z){var ie=this;return(0,c.Z)(function*(){return Qt(ie.auth,j.Z(ie._delegate,Z))})()}linkWithPhoneNumber(Z,ie){var Be=this;return(0,c.Z)(function*(){return Xn(Be.auth,j.l(Be._delegate,Z,ie))})()}linkWithPopup(Z){var ie=this;return(0,c.Z)(function*(){return Qt(ie.auth,j.d(ie._delegate,Z,Rn))})()}linkWithRedirect(Z){var ie=this;return(0,c.Z)(function*(){return yield Ar(j.aE(ie.auth)),j.g(ie._delegate,Z,Rn)})()}reauthenticateAndRetrieveDataWithCredential(Z){return this.reauthenticateWithCredential(Z)}reauthenticateWithCredential(Z){var ie=this;return(0,c.Z)(function*(){return Qt(ie.auth,j._(ie._delegate,Z))})()}reauthenticateWithPhoneNumber(Z,ie){return Xn(this.auth,j.r(this._delegate,Z,ie))}reauthenticateWithPopup(Z){return Qt(this.auth,j.e(this._delegate,Z,Rn))}reauthenticateWithRedirect(Z){var ie=this;return(0,c.Z)(function*(){return yield Ar(j.aE(ie.auth)),j.h(ie._delegate,Z,Rn)})()}sendEmailVerification(Z){return j.ab(this._delegate,Z)}unlink(Z){var ie=this;return(0,c.Z)(function*(){return yield j.ak(ie._delegate,Z),ie})()}updateEmail(Z){return j.ag(this._delegate,Z)}updatePassword(Z){return j.ah(this._delegate,Z)}updatePhoneNumber(Z){return j.u(this._delegate,Z)}updateProfile(Z){return j.af(this._delegate,Z)}verifyBeforeUpdateEmail(Z,ie){return j.ac(this._delegate,Z,ie)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}we.USER_MAP=new WeakMap;const lt=j.ax;let le=(()=>{class ue{constructor(ie,Be){if(this.app=ie,Be.isInitialized())return this._delegate=Be.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:xt}=ie.options;lt(xt,"invalid-api-key",{appName:ie.name}),lt(xt,"invalid-api-key",{appName:ie.name});const rn=typeof window<"u"?Rn:void 0;this._delegate=Be.initialize({options:{persistence:ut(xt,ie.name),popupRedirectResolver:rn}}),this._delegate._updateErrorMap(j.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?we.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(ie){this._delegate.languageCode=ie}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(ie){this._delegate.tenantId=ie}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(ie,Be){j.G(this._delegate,ie,Be)}applyActionCode(ie){return j.a2(this._delegate,ie)}checkActionCode(ie){return j.a3(this._delegate,ie)}confirmPasswordReset(ie,Be){return j.a1(this._delegate,ie,Be)}createUserWithEmailAndPassword(ie,Be){var xt=this;return(0,c.Z)(function*(){return Qt(xt._delegate,j.a5(xt._delegate,ie,Be))})()}fetchProvidersForEmail(ie){return this.fetchSignInMethodsForEmail(ie)}fetchSignInMethodsForEmail(ie){return j.aa(this._delegate,ie)}isSignInWithEmailLink(ie){return j.a8(this._delegate,ie)}getRedirectResult(){var ie=this;return(0,c.Z)(function*(){lt(rr(),ie._delegate,"operation-not-supported-in-this-environment");const Be=yield j.j(ie._delegate,Rn);return Be?Qt(ie._delegate,Promise.resolve(Be)):{credential:null,user:null}})()}addFrameworkForLogging(ie){!function vn(ue,Z){(0,j.aE)(ue)._logFramework(Z)}(this._delegate,ie)}onAuthStateChanged(ie,Be,xt){const{next:rn,error:sn,complete:fe}=ve(ie,Be,xt);return this._delegate.onAuthStateChanged(rn,sn,fe)}onIdTokenChanged(ie,Be,xt){const{next:rn,error:sn,complete:fe}=ve(ie,Be,xt);return this._delegate.onIdTokenChanged(rn,sn,fe)}sendSignInLinkToEmail(ie,Be){return j.a7(this._delegate,ie,Be)}sendPasswordResetEmail(ie,Be){return j.a0(this._delegate,ie,Be||void 0)}setPersistence(ie){var Be=this;return(0,c.Z)(function*(){let xt;switch(function Pi(ue,Z){jn(Object.values(Ln).includes(Z),ue,"invalid-persistence-type"),(0,pe.b$)()?jn(Z!==Ln.SESSION,ue,"unsupported-persistence-type"):(0,pe.UG)()?jn(Z===Ln.NONE,ue,"unsupported-persistence-type"):cn()?jn(Z===Ln.NONE||Z===Ln.LOCAL&&(0,pe.hl)(),ue,"unsupported-persistence-type"):jn(Z===Ln.NONE||fr(),ue,"unsupported-persistence-type")}(Be._delegate,ie),ie){case Ln.SESSION:xt=j.a;break;case Ln.LOCAL:xt=(yield j.ay(j.i)._isAvailable())?j.i:j.b;break;case Ln.NONE:xt=j.L;break;default:return j.at("argument-error",{appName:Be._delegate.name})}return Be._delegate.setPersistence(xt)})()}signInAndRetrieveDataWithCredential(ie){return this.signInWithCredential(ie)}signInAnonymously(){return Qt(this._delegate,j.X(this._delegate))}signInWithCredential(ie){return Qt(this._delegate,j.Y(this._delegate,ie))}signInWithCustomToken(ie){return Qt(this._delegate,j.$(this._delegate,ie))}signInWithEmailAndPassword(ie,Be){return Qt(this._delegate,j.a6(this._delegate,ie,Be))}signInWithEmailLink(ie,Be){return Qt(this._delegate,j.a9(this._delegate,ie,Be))}signInWithPhoneNumber(ie,Be){return Xn(this._delegate,j.s(this._delegate,ie,Be))}signInWithPopup(ie){var Be=this;return(0,c.Z)(function*(){return lt(rr(),Be._delegate,"operation-not-supported-in-this-environment"),Qt(Be._delegate,j.c(Be._delegate,ie,Rn))})()}signInWithRedirect(ie){var Be=this;return(0,c.Z)(function*(){return lt(rr(),Be._delegate,"operation-not-supported-in-this-environment"),yield Ar(Be._delegate),j.f(Be._delegate,ie,Rn)})()}updateCurrentUser(ie){return this._delegate.updateCurrentUser(ie)}verifyPasswordResetCode(ie){return j.a4(this._delegate,ie)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return ue.Persistence=Ln,ue})();function ve(ue,Z,ie){let Be=ue;"function"!=typeof ue&&({next:Be,error:Z,complete:ie}=ue);const xt=Be;return{next:sn=>xt(sn&&we.getOrCreate(sn)),error:Z,complete:ie}}function ut(ue,Z){const ie=function qn(ue,Z){const ie=yn();if(!ie)return[];const Be=j.az(pr,ue,Z);switch(ie.getItem(Be)){case Ln.NONE:return[j.L];case Ln.LOCAL:return[j.i,j.a];case Ln.SESSION:return[j.a];default:return[]}}(ue,Z);if(typeof self<"u"&&!ie.includes(j.i)&&ie.push(j.i),typeof window<"u")for(const Be of[j.b,j.a])ie.includes(Be)||ie.push(Be);return ie.includes(j.L)||ie.push(j.L),ie}class It{constructor(){this.providerId="phone",this._delegate=new j.P(Et(U.Z.auth()))}static credential(Z,ie){return j.P.credential(Z,ie)}verifyPhoneNumber(Z,ie){return this._delegate.verifyPhoneNumber(Z,ie)}unwrap(){return this._delegate}}It.PHONE_SIGN_IN_METHOD=j.P.PHONE_SIGN_IN_METHOD,It.PROVIDER_ID=j.P.PROVIDER_ID;const pn=j.ax;class De{constructor(Z,ie,Be=U.Z.app()){var xt;pn(null===(xt=Be.options)||void 0===xt?void 0:xt.apiKey,"invalid-api-key",{appName:Be.name}),this._delegate=new j.R(Z,ie,Be.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Oe(ue){ue.INTERNAL.registerComponent(new ke.wA("auth-compat",Z=>{const ie=Z.getProvider("app-compat").getImmediate(),Be=Z.getProvider("auth");return new le(ie,Be)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:j.A.EMAIL_SIGNIN,PASSWORD_RESET:j.A.PASSWORD_RESET,RECOVER_EMAIL:j.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:j.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:j.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:j.A.VERIFY_EMAIL}},EmailAuthProvider:j.M,FacebookAuthProvider:j.N,GithubAuthProvider:j.T,GoogleAuthProvider:j.Q,OAuthProvider:j.U,SAMLAuthProvider:j.V,PhoneAuthProvider:It,PhoneMultiFactorGenerator:j.m,RecaptchaVerifier:De,TwitterAuthProvider:j.W,Auth:le,AuthCredential:j.H,Error:pe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ue.registerVersion("@firebase/auth-compat","0.2.23")}(U.Z)},8210:(tn,et,P)=>{P.d(et,{Jt:()=>c.Jt,KV:()=>c.KV,cF:()=>c.cF,iH:()=>c.iH});var c=P(6961)},9751:(tn,et,P)=>{P.d(et,{y:()=>Pe});var c=P(2961),U=P(727),j=P(8822),pe=P(9635),m=P(2416),Te=P(576),ke=P(2806);let Pe=(()=>{class me{constructor(Qe){Qe&&(this._subscribe=Qe)}lift(Qe){const ze=new me;return ze.source=this,ze.operator=Qe,ze}subscribe(Qe,ze,Pt){const We=function Q(me){return me&&me instanceof c.Lv||function q(me){return me&&(0,Te.m)(me.next)&&(0,Te.m)(me.error)&&(0,Te.m)(me.complete)}(me)&&(0,U.Nn)(me)}(Qe)?Qe:new c.Hp(Qe,ze,Pt);return(0,ke.x)(()=>{const{operator:Ge,source:Tt}=this;We.add(Ge?Ge.call(We,Tt):Tt?this._subscribe(We):this._trySubscribe(We))}),We}_trySubscribe(Qe){try{return this._subscribe(Qe)}catch(ze){Qe.error(ze)}}forEach(Qe,ze){return new(ze=Ae(ze))((Pt,We)=>{const Ge=new c.Hp({next:Tt=>{try{Qe(Tt)}catch(Bt){We(Bt),Ge.unsubscribe()}},error:We,complete:Pt});this.subscribe(Ge)})}_subscribe(Qe){var ze;return null===(ze=this.source)||void 0===ze?void 0:ze.subscribe(Qe)}[j.L](){return this}pipe(...Qe){return(0,pe.U)(Qe)(this)}toPromise(Qe){return new(Qe=Ae(Qe))((ze,Pt)=>{let We;this.subscribe(Ge=>We=Ge,Ge=>Pt(Ge),()=>ze(We))})}}return me.create=tt=>new me(tt),me})();function Ae(me){var tt;return null!==(tt=me??m.v.Promise)&&void 0!==tt?tt:Promise}},7579:(tn,et,P)=>{P.d(et,{x:()=>ke});var c=P(9751),U=P(727);const pe=(0,P(3888).d)(Ae=>function(){Ae(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var m=P(8737),Te=P(2806);let ke=(()=>{class Ae extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Q){const me=new Pe(this,this);return me.operator=Q,me}_throwIfClosed(){if(this.closed)throw new pe}next(Q){(0,Te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const me of this.currentObservers)me.next(Q)}})}error(Q){(0,Te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Q;const{observers:me}=this;for(;me.length;)me.shift().error(Q)}})}complete(){(0,Te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Q}=this;for(;Q.length;)Q.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Q;return(null===(Q=this.observers)||void 0===Q?void 0:Q.length)>0}_trySubscribe(Q){return this._throwIfClosed(),super._trySubscribe(Q)}_subscribe(Q){return this._throwIfClosed(),this._checkFinalizedStatuses(Q),this._innerSubscribe(Q)}_innerSubscribe(Q){const{hasError:me,isStopped:tt,observers:Qe}=this;return me||tt?U.Lc:(this.currentObservers=null,Qe.push(Q),new U.w0(()=>{this.currentObservers=null,(0,m.P)(Qe,Q)}))}_checkFinalizedStatuses(Q){const{hasError:me,thrownError:tt,isStopped:Qe}=this;me?Q.error(tt):Qe&&Q.complete()}asObservable(){const Q=new c.y;return Q.source=this,Q}}return Ae.create=(q,Q)=>new Pe(q,Q),Ae})();class Pe extends ke{constructor(q,Q){super(),this.destination=q,this.source=Q}next(q){var Q,me;null===(me=null===(Q=this.destination)||void 0===Q?void 0:Q.next)||void 0===me||me.call(Q,q)}error(q){var Q,me;null===(me=null===(Q=this.destination)||void 0===Q?void 0:Q.error)||void 0===me||me.call(Q,q)}complete(){var q,Q;null===(Q=null===(q=this.destination)||void 0===q?void 0:q.complete)||void 0===Q||Q.call(q)}_subscribe(q){var Q,me;return null!==(me=null===(Q=this.source)||void 0===Q?void 0:Q.subscribe(q))&&void 0!==me?me:U.Lc}}},2961:(tn,et,P)=>{P.d(et,{Hp:()=>Pt,Lv:()=>me});var c=P(576),U=P(727),j=P(2416),pe=P(7849);function m(){}const Te=Ae("C",void 0,void 0);function Ae(ge,He,ot){return{kind:ge,value:He,error:ot}}var q=P(3410),Q=P(2806);class me extends U.w0{constructor(He){super(),this.isStopped=!1,He?(this.destination=He,(0,U.Nn)(He)&&He.add(this)):this.destination=Bt}static create(He,ot,_t){return new Pt(He,ot,_t)}next(He){this.isStopped?Tt(function Pe(ge){return Ae("N",ge,void 0)}(He),this):this._next(He)}error(He){this.isStopped?Tt(function ke(ge){return Ae("E",void 0,ge)}(He),this):(this.isStopped=!0,this._error(He))}complete(){this.isStopped?Tt(Te,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(He){this.destination.next(He)}_error(He){try{this.destination.error(He)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const tt=Function.prototype.bind;function Qe(ge,He){return tt.call(ge,He)}class ze{constructor(He){this.partialObserver=He}next(He){const{partialObserver:ot}=this;if(ot.next)try{ot.next(He)}catch(_t){We(_t)}}error(He){const{partialObserver:ot}=this;if(ot.error)try{ot.error(He)}catch(_t){We(_t)}else We(He)}complete(){const{partialObserver:He}=this;if(He.complete)try{He.complete()}catch(ot){We(ot)}}}class Pt extends me{constructor(He,ot,_t){let Re;if(super(),(0,c.m)(He)||!He)Re={next:He??void 0,error:ot??void 0,complete:_t??void 0};else{let Ye;this&&j.v.useDeprecatedNextContext?(Ye=Object.create(He),Ye.unsubscribe=()=>this.unsubscribe(),Re={next:He.next&&Qe(He.next,Ye),error:He.error&&Qe(He.error,Ye),complete:He.complete&&Qe(He.complete,Ye)}):Re=He}this.destination=new ze(Re)}}function We(ge){j.v.useDeprecatedSynchronousErrorHandling?(0,Q.O)(ge):(0,pe.h)(ge)}function Tt(ge,He){const{onStoppedNotification:ot}=j.v;ot&&q.z.setTimeout(()=>ot(ge,He))}const Bt={closed:!0,next:m,error:function Ge(ge){throw ge},complete:m}},727:(tn,et,P)=>{P.d(et,{Lc:()=>Te,w0:()=>m,Nn:()=>ke});var c=P(576);const j=(0,P(3888).d)(Ae=>function(Q){Ae(this),this.message=Q?`${Q.length} errors occurred during unsubscription:\n${Q.map((me,tt)=>`${tt+1}) ${me.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Q});var pe=P(8737);class m{constructor(q){this.initialTeardown=q,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let q;if(!this.closed){this.closed=!0;const{_parentage:Q}=this;if(Q)if(this._parentage=null,Array.isArray(Q))for(const Qe of Q)Qe.remove(this);else Q.remove(this);const{initialTeardown:me}=this;if((0,c.m)(me))try{me()}catch(Qe){q=Qe instanceof j?Qe.errors:[Qe]}const{_finalizers:tt}=this;if(tt){this._finalizers=null;for(const Qe of tt)try{Pe(Qe)}catch(ze){q=q??[],ze instanceof j?q=[...q,...ze.errors]:q.push(ze)}}if(q)throw new j(q)}}add(q){var Q;if(q&&q!==this)if(this.closed)Pe(q);else{if(q instanceof m){if(q.closed||q._hasParent(this))return;q._addParent(this)}(this._finalizers=null!==(Q=this._finalizers)&&void 0!==Q?Q:[]).push(q)}}_hasParent(q){const{_parentage:Q}=this;return Q===q||Array.isArray(Q)&&Q.includes(q)}_addParent(q){const{_parentage:Q}=this;this._parentage=Array.isArray(Q)?(Q.push(q),Q):Q?[Q,q]:q}_removeParent(q){const{_parentage:Q}=this;Q===q?this._parentage=null:Array.isArray(Q)&&(0,pe.P)(Q,q)}remove(q){const{_finalizers:Q}=this;Q&&(0,pe.P)(Q,q),q instanceof m&&q._removeParent(this)}}m.EMPTY=(()=>{const Ae=new m;return Ae.closed=!0,Ae})();const Te=m.EMPTY;function ke(Ae){return Ae instanceof m||Ae&&"closed"in Ae&&(0,c.m)(Ae.remove)&&(0,c.m)(Ae.add)&&(0,c.m)(Ae.unsubscribe)}function Pe(Ae){(0,c.m)(Ae)?Ae():Ae.unsubscribe()}},2416:(tn,et,P)=>{P.d(et,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(tn,et,P)=>{P.d(et,{z:()=>m});var c=P(8189),j=P(7669),pe=P(8996);function m(...Te){return function U(){return(0,c.J)(1)}()((0,pe.D)(Te,(0,j.yG)(Te)))}},515:(tn,et,P)=>{P.d(et,{E:()=>U});const U=new(P(9751).y)(m=>m.complete())},8996:(tn,et,P)=>{P.d(et,{D:()=>He});var c=P(8421),U=P(5363),j=P(9468),Te=P(9751),Pe=P(2202),Ae=P(576),q=P(9672);function me(ot,_t){if(!ot)throw new Error("Iterable cannot be null");return new Te.y(Re=>{(0,q.f)(Re,_t,()=>{const Ye=ot[Symbol.asyncIterator]();(0,q.f)(Re,_t,()=>{Ye.next().then(rt=>{rt.done?Re.complete():Re.next(rt.value)})},0,!0)})})}var tt=P(3670),Qe=P(8239),ze=P(1144),Pt=P(6495),We=P(2206),Ge=P(4532),Tt=P(3260);function He(ot,_t){return _t?function ge(ot,_t){if(null!=ot){if((0,tt.c)(ot))return function pe(ot,_t){return(0,c.Xf)(ot).pipe((0,j.R)(_t),(0,U.Q)(_t))}(ot,_t);if((0,ze.z)(ot))return function ke(ot,_t){return new Te.y(Re=>{let Ye=0;return _t.schedule(function(){Ye===ot.length?Re.complete():(Re.next(ot[Ye++]),Re.closed||this.schedule())})})}(ot,_t);if((0,Qe.t)(ot))return function m(ot,_t){return(0,c.Xf)(ot).pipe((0,j.R)(_t),(0,U.Q)(_t))}(ot,_t);if((0,We.D)(ot))return me(ot,_t);if((0,Pt.T)(ot))return function Q(ot,_t){return new Te.y(Re=>{let Ye;return(0,q.f)(Re,_t,()=>{Ye=ot[Pe.h](),(0,q.f)(Re,_t,()=>{let rt,_e;try{({value:rt,done:_e}=Ye.next())}catch(Ve){return void Re.error(Ve)}_e?Re.complete():Re.next(rt)},0,!0)}),()=>(0,Ae.m)(Ye?.return)&&Ye.return()})}(ot,_t);if((0,Tt.L)(ot))return function Bt(ot,_t){return me((0,Tt.Q)(ot),_t)}(ot,_t)}throw(0,Ge.z)(ot)}(ot,_t):(0,c.Xf)(ot)}},8421:(tn,et,P)=>{P.d(et,{Xf:()=>tt});var c=P(655),U=P(1144),j=P(8239),pe=P(9751),m=P(3670),Te=P(2206),ke=P(4532),Pe=P(6495),Ae=P(3260),q=P(576),Q=P(7849),me=P(8822);function tt(ge){if(ge instanceof pe.y)return ge;if(null!=ge){if((0,m.c)(ge))return function Qe(ge){return new pe.y(He=>{const ot=ge[me.L]();if((0,q.m)(ot.subscribe))return ot.subscribe(He);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ge);if((0,U.z)(ge))return function ze(ge){return new pe.y(He=>{for(let ot=0;ot<ge.length&&!He.closed;ot++)He.next(ge[ot]);He.complete()})}(ge);if((0,j.t)(ge))return function Pt(ge){return new pe.y(He=>{ge.then(ot=>{He.closed||(He.next(ot),He.complete())},ot=>He.error(ot)).then(null,Q.h)})}(ge);if((0,Te.D)(ge))return Ge(ge);if((0,Pe.T)(ge))return function We(ge){return new pe.y(He=>{for(const ot of ge)if(He.next(ot),He.closed)return;He.complete()})}(ge);if((0,Ae.L)(ge))return function Tt(ge){return Ge((0,Ae.Q)(ge))}(ge)}throw(0,ke.z)(ge)}function Ge(ge){return new pe.y(He=>{(function Bt(ge,He){var ot,_t,Re,Ye;return(0,c.mG)(this,void 0,void 0,function*(){try{for(ot=(0,c.KL)(ge);!(_t=yield ot.next()).done;)if(He.next(_t.value),He.closed)return}catch(rt){Re={error:rt}}finally{try{_t&&!_t.done&&(Ye=ot.return)&&(yield Ye.call(ot))}finally{if(Re)throw Re.error}}He.complete()})})(ge,He).catch(ot=>He.error(ot))})}},6451:(tn,et,P)=>{P.d(et,{T:()=>Te});var c=P(8189),U=P(8421),j=P(515),pe=P(7669),m=P(8996);function Te(...ke){const Pe=(0,pe.yG)(ke),Ae=(0,pe._6)(ke,1/0),q=ke;return q.length?1===q.length?(0,U.Xf)(q[0]):(0,c.J)(Ae)((0,m.D)(q,Pe)):j.E}},9646:(tn,et,P)=>{P.d(et,{of:()=>j});var c=P(7669),U=P(8996);function j(...pe){const m=(0,c.yG)(pe);return(0,U.D)(pe,m)}},5403:(tn,et,P)=>{P.d(et,{x:()=>U});var c=P(2961);function U(pe,m,Te,ke,Pe){return new j(pe,m,Te,ke,Pe)}class j extends c.Lv{constructor(m,Te,ke,Pe,Ae,q){super(m),this.onFinalize=Ae,this.shouldUnsubscribe=q,this._next=Te?function(Q){try{Te(Q)}catch(me){m.error(me)}}:super._next,this._error=Pe?function(Q){try{Pe(Q)}catch(me){m.error(me)}finally{this.unsubscribe()}}:super._error,this._complete=ke?function(){try{ke()}catch(Q){m.error(Q)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var m;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Te}=this;super.unsubscribe(),!Te&&(null===(m=this.onFinalize)||void 0===m||m.call(this))}}}},262:(tn,et,P)=>{P.d(et,{K:()=>pe});var c=P(8421),U=P(5403),j=P(4482);function pe(m){return(0,j.e)((Te,ke)=>{let q,Pe=null,Ae=!1;Pe=Te.subscribe((0,U.x)(ke,void 0,void 0,Q=>{q=(0,c.Xf)(m(Q,pe(m)(Te))),Pe?(Pe.unsubscribe(),Pe=null,q.subscribe(ke)):Ae=!0})),Ae&&(Pe.unsubscribe(),Pe=null,q.subscribe(ke))})}},4351:(tn,et,P)=>{P.d(et,{b:()=>j});var c=P(5577),U=P(576);function j(pe,m){return(0,U.m)(m)?(0,c.z)(pe,m,1):(0,c.z)(pe,1)}},6590:(tn,et,P)=>{P.d(et,{d:()=>j});var c=P(4482),U=P(5403);function j(pe){return(0,c.e)((m,Te)=>{let ke=!1;m.subscribe((0,U.x)(Te,Pe=>{ke=!0,Te.next(Pe)},()=>{ke||Te.next(pe),Te.complete()}))})}},9300:(tn,et,P)=>{P.d(et,{h:()=>j});var c=P(4482),U=P(5403);function j(pe,m){return(0,c.e)((Te,ke)=>{let Pe=0;Te.subscribe((0,U.x)(ke,Ae=>pe.call(m,Ae,Pe++)&&ke.next(Ae)))})}},590:(tn,et,P)=>{P.d(et,{P:()=>ke});var c=P(6805),U=P(9300),j=P(5698),pe=P(6590),m=P(8068),Te=P(4671);function ke(Pe,Ae){const q=arguments.length>=2;return Q=>Q.pipe(Pe?(0,U.h)((me,tt)=>Pe(me,tt,Q)):Te.y,(0,j.q)(1),q?(0,pe.d)(Ae):(0,m.T)(()=>new c.K))}},4004:(tn,et,P)=>{P.d(et,{U:()=>j});var c=P(4482),U=P(5403);function j(pe,m){return(0,c.e)((Te,ke)=>{let Pe=0;Te.subscribe((0,U.x)(ke,Ae=>{ke.next(pe.call(m,Ae,Pe++))}))})}},8189:(tn,et,P)=>{P.d(et,{J:()=>j});var c=P(5577),U=P(4671);function j(pe=1/0){return(0,c.z)(U.y,pe)}},5577:(tn,et,P)=>{P.d(et,{z:()=>Pe});var c=P(4004),U=P(8421),j=P(4482),pe=P(9672),m=P(5403),ke=P(576);function Pe(Ae,q,Q=1/0){return(0,ke.m)(q)?Pe((me,tt)=>(0,c.U)((Qe,ze)=>q(me,Qe,tt,ze))((0,U.Xf)(Ae(me,tt))),Q):("number"==typeof q&&(Q=q),(0,j.e)((me,tt)=>function Te(Ae,q,Q,me,tt,Qe,ze,Pt){const We=[];let Ge=0,Tt=0,Bt=!1;const ge=()=>{Bt&&!We.length&&!Ge&&q.complete()},He=_t=>Ge<me?ot(_t):We.push(_t),ot=_t=>{Qe&&q.next(_t),Ge++;let Re=!1;(0,U.Xf)(Q(_t,Tt++)).subscribe((0,m.x)(q,Ye=>{tt?.(Ye),Qe?He(Ye):q.next(Ye)},()=>{Re=!0},void 0,()=>{if(Re)try{for(Ge--;We.length&&Ge<me;){const Ye=We.shift();ze?(0,pe.f)(q,ze,()=>ot(Ye)):ot(Ye)}ge()}catch(Ye){q.error(Ye)}}))};return Ae.subscribe((0,m.x)(q,He,()=>{Bt=!0,ge()})),()=>{Pt?.()}}(me,tt,Ae,Q)))}},5363:(tn,et,P)=>{P.d(et,{Q:()=>pe});var c=P(9672),U=P(4482),j=P(5403);function pe(m,Te=0){return(0,U.e)((ke,Pe)=>{ke.subscribe((0,j.x)(Pe,Ae=>(0,c.f)(Pe,m,()=>Pe.next(Ae),Te),()=>(0,c.f)(Pe,m,()=>Pe.complete(),Te),Ae=>(0,c.f)(Pe,m,()=>Pe.error(Ae),Te)))})}},5026:(tn,et,P)=>{P.d(et,{R:()=>pe});var c=P(4482),U=P(5403);function j(m,Te,ke,Pe,Ae){return(q,Q)=>{let me=ke,tt=Te,Qe=0;q.subscribe((0,U.x)(Q,ze=>{const Pt=Qe++;tt=me?m(tt,ze,Pt):(me=!0,ze),Pe&&Q.next(tt)},Ae&&(()=>{me&&Q.next(tt),Q.complete()})))}}function pe(m,Te){return(0,c.e)(j(m,Te,arguments.length>=2,!0))}},3099:(tn,et,P)=>{P.d(et,{B:()=>m});var c=P(8421),U=P(7579),j=P(2961),pe=P(4482);function m(ke={}){const{connector:Pe=(()=>new U.x),resetOnError:Ae=!0,resetOnComplete:q=!0,resetOnRefCountZero:Q=!0}=ke;return me=>{let tt,Qe,ze,Pt=0,We=!1,Ge=!1;const Tt=()=>{Qe?.unsubscribe(),Qe=void 0},Bt=()=>{Tt(),tt=ze=void 0,We=Ge=!1},ge=()=>{const He=tt;Bt(),He?.unsubscribe()};return(0,pe.e)((He,ot)=>{Pt++,!Ge&&!We&&Tt();const _t=ze=ze??Pe();ot.add(()=>{Pt--,0===Pt&&!Ge&&!We&&(Qe=Te(ge,Q))}),_t.subscribe(ot),!tt&&Pt>0&&(tt=new j.Hp({next:Re=>_t.next(Re),error:Re=>{Ge=!0,Tt(),Qe=Te(Bt,Ae,Re),_t.error(Re)},complete:()=>{We=!0,Tt(),Qe=Te(Bt,q),_t.complete()}}),(0,c.Xf)(He).subscribe(tt))})(me)}}function Te(ke,Pe,...Ae){if(!0===Pe)return void ke();if(!1===Pe)return;const q=new j.Hp({next:()=>{q.unsubscribe(),ke()}});return Pe(...Ae).subscribe(q)}},8675:(tn,et,P)=>{P.d(et,{O:()=>pe});var c=P(7272),U=P(7669),j=P(4482);function pe(...m){const Te=(0,U.yG)(m);return(0,j.e)((ke,Pe)=>{(Te?(0,c.z)(m,ke,Te):(0,c.z)(m,ke)).subscribe(Pe)})}},9468:(tn,et,P)=>{P.d(et,{R:()=>U});var c=P(4482);function U(j,pe=0){return(0,c.e)((m,Te)=>{Te.add(j.schedule(()=>m.subscribe(Te),pe))})}},3900:(tn,et,P)=>{P.d(et,{w:()=>pe});var c=P(8421),U=P(4482),j=P(5403);function pe(m,Te){return(0,U.e)((ke,Pe)=>{let Ae=null,q=0,Q=!1;const me=()=>Q&&!Ae&&Pe.complete();ke.subscribe((0,j.x)(Pe,tt=>{Ae?.unsubscribe();let Qe=0;const ze=q++;(0,c.Xf)(m(tt,ze)).subscribe(Ae=(0,j.x)(Pe,Pt=>Pe.next(Te?Te(tt,Pt,ze,Qe++):Pt),()=>{Ae=null,me()}))},()=>{Q=!0,me()}))})}},5698:(tn,et,P)=>{P.d(et,{q:()=>pe});var c=P(515),U=P(4482),j=P(5403);function pe(m){return m<=0?()=>c.E:(0,U.e)((Te,ke)=>{let Pe=0;Te.subscribe((0,j.x)(ke,Ae=>{++Pe<=m&&(ke.next(Ae),m<=Pe&&ke.complete())}))})}},8505:(tn,et,P)=>{P.d(et,{b:()=>m});var c=P(576),U=P(4482),j=P(5403),pe=P(4671);function m(Te,ke,Pe){const Ae=(0,c.m)(Te)||ke||Pe?{next:Te,error:ke,complete:Pe}:Te;return Ae?(0,U.e)((q,Q)=>{var me;null===(me=Ae.subscribe)||void 0===me||me.call(Ae);let tt=!0;q.subscribe((0,j.x)(Q,Qe=>{var ze;null===(ze=Ae.next)||void 0===ze||ze.call(Ae,Qe),Q.next(Qe)},()=>{var Qe;tt=!1,null===(Qe=Ae.complete)||void 0===Qe||Qe.call(Ae),Q.complete()},Qe=>{var ze;tt=!1,null===(ze=Ae.error)||void 0===ze||ze.call(Ae,Qe),Q.error(Qe)},()=>{var Qe,ze;tt&&(null===(Qe=Ae.unsubscribe)||void 0===Qe||Qe.call(Ae)),null===(ze=Ae.finalize)||void 0===ze||ze.call(Ae)}))}):pe.y}},8068:(tn,et,P)=>{P.d(et,{T:()=>pe});var c=P(6805),U=P(4482),j=P(5403);function pe(Te=m){return(0,U.e)((ke,Pe)=>{let Ae=!1;ke.subscribe((0,j.x)(Pe,q=>{Ae=!0,Pe.next(q)},()=>Ae?Pe.complete():Pe.error(Te())))})}function m(){return new c.K}},4408:(tn,et,P)=>{P.d(et,{o:()=>m});var c=P(727);class U extends c.w0{constructor(ke,Pe){super()}schedule(ke,Pe=0){return this}}const j={setInterval(Te,ke,...Pe){const{delegate:Ae}=j;return Ae?.setInterval?Ae.setInterval(Te,ke,...Pe):setInterval(Te,ke,...Pe)},clearInterval(Te){const{delegate:ke}=j;return(ke?.clearInterval||clearInterval)(Te)},delegate:void 0};var pe=P(8737);class m extends U{constructor(ke,Pe){super(ke,Pe),this.scheduler=ke,this.work=Pe,this.pending=!1}schedule(ke,Pe=0){var Ae;if(this.closed)return this;this.state=ke;const q=this.id,Q=this.scheduler;return null!=q&&(this.id=this.recycleAsyncId(Q,q,Pe)),this.pending=!0,this.delay=Pe,this.id=null!==(Ae=this.id)&&void 0!==Ae?Ae:this.requestAsyncId(Q,this.id,Pe),this}requestAsyncId(ke,Pe,Ae=0){return j.setInterval(ke.flush.bind(ke,this),Ae)}recycleAsyncId(ke,Pe,Ae=0){if(null!=Ae&&this.delay===Ae&&!1===this.pending)return Pe;null!=Pe&&j.clearInterval(Pe)}execute(ke,Pe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ae=this._execute(ke,Pe);if(Ae)return Ae;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ke,Pe){let q,Ae=!1;try{this.work(ke)}catch(Q){Ae=!0,q=Q||new Error("Scheduled action threw falsy error")}if(Ae)return this.unsubscribe(),q}unsubscribe(){if(!this.closed){const{id:ke,scheduler:Pe}=this,{actions:Ae}=Pe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,pe.P)(Ae,this),null!=ke&&(this.id=this.recycleAsyncId(Pe,ke,null)),this.delay=null,super.unsubscribe()}}}},7565:(tn,et,P)=>{P.d(et,{v:()=>j});var c=P(6063);class U{constructor(m,Te=U.now){this.schedulerActionCtor=m,this.now=Te}schedule(m,Te=0,ke){return new this.schedulerActionCtor(this,m).schedule(ke,Te)}}U.now=c.l.now;class j extends U{constructor(m,Te=U.now){super(m,Te),this.actions=[],this._active=!1}flush(m){const{actions:Te}=this;if(this._active)return void Te.push(m);let ke;this._active=!0;do{if(ke=m.execute(m.state,m.delay))break}while(m=Te.shift());if(this._active=!1,ke){for(;m=Te.shift();)m.unsubscribe();throw ke}}}},4986:(tn,et,P)=>{P.d(et,{z:()=>j});var c=P(4408);const j=new(P(7565).v)(c.o)},6063:(tn,et,P)=>{P.d(et,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(tn,et,P)=>{P.d(et,{z:()=>c});const c={setTimeout(U,j,...pe){const{delegate:m}=c;return m?.setTimeout?m.setTimeout(U,j,...pe):setTimeout(U,j,...pe)},clearTimeout(U){const{delegate:j}=c;return(j?.clearTimeout||clearTimeout)(U)},delegate:void 0}},2202:(tn,et,P)=>{P.d(et,{h:()=>U});const U=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(tn,et,P)=>{P.d(et,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(tn,et,P)=>{P.d(et,{K:()=>U});const U=(0,P(3888).d)(j=>function(){j(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(tn,et,P)=>{P.d(et,{_6:()=>Te,jO:()=>pe,yG:()=>m});var c=P(576);function j(ke){return ke[ke.length-1]}function pe(ke){return(0,c.m)(j(ke))?ke.pop():void 0}function m(ke){return function U(ke){return ke&&(0,c.m)(ke.schedule)}(j(ke))?ke.pop():void 0}function Te(ke,Pe){return"number"==typeof j(ke)?ke.pop():Pe}},4742:(tn,et,P)=>{P.d(et,{D:()=>m});const{isArray:c}=Array,{getPrototypeOf:U,prototype:j,keys:pe}=Object;function m(ke){if(1===ke.length){const Pe=ke[0];if(c(Pe))return{args:Pe,keys:null};if(function Te(ke){return ke&&"object"==typeof ke&&U(ke)===j}(Pe)){const Ae=pe(Pe);return{args:Ae.map(q=>Pe[q]),keys:Ae}}}return{args:ke,keys:null}}},8737:(tn,et,P)=>{function c(U,j){if(U){const pe=U.indexOf(j);0<=pe&&U.splice(pe,1)}}P.d(et,{P:()=>c})},3888:(tn,et,P)=>{function c(U){const pe=U(m=>{Error.call(m),m.stack=(new Error).stack});return pe.prototype=Object.create(Error.prototype),pe.prototype.constructor=pe,pe}P.d(et,{d:()=>c})},1810:(tn,et,P)=>{function c(U,j){return U.reduce((pe,m,Te)=>(pe[m]=j[Te],pe),{})}P.d(et,{n:()=>c})},2806:(tn,et,P)=>{P.d(et,{O:()=>pe,x:()=>j});var c=P(2416);let U=null;function j(m){if(c.v.useDeprecatedSynchronousErrorHandling){const Te=!U;if(Te&&(U={errorThrown:!1,error:null}),m(),Te){const{errorThrown:ke,error:Pe}=U;if(U=null,ke)throw Pe}}else m()}function pe(m){c.v.useDeprecatedSynchronousErrorHandling&&U&&(U.errorThrown=!0,U.error=m)}},9672:(tn,et,P)=>{function c(U,j,pe,m=0,Te=!1){const ke=j.schedule(function(){pe(),Te?U.add(this.schedule(null,m)):this.unsubscribe()},m);if(U.add(ke),!Te)return ke}P.d(et,{f:()=>c})},4671:(tn,et,P)=>{function c(U){return U}P.d(et,{y:()=>c})},1144:(tn,et,P)=>{P.d(et,{z:()=>c});const c=U=>U&&"number"==typeof U.length&&"function"!=typeof U},2206:(tn,et,P)=>{P.d(et,{D:()=>U});var c=P(576);function U(j){return Symbol.asyncIterator&&(0,c.m)(j?.[Symbol.asyncIterator])}},576:(tn,et,P)=>{function c(U){return"function"==typeof U}P.d(et,{m:()=>c})},3670:(tn,et,P)=>{P.d(et,{c:()=>j});var c=P(8822),U=P(576);function j(pe){return(0,U.m)(pe[c.L])}},6495:(tn,et,P)=>{P.d(et,{T:()=>j});var c=P(2202),U=P(576);function j(pe){return(0,U.m)(pe?.[c.h])}},8239:(tn,et,P)=>{P.d(et,{t:()=>U});var c=P(576);function U(j){return(0,c.m)(j?.then)}},3260:(tn,et,P)=>{P.d(et,{L:()=>pe,Q:()=>j});var c=P(655),U=P(576);function j(m){return(0,c.FC)(this,arguments,function*(){const ke=m.getReader();try{for(;;){const{value:Pe,done:Ae}=yield(0,c.qq)(ke.read());if(Ae)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(Pe)}}finally{ke.releaseLock()}})}function pe(m){return(0,U.m)(m?.getReader)}},4482:(tn,et,P)=>{P.d(et,{A:()=>U,e:()=>j});var c=P(576);function U(pe){return(0,c.m)(pe?.lift)}function j(pe){return m=>{if(U(m))return m.lift(function(Te){try{return pe(Te,this)}catch(ke){this.error(ke)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(tn,et,P)=>{P.d(et,{Z:()=>pe});var c=P(4004);const{isArray:U}=Array;function pe(m){return(0,c.U)(Te=>function j(m,Te){return U(Te)?m(...Te):m(Te)}(m,Te))}},9635:(tn,et,P)=>{P.d(et,{U:()=>j,z:()=>U});var c=P(4671);function U(...pe){return j(pe)}function j(pe){return 0===pe.length?c.y:1===pe.length?pe[0]:function(Te){return pe.reduce((ke,Pe)=>Pe(ke),Te)}}},7849:(tn,et,P)=>{P.d(et,{h:()=>j});var c=P(2416),U=P(3410);function j(pe){U.z.setTimeout(()=>{const{onUnhandledError:m}=c.v;if(!m)throw pe;m(pe)})}},4532:(tn,et,P)=>{function c(U){return new TypeError(`You provided ${null!==U&&"object"==typeof U?"an invalid object":`'${U}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(et,{z:()=>c})},655:(tn,et,P)=>{function pe(_e,Ve){var xe={};for(var $e in _e)Object.prototype.hasOwnProperty.call(_e,$e)&&Ve.indexOf($e)<0&&(xe[$e]=_e[$e]);if(null!=_e&&"function"==typeof Object.getOwnPropertySymbols){var Ft=0;for($e=Object.getOwnPropertySymbols(_e);Ft<$e.length;Ft++)Ve.indexOf($e[Ft])<0&&Object.prototype.propertyIsEnumerable.call(_e,$e[Ft])&&(xe[$e[Ft]]=_e[$e[Ft]])}return xe}function Pe(_e,Ve,xe,$e){return new(xe||(xe=Promise))(function(jt,Kt){function nn(vn){try{Ot($e.next(vn))}catch(fn){Kt(fn)}}function un(vn){try{Ot($e.throw(vn))}catch(fn){Kt(fn)}}function Ot(vn){vn.done?jt(vn.value):function Ft(jt){return jt instanceof xe?jt:new xe(function(Kt){Kt(jt)})}(vn.value).then(nn,un)}Ot(($e=$e.apply(_e,Ve||[])).next())})}function We(_e){return this instanceof We?(this.v=_e,this):new We(_e)}function Ge(_e,Ve,xe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ft,$e=xe.apply(_e,Ve||[]),jt=[];return Ft={},Kt("next"),Kt("throw"),Kt("return"),Ft[Symbol.asyncIterator]=function(){return this},Ft;function Kt(Dt){$e[Dt]&&(Ft[Dt]=function(ht){return new Promise(function(wt,Xt){jt.push([Dt,ht,wt,Xt])>1||nn(Dt,ht)})})}function nn(Dt,ht){try{!function un(Dt){Dt.value instanceof We?Promise.resolve(Dt.value.v).then(Ot,vn):fn(jt[0][2],Dt)}($e[Dt](ht))}catch(wt){fn(jt[0][3],wt)}}function Ot(Dt){nn("next",Dt)}function vn(Dt){nn("throw",Dt)}function fn(Dt,ht){Dt(ht),jt.shift(),jt.length&&nn(jt[0][0],jt[0][1])}}function Bt(_e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var xe,Ve=_e[Symbol.asyncIterator];return Ve?Ve.call(_e):(_e=function me(_e){var Ve="function"==typeof Symbol&&Symbol.iterator,xe=Ve&&_e[Ve],$e=0;if(xe)return xe.call(_e);if(_e&&"number"==typeof _e.length)return{next:function(){return _e&&$e>=_e.length&&(_e=void 0),{value:_e&&_e[$e++],done:!_e}}};throw new TypeError(Ve?"Object is not iterable.":"Symbol.iterator is not defined.")}(_e),xe={},$e("next"),$e("throw"),$e("return"),xe[Symbol.asyncIterator]=function(){return this},xe);function $e(jt){xe[jt]=_e[jt]&&function(Kt){return new Promise(function(nn,un){!function Ft(jt,Kt,nn,un){Promise.resolve(un).then(function(Ot){jt({value:Ot,done:nn})},Kt)}(nn,un,(Kt=_e[jt](Kt)).done,Kt.value)})}}}P.d(et,{FC:()=>Ge,KL:()=>Bt,_T:()=>pe,mG:()=>Pe,qq:()=>We})},7340:(tn,et,P)=>{P.d(et,{LC:()=>U,X$:()=>pe,ZE:()=>Tt,ZN:()=>Ge,_j:()=>c,eR:()=>Q,jt:()=>m,k1:()=>Bt,l3:()=>j,oB:()=>Pe,vP:()=>ke});class c{}class U{}const j="*";function pe(ge,He){return{type:7,name:ge,definitions:He,options:{}}}function m(ge,He=null){return{type:4,styles:He,timings:ge}}function ke(ge,He=null){return{type:2,steps:ge,options:He}}function Pe(ge){return{type:6,styles:ge,offset:null}}function Q(ge,He,ot=null){return{type:1,expr:ge,animation:He,options:ot}}function We(ge){Promise.resolve().then(ge)}class Ge{constructor(He=0,ot=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=He+ot}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(He=>He()),this._onDoneFns=[])}onStart(He){this._originalOnStartFns.push(He),this._onStartFns.push(He)}onDone(He){this._originalOnDoneFns.push(He),this._onDoneFns.push(He)}onDestroy(He){this._onDestroyFns.push(He)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){We(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(He=>He()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(He=>He()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(He){this._position=this.totalTime?He*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(He){const ot="start"==He?this._onStartFns:this._onDoneFns;ot.forEach(_t=>_t()),ot.length=0}}class Tt{constructor(He){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=He;let ot=0,_t=0,Re=0;const Ye=this.players.length;0==Ye?We(()=>this._onFinish()):this.players.forEach(rt=>{rt.onDone(()=>{++ot==Ye&&this._onFinish()}),rt.onDestroy(()=>{++_t==Ye&&this._onDestroy()}),rt.onStart(()=>{++Re==Ye&&this._onStart()})}),this.totalTime=this.players.reduce((rt,_e)=>Math.max(rt,_e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(He=>He()),this._onDoneFns=[])}init(){this.players.forEach(He=>He.init())}onStart(He){this._onStartFns.push(He)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(He=>He()),this._onStartFns=[])}onDone(He){this._onDoneFns.push(He)}onDestroy(He){this._onDestroyFns.push(He)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(He=>He.play())}pause(){this.players.forEach(He=>He.pause())}restart(){this.players.forEach(He=>He.restart())}finish(){this._onFinish(),this.players.forEach(He=>He.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(He=>He.destroy()),this._onDestroyFns.forEach(He=>He()),this._onDestroyFns=[])}reset(){this.players.forEach(He=>He.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(He){const ot=He*this.totalTime;this.players.forEach(_t=>{const Re=_t.totalTime?Math.min(1,ot/_t.totalTime):1;_t.setPosition(Re)})}getPosition(){const He=this.players.reduce((ot,_t)=>null===ot||_t.totalTime>ot.totalTime?_t:ot,null);return null!=He?He.getPosition():0}beforeDestroy(){this.players.forEach(He=>{He.beforeDestroy&&He.beforeDestroy()})}triggerCallback(He){const ot="start"==He?this._onStartFns:this._onDoneFns;ot.forEach(_t=>_t()),ot.length=0}}const Bt="!"},6895:(tn,et,P)=>{P.d(et,{Do:()=>Bt,EM:()=>Ct,HT:()=>m,JF:()=>cr,K0:()=>ke,Mx:()=>Oi,O5:()=>it,Ov:()=>ao,PM:()=>W,S$:()=>We,V_:()=>q,Ye:()=>ge,b0:()=>Tt,bD:()=>ki,ez:()=>As,mk:()=>Ir,q:()=>j,sg:()=>ms,uU:()=>uo,w_:()=>Te});var c=P(4650);let U=null;function j(){return U}function m(S){U||(U=S)}class Te{}const ke=new c.OlP("DocumentToken");let Pe=(()=>{class S{historyGo(O){throw new Error("Not implemented")}}return S.\u0275fac=function(O){return new(O||S)},S.\u0275prov=c.Yz7({token:S,factory:function(){return function Ae(){return(0,c.LFG)(Q)}()},providedIn:"platform"}),S})();const q=new c.OlP("Location Initialized");let Q=(()=>{class S extends Pe{constructor(O){super(),this._doc=O,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return j().getBaseHref(this._doc)}onPopState(O){const te=j().getGlobalEventTarget(this._doc,"window");return te.addEventListener("popstate",O,!1),()=>te.removeEventListener("popstate",O)}onHashChange(O){const te=j().getGlobalEventTarget(this._doc,"window");return te.addEventListener("hashchange",O,!1),()=>te.removeEventListener("hashchange",O)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(O){this.location.pathname=O}pushState(O,te,Me){me()?this._history.pushState(O,te,Me):this.location.hash=Me}replaceState(O,te,Me){me()?this._history.replaceState(O,te,Me):this.location.hash=Me}forward(){this._history.forward()}back(){this._history.back()}historyGo(O=0){this._history.go(O)}getState(){return this._history.state}}return S.\u0275fac=function(O){return new(O||S)(c.LFG(ke))},S.\u0275prov=c.Yz7({token:S,factory:function(){return function tt(){return new Q((0,c.LFG)(ke))}()},providedIn:"platform"}),S})();function me(){return!!window.history.pushState}function Qe(S,G){if(0==S.length)return G;if(0==G.length)return S;let O=0;return S.endsWith("/")&&O++,G.startsWith("/")&&O++,2==O?S+G.substring(1):1==O?S+G:S+"/"+G}function ze(S){const G=S.match(/#|\?|$/),O=G&&G.index||S.length;return S.slice(0,O-("/"===S[O-1]?1:0))+S.slice(O)}function Pt(S){return S&&"?"!==S[0]?"?"+S:S}let We=(()=>{class S{historyGo(O){throw new Error("Not implemented")}}return S.\u0275fac=function(O){return new(O||S)},S.\u0275prov=c.Yz7({token:S,factory:function(){return(0,c.f3M)(Tt)},providedIn:"root"}),S})();const Ge=new c.OlP("appBaseHref");let Tt=(()=>{class S extends We{constructor(O,te){super(),this._platformLocation=O,this._removeListenerFns=[],this._baseHref=te??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(ke).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(O){this._removeListenerFns.push(this._platformLocation.onPopState(O),this._platformLocation.onHashChange(O))}getBaseHref(){return this._baseHref}prepareExternalUrl(O){return Qe(this._baseHref,O)}path(O=!1){const te=this._platformLocation.pathname+Pt(this._platformLocation.search),Me=this._platformLocation.hash;return Me&&O?`${te}${Me}`:te}pushState(O,te,Me,vt){const Rt=this.prepareExternalUrl(Me+Pt(vt));this._platformLocation.pushState(O,te,Rt)}replaceState(O,te,Me,vt){const Rt=this.prepareExternalUrl(Me+Pt(vt));this._platformLocation.replaceState(O,te,Rt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(O=0){this._platformLocation.historyGo?.(O)}}return S.\u0275fac=function(O){return new(O||S)(c.LFG(Pe),c.LFG(Ge,8))},S.\u0275prov=c.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})(),Bt=(()=>{class S extends We{constructor(O,te){super(),this._platformLocation=O,this._baseHref="",this._removeListenerFns=[],null!=te&&(this._baseHref=te)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(O){this._removeListenerFns.push(this._platformLocation.onPopState(O),this._platformLocation.onHashChange(O))}getBaseHref(){return this._baseHref}path(O=!1){let te=this._platformLocation.hash;return null==te&&(te="#"),te.length>0?te.substring(1):te}prepareExternalUrl(O){const te=Qe(this._baseHref,O);return te.length>0?"#"+te:te}pushState(O,te,Me,vt){let Rt=this.prepareExternalUrl(Me+Pt(vt));0==Rt.length&&(Rt=this._platformLocation.pathname),this._platformLocation.pushState(O,te,Rt)}replaceState(O,te,Me,vt){let Rt=this.prepareExternalUrl(Me+Pt(vt));0==Rt.length&&(Rt=this._platformLocation.pathname),this._platformLocation.replaceState(O,te,Rt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(O=0){this._platformLocation.historyGo?.(O)}}return S.\u0275fac=function(O){return new(O||S)(c.LFG(Pe),c.LFG(Ge,8))},S.\u0275prov=c.Yz7({token:S,factory:S.\u0275fac}),S})(),ge=(()=>{class S{constructor(O){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=O;const te=this._locationStrategy.getBaseHref();this._baseHref=ze(_t(te)),this._locationStrategy.onPopState(Me=>{this._subject.emit({url:this.path(!0),pop:!0,state:Me.state,type:Me.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(O=!1){return this.normalize(this._locationStrategy.path(O))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(O,te=""){return this.path()==this.normalize(O+Pt(te))}normalize(O){return S.stripTrailingSlash(function ot(S,G){return S&&G.startsWith(S)?G.substring(S.length):G}(this._baseHref,_t(O)))}prepareExternalUrl(O){return O&&"/"!==O[0]&&(O="/"+O),this._locationStrategy.prepareExternalUrl(O)}go(O,te="",Me=null){this._locationStrategy.pushState(Me,"",O,te),this._notifyUrlChangeListeners(this.prepareExternalUrl(O+Pt(te)),Me)}replaceState(O,te="",Me=null){this._locationStrategy.replaceState(Me,"",O,te),this._notifyUrlChangeListeners(this.prepareExternalUrl(O+Pt(te)),Me)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(O=0){this._locationStrategy.historyGo?.(O)}onUrlChange(O){return this._urlChangeListeners.push(O),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(te=>{this._notifyUrlChangeListeners(te.url,te.state)})),()=>{const te=this._urlChangeListeners.indexOf(O);this._urlChangeListeners.splice(te,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(O="",te){this._urlChangeListeners.forEach(Me=>Me(O,te))}subscribe(O,te,Me){return this._subject.subscribe({next:O,error:te,complete:Me})}}return S.normalizeQueryParams=Pt,S.joinWithSlash=Qe,S.stripTrailingSlash=ze,S.\u0275fac=function(O){return new(O||S)(c.LFG(We))},S.\u0275prov=c.Yz7({token:S,factory:function(){return function He(){return new ge((0,c.LFG)(We))}()},providedIn:"root"}),S})();function _t(S){return S.replace(/\/index.html$/,"")}var _e=(()=>((_e=_e||{})[_e.Format=0]="Format",_e[_e.Standalone=1]="Standalone",_e))(),Ve=(()=>((Ve=Ve||{})[Ve.Narrow=0]="Narrow",Ve[Ve.Abbreviated=1]="Abbreviated",Ve[Ve.Wide=2]="Wide",Ve[Ve.Short=3]="Short",Ve))(),xe=(()=>((xe=xe||{})[xe.Short=0]="Short",xe[xe.Medium=1]="Medium",xe[xe.Long=2]="Long",xe[xe.Full=3]="Full",xe))(),$e=(()=>(($e=$e||{})[$e.Decimal=0]="Decimal",$e[$e.Group=1]="Group",$e[$e.List=2]="List",$e[$e.PercentSign=3]="PercentSign",$e[$e.PlusSign=4]="PlusSign",$e[$e.MinusSign=5]="MinusSign",$e[$e.Exponential=6]="Exponential",$e[$e.SuperscriptingExponent=7]="SuperscriptingExponent",$e[$e.PerMille=8]="PerMille",$e[$e.Infinity=9]="Infinity",$e[$e.NaN=10]="NaN",$e[$e.TimeSeparator=11]="TimeSeparator",$e[$e.CurrencyDecimal=12]="CurrencyDecimal",$e[$e.CurrencyGroup=13]="CurrencyGroup",$e))();function Dt(S,G){return Ut((0,c.cg1)(S)[c.wAp.DateFormat],G)}function ht(S,G){return Ut((0,c.cg1)(S)[c.wAp.TimeFormat],G)}function wt(S,G){return Ut((0,c.cg1)(S)[c.wAp.DateTimeFormat],G)}function Xt(S,G){const O=(0,c.cg1)(S),te=O[c.wAp.NumberSymbols][G];if(typeof te>"u"){if(G===$e.CurrencyDecimal)return O[c.wAp.NumberSymbols][$e.Decimal];if(G===$e.CurrencyGroup)return O[c.wAp.NumberSymbols][$e.Group]}return te}function cn(S){if(!S[c.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${S[c.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ut(S,G){for(let O=G;O>-1;O--)if(typeof S[O]<"u")return S[O];throw new Error("Locale data API: locale data undefined")}function or(S){const[G,O]=S.split(":");return{hours:+G,minutes:+O}}const Pi=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ar={},Hn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var qn=(()=>((qn=qn||{})[qn.Short=0]="Short",qn[qn.ShortGMT=1]="ShortGMT",qn[qn.Long=2]="Long",qn[qn.Extended=3]="Extended",qn))(),yn=(()=>((yn=yn||{})[yn.FullYear=0]="FullYear",yn[yn.Month=1]="Month",yn[yn.Date=2]="Date",yn[yn.Hours=3]="Hours",yn[yn.Minutes=4]="Minutes",yn[yn.Seconds=5]="Seconds",yn[yn.FractionalSeconds=6]="FractionalSeconds",yn[yn.Day=7]="Day",yn))(),mn=(()=>((mn=mn||{})[mn.DayPeriods=0]="DayPeriods",mn[mn.Days=1]="Days",mn[mn.Months=2]="Months",mn[mn.Eras=3]="Eras",mn))();function Rn(S,G,O,te){let Me=function ie(S){if(xt(S))return S;if("number"==typeof S&&!isNaN(S))return new Date(S);if("string"==typeof S){if(S=S.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(S)){const[Me,vt=1,Rt=1]=S.split("-").map(Nn=>+Nn);return Et(Me,vt-1,Rt)}const O=parseFloat(S);if(!isNaN(S-O))return new Date(O);let te;if(te=S.match(Pi))return function Be(S){const G=new Date(0);let O=0,te=0;const Me=S[8]?G.setUTCFullYear:G.setFullYear,vt=S[8]?G.setUTCHours:G.setHours;S[9]&&(O=Number(S[9]+S[10]),te=Number(S[9]+S[11])),Me.call(G,Number(S[1]),Number(S[2])-1,Number(S[3]));const Rt=Number(S[4]||0)-O,Nn=Number(S[5]||0)-te,_r=Number(S[6]||0),Br=Math.floor(1e3*parseFloat("0."+(S[7]||0)));return vt.call(G,Rt,Nn,_r,Br),G}(te)}const G=new Date(S);if(!xt(G))throw new Error(`Unable to convert "${S}" into a date`);return G}(S);G=Se(O,G)||G;let Nn,Rt=[];for(;G;){if(Nn=Hn.exec(G),!Nn){Rt.push(G);break}{Rt=Rt.concat(Nn.slice(1));const jr=Rt.pop();if(!jr)break;G=jr}}let _r=Me.getTimezoneOffset();te&&(_r=Oe(te,_r),Me=function Z(S,G,O){const te=O?-1:1,Me=S.getTimezoneOffset();return function ue(S,G){return(S=new Date(S.getTime())).setMinutes(S.getMinutes()+G),S}(S,te*(Oe(G,Me)-Me))}(Me,te,!0));let Br="";return Rt.forEach(jr=>{const Tr=function ce(S){if(De[S])return De[S];let G;switch(S){case"G":case"GG":case"GGG":G=ln(mn.Eras,Ve.Abbreviated);break;case"GGGG":G=ln(mn.Eras,Ve.Wide);break;case"GGGGG":G=ln(mn.Eras,Ve.Narrow);break;case"y":G=Qt(yn.FullYear,1,0,!1,!0);break;case"yy":G=Qt(yn.FullYear,2,0,!0,!0);break;case"yyy":G=Qt(yn.FullYear,3,0,!1,!0);break;case"yyyy":G=Qt(yn.FullYear,4,0,!1,!0);break;case"Y":G=pn(1);break;case"YY":G=pn(2,!0);break;case"YYY":G=pn(3);break;case"YYYY":G=pn(4);break;case"M":case"L":G=Qt(yn.Month,1,1);break;case"MM":case"LL":G=Qt(yn.Month,2,1);break;case"MMM":G=ln(mn.Months,Ve.Abbreviated);break;case"MMMM":G=ln(mn.Months,Ve.Wide);break;case"MMMMM":G=ln(mn.Months,Ve.Narrow);break;case"LLL":G=ln(mn.Months,Ve.Abbreviated,_e.Standalone);break;case"LLLL":G=ln(mn.Months,Ve.Wide,_e.Standalone);break;case"LLLLL":G=ln(mn.Months,Ve.Narrow,_e.Standalone);break;case"w":G=It(1);break;case"ww":G=It(2);break;case"W":G=It(1,!0);break;case"d":G=Qt(yn.Date,1);break;case"dd":G=Qt(yn.Date,2);break;case"c":case"cc":G=Qt(yn.Day,1);break;case"ccc":G=ln(mn.Days,Ve.Abbreviated,_e.Standalone);break;case"cccc":G=ln(mn.Days,Ve.Wide,_e.Standalone);break;case"ccccc":G=ln(mn.Days,Ve.Narrow,_e.Standalone);break;case"cccccc":G=ln(mn.Days,Ve.Short,_e.Standalone);break;case"E":case"EE":case"EEE":G=ln(mn.Days,Ve.Abbreviated);break;case"EEEE":G=ln(mn.Days,Ve.Wide);break;case"EEEEE":G=ln(mn.Days,Ve.Narrow);break;case"EEEEEE":G=ln(mn.Days,Ve.Short);break;case"a":case"aa":case"aaa":G=ln(mn.DayPeriods,Ve.Abbreviated);break;case"aaaa":G=ln(mn.DayPeriods,Ve.Wide);break;case"aaaaa":G=ln(mn.DayPeriods,Ve.Narrow);break;case"b":case"bb":case"bbb":G=ln(mn.DayPeriods,Ve.Abbreviated,_e.Standalone,!0);break;case"bbbb":G=ln(mn.DayPeriods,Ve.Wide,_e.Standalone,!0);break;case"bbbbb":G=ln(mn.DayPeriods,Ve.Narrow,_e.Standalone,!0);break;case"B":case"BB":case"BBB":G=ln(mn.DayPeriods,Ve.Abbreviated,_e.Format,!0);break;case"BBBB":G=ln(mn.DayPeriods,Ve.Wide,_e.Format,!0);break;case"BBBBB":G=ln(mn.DayPeriods,Ve.Narrow,_e.Format,!0);break;case"h":G=Qt(yn.Hours,1,-12);break;case"hh":G=Qt(yn.Hours,2,-12);break;case"H":G=Qt(yn.Hours,1);break;case"HH":G=Qt(yn.Hours,2);break;case"m":G=Qt(yn.Minutes,1);break;case"mm":G=Qt(yn.Minutes,2);break;case"s":G=Qt(yn.Seconds,1);break;case"ss":G=Qt(yn.Seconds,2);break;case"S":G=Qt(yn.FractionalSeconds,1);break;case"SS":G=Qt(yn.FractionalSeconds,2);break;case"SSS":G=Qt(yn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":G=we(qn.Short);break;case"ZZZZZ":G=we(qn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":G=we(qn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":G=we(qn.Long);break;default:return null}return De[S]=G,G}(jr);Br+=Tr?Tr(Me,O,_r):"''"===jr?"'":jr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Br}function Et(S,G,O){const te=new Date(0);return te.setFullYear(S,G,O),te.setHours(0,0,0),te}function Se(S,G){const O=function jt(S){return(0,c.cg1)(S)[c.wAp.LocaleId]}(S);if(Ar[O]=Ar[O]||{},Ar[O][G])return Ar[O][G];let te="";switch(G){case"shortDate":te=Dt(S,xe.Short);break;case"mediumDate":te=Dt(S,xe.Medium);break;case"longDate":te=Dt(S,xe.Long);break;case"fullDate":te=Dt(S,xe.Full);break;case"shortTime":te=ht(S,xe.Short);break;case"mediumTime":te=ht(S,xe.Medium);break;case"longTime":te=ht(S,xe.Long);break;case"fullTime":te=ht(S,xe.Full);break;case"short":const Me=Se(S,"shortTime"),vt=Se(S,"shortDate");te=Ue(wt(S,xe.Short),[Me,vt]);break;case"medium":const Rt=Se(S,"mediumTime"),Nn=Se(S,"mediumDate");te=Ue(wt(S,xe.Medium),[Rt,Nn]);break;case"long":const _r=Se(S,"longTime"),Br=Se(S,"longDate");te=Ue(wt(S,xe.Long),[_r,Br]);break;case"full":const jr=Se(S,"fullTime"),Tr=Se(S,"fullDate");te=Ue(wt(S,xe.Full),[jr,Tr])}return te&&(Ar[O][G]=te),te}function Ue(S,G){return G&&(S=S.replace(/\{([^}]+)}/g,function(O,te){return null!=G&&te in G?G[te]:O})),S}function yt(S,G,O="-",te,Me){let vt="";(S<0||Me&&S<=0)&&(Me?S=1-S:(S=-S,vt=O));let Rt=String(S);for(;Rt.length<G;)Rt="0"+Rt;return te&&(Rt=Rt.slice(Rt.length-G)),vt+Rt}function Qt(S,G,O=0,te=!1,Me=!1){return function(vt,Rt){let Nn=function Xn(S,G){switch(S){case yn.FullYear:return G.getFullYear();case yn.Month:return G.getMonth();case yn.Date:return G.getDate();case yn.Hours:return G.getHours();case yn.Minutes:return G.getMinutes();case yn.Seconds:return G.getSeconds();case yn.FractionalSeconds:return G.getMilliseconds();case yn.Day:return G.getDay();default:throw new Error(`Unknown DateType value "${S}".`)}}(S,vt);if((O>0||Nn>-O)&&(Nn+=O),S===yn.Hours)0===Nn&&-12===O&&(Nn=12);else if(S===yn.FractionalSeconds)return function St(S,G){return yt(S,3).substring(0,G)}(Nn,G);const _r=Xt(Rt,$e.MinusSign);return yt(Nn,G,_r,te,Me)}}function ln(S,G,O=_e.Format,te=!1){return function(Me,vt){return function Sn(S,G,O,te,Me,vt){switch(O){case mn.Months:return function un(S,G,O){const te=(0,c.cg1)(S),vt=Ut([te[c.wAp.MonthsFormat],te[c.wAp.MonthsStandalone]],G);return Ut(vt,O)}(G,Me,te)[S.getMonth()];case mn.Days:return function nn(S,G,O){const te=(0,c.cg1)(S),vt=Ut([te[c.wAp.DaysFormat],te[c.wAp.DaysStandalone]],G);return Ut(vt,O)}(G,Me,te)[S.getDay()];case mn.DayPeriods:const Rt=S.getHours(),Nn=S.getMinutes();if(vt){const Br=function rr(S){const G=(0,c.cg1)(S);return cn(G),(G[c.wAp.ExtraData][2]||[]).map(te=>"string"==typeof te?or(te):[or(te[0]),or(te[1])])}(G),jr=function br(S,G,O){const te=(0,c.cg1)(S);cn(te);const vt=Ut([te[c.wAp.ExtraData][0],te[c.wAp.ExtraData][1]],G)||[];return Ut(vt,O)||[]}(G,Me,te),Tr=Br.findIndex(Ci=>{if(Array.isArray(Ci)){const[Qr,ni]=Ci,$=Rt>=Qr.hours&&Nn>=Qr.minutes,_=Rt<ni.hours||Rt===ni.hours&&Nn<ni.minutes;if(Qr.hours<ni.hours){if($&&_)return!0}else if($||_)return!0}else if(Ci.hours===Rt&&Ci.minutes===Nn)return!0;return!1});if(-1!==Tr)return jr[Tr]}return function Kt(S,G,O){const te=(0,c.cg1)(S),vt=Ut([te[c.wAp.DayPeriodsFormat],te[c.wAp.DayPeriodsStandalone]],G);return Ut(vt,O)}(G,Me,te)[Rt<12?0:1];case mn.Eras:return function Ot(S,G){return Ut((0,c.cg1)(S)[c.wAp.Eras],G)}(G,te)[S.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${O}`)}}(Me,vt,S,G,O,te)}}function we(S){return function(G,O,te){const Me=-1*te,vt=Xt(O,$e.MinusSign),Rt=Me>0?Math.floor(Me/60):Math.ceil(Me/60);switch(S){case qn.Short:return(Me>=0?"+":"")+yt(Rt,2,vt)+yt(Math.abs(Me%60),2,vt);case qn.ShortGMT:return"GMT"+(Me>=0?"+":"")+yt(Rt,1,vt);case qn.Long:return"GMT"+(Me>=0?"+":"")+yt(Rt,2,vt)+":"+yt(Math.abs(Me%60),2,vt);case qn.Extended:return 0===te?"Z":(Me>=0?"+":"")+yt(Rt,2,vt)+":"+yt(Math.abs(Me%60),2,vt);default:throw new Error(`Unknown zone width "${S}"`)}}}function ut(S){return Et(S.getFullYear(),S.getMonth(),S.getDate()+(4-S.getDay()))}function It(S,G=!1){return function(O,te){let Me;if(G){const vt=new Date(O.getFullYear(),O.getMonth(),1).getDay()-1,Rt=O.getDate();Me=1+Math.floor((Rt+vt)/7)}else{const vt=ut(O),Rt=function ve(S){const G=Et(S,0,1).getDay();return Et(S,0,1+(G<=4?4:11)-G)}(vt.getFullYear()),Nn=vt.getTime()-Rt.getTime();Me=1+Math.round(Nn/6048e5)}return yt(Me,S,Xt(te,$e.MinusSign))}}function pn(S,G=!1){return function(O,te){return yt(ut(O).getFullYear(),S,Xt(te,$e.MinusSign),G)}}const De={};function Oe(S,G){S=S.replace(/:/g,"");const O=Date.parse("Jan 01, 1970 00:00:00 "+S)/6e4;return isNaN(O)?G:O}function xt(S){return S instanceof Date&&!isNaN(S.valueOf())}function Oi(S,G){G=encodeURIComponent(G);for(const O of S.split(";")){const te=O.indexOf("="),[Me,vt]=-1==te?[O,""]:[O.slice(0,te),O.slice(te+1)];if(Me.trim()===G)return decodeURIComponent(vt)}return null}let Ir=(()=>{class S{constructor(O,te,Me,vt){this._iterableDiffers=O,this._keyValueDiffers=te,this._ngEl=Me,this._renderer=vt,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(O){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof O?O.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(O){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof O?O.split(/\s+/):O,this._rawClass&&((0,c.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const O=this._iterableDiffer.diff(this._rawClass);O&&this._applyIterableChanges(O)}else if(this._keyValueDiffer){const O=this._keyValueDiffer.diff(this._rawClass);O&&this._applyKeyValueChanges(O)}}_applyKeyValueChanges(O){O.forEachAddedItem(te=>this._toggleClass(te.key,te.currentValue)),O.forEachChangedItem(te=>this._toggleClass(te.key,te.currentValue)),O.forEachRemovedItem(te=>{te.previousValue&&this._toggleClass(te.key,!1)})}_applyIterableChanges(O){O.forEachAddedItem(te=>{if("string"!=typeof te.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,c.AaK)(te.item)}`);this._toggleClass(te.item,!0)}),O.forEachRemovedItem(te=>this._toggleClass(te.item,!1))}_applyClasses(O){O&&(Array.isArray(O)||O instanceof Set?O.forEach(te=>this._toggleClass(te,!0)):Object.keys(O).forEach(te=>this._toggleClass(te,!!O[te])))}_removeClasses(O){O&&(Array.isArray(O)||O instanceof Set?O.forEach(te=>this._toggleClass(te,!1)):Object.keys(O).forEach(te=>this._toggleClass(te,!1)))}_toggleClass(O,te){(O=O.trim())&&O.split(/\s+/g).forEach(Me=>{te?this._renderer.addClass(this._ngEl.nativeElement,Me):this._renderer.removeClass(this._ngEl.nativeElement,Me)})}}return S.\u0275fac=function(O){return new(O||S)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},S.\u0275dir=c.lG2({type:S,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),S})();class ss{constructor(G,O,te,Me){this.$implicit=G,this.ngForOf=O,this.index=te,this.count=Me}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ms=(()=>{class S{constructor(O,te,Me){this._viewContainer=O,this._template=te,this._differs=Me,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(O){this._ngForOf=O,this._ngForOfDirty=!0}set ngForTrackBy(O){this._trackByFn=O}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(O){O&&(this._template=O)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const O=this._ngForOf;!this._differ&&O&&(this._differ=this._differs.find(O).create(this.ngForTrackBy))}if(this._differ){const O=this._differ.diff(this._ngForOf);O&&this._applyChanges(O)}}_applyChanges(O){const te=this._viewContainer;O.forEachOperation((Me,vt,Rt)=>{if(null==Me.previousIndex)te.createEmbeddedView(this._template,new ss(Me.item,this._ngForOf,-1,-1),null===Rt?void 0:Rt);else if(null==Rt)te.remove(null===vt?void 0:vt);else if(null!==vt){const Nn=te.get(vt);te.move(Nn,Rt),Je(Nn,Me)}});for(let Me=0,vt=te.length;Me<vt;Me++){const Nn=te.get(Me).context;Nn.index=Me,Nn.count=vt,Nn.ngForOf=this._ngForOf}O.forEachIdentityChange(Me=>{Je(te.get(Me.currentIndex),Me)})}static ngTemplateContextGuard(O,te){return!0}}return S.\u0275fac=function(O){return new(O||S)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},S.\u0275dir=c.lG2({type:S,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),S})();function Je(S,G){S.context.$implicit=G.item}let it=(()=>{class S{constructor(O,te){this._viewContainer=O,this._context=new Mt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=te}set ngIf(O){this._context.$implicit=this._context.ngIf=O,this._updateView()}set ngIfThen(O){Vt("ngIfThen",O),this._thenTemplateRef=O,this._thenViewRef=null,this._updateView()}set ngIfElse(O){Vt("ngIfElse",O),this._elseTemplateRef=O,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(O,te){return!0}}return S.\u0275fac=function(O){return new(O||S)(c.Y36(c.s_b),c.Y36(c.Rgc))},S.\u0275dir=c.lG2({type:S,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),S})();class Mt{constructor(){this.$implicit=null,this.ngIf=null}}function Vt(S,G){if(G&&!G.createEmbeddedView)throw new Error(`${S} must be a TemplateRef, but received '${(0,c.AaK)(G)}'.`)}function Li(S,G){return new c.vHH(2100,!1)}class Ei{createSubscription(G,O){return G.subscribe({next:O,error:te=>{throw te}})}dispose(G){G.unsubscribe()}}class as{createSubscription(G,O){return G.then(O,te=>{throw te})}dispose(G){}}const oo=new as,Ys=new Ei;let ao=(()=>{class S{constructor(O){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=O}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(O){return this._obj?O!==this._obj?(this._dispose(),this.transform(O)):this._latestValue:(O&&this._subscribe(O),this._latestValue)}_subscribe(O){this._obj=O,this._strategy=this._selectStrategy(O),this._subscription=this._strategy.createSubscription(O,te=>this._updateLatestValue(O,te))}_selectStrategy(O){if((0,c.QGY)(O))return oo;if((0,c.F4k)(O))return Ys;throw Li()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(O,te){O===this._obj&&(this._latestValue=te,this._ref.markForCheck())}}return S.\u0275fac=function(O){return new(O||S)(c.Y36(c.sBO,16))},S.\u0275pipe=c.Yjl({name:"async",type:S,pure:!1,standalone:!0}),S})();const yo=new c.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let uo=(()=>{class S{constructor(O,te){this.locale=O,this.defaultTimezone=te}transform(O,te="mediumDate",Me,vt){if(null==O||""===O||O!=O)return null;try{return Rn(O,te,vt||this.locale,Me??this.defaultTimezone??void 0)}catch(Rt){throw Li()}}}return S.\u0275fac=function(O){return new(O||S)(c.Y36(c.soG,16),c.Y36(yo,24))},S.\u0275pipe=c.Yjl({name:"date",type:S,pure:!0,standalone:!0}),S})(),As=(()=>{class S{}return S.\u0275fac=function(O){return new(O||S)},S.\u0275mod=c.oAB({type:S}),S.\u0275inj=c.cJS({}),S})();const ki="browser";function W(S){return"server"===S}let Ct=(()=>{class S{}return S.\u0275prov=(0,c.Yz7)({token:S,providedIn:"root",factory:()=>new en((0,c.LFG)(ke),window)}),S})();class en{constructor(G,O){this.document=G,this.window=O,this.offset=()=>[0,0]}setOffset(G){this.offset=Array.isArray(G)?()=>G:G}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(G){this.supportsScrolling()&&this.window.scrollTo(G[0],G[1])}scrollToAnchor(G){if(!this.supportsScrolling())return;const O=function hn(S,G){const O=S.getElementById(G)||S.getElementsByName(G)[0];if(O)return O;if("function"==typeof S.createTreeWalker&&S.body&&(S.body.createShadowRoot||S.body.attachShadow)){const te=S.createTreeWalker(S.body,NodeFilter.SHOW_ELEMENT);let Me=te.currentNode;for(;Me;){const vt=Me.shadowRoot;if(vt){const Rt=vt.getElementById(G)||vt.querySelector(`[name="${G}"]`);if(Rt)return Rt}Me=te.nextNode()}}return null}(this.document,G);O&&(this.scrollToElement(O),O.focus())}setHistoryScrollRestoration(G){if(this.supportScrollRestoration()){const O=this.window.history;O&&O.scrollRestoration&&(O.scrollRestoration=G)}}scrollToElement(G){const O=G.getBoundingClientRect(),te=O.left+this.window.pageXOffset,Me=O.top+this.window.pageYOffset,vt=this.offset();this.window.scrollTo(te-vt[0],Me-vt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const G=In(this.window.history)||In(Object.getPrototypeOf(this.window.history));return!(!G||!G.writable&&!G.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function In(S){return Object.getOwnPropertyDescriptor(S,"scrollRestoration")}class cr{}},4650:(tn,et,P)=>{P.d(et,{$8M:()=>er,$Z:()=>am,AFp:()=>wE,ALo:()=>j0,AaK:()=>Pe,AsE:()=>Wp,CHM:()=>Po,CRH:()=>Q0,CZH:()=>Ay,CqO:()=>jm,D6c:()=>MI,DdM:()=>k0,EJc:()=>Gb,EpF:()=>kh,F4k:()=>Bm,FYo:()=>gf,FiY:()=>qt,G48:()=>dI,GfV:()=>cl,Gpc:()=>Q,JOm:()=>Ya,KtG:()=>eo,LFG:()=>Bi,LSH:()=>sf,Lbi:()=>Bb,Lck:()=>kw,MAs:()=>md,MGl:()=>Ed,MMx:()=>av,NdJ:()=>_d,OlP:()=>ci,Oqu:()=>Zp,PXZ:()=>sI,Q6J:()=>Pp,QGY:()=>Fp,QP$:()=>xt,QbO:()=>jb,Qsj:()=>Vy,R0b:()=>ru,RDi:()=>Qh,Rgc:()=>ig,SBq:()=>ll,Sil:()=>Zb,Suo:()=>Y0,TTD:()=>Ui,TgZ:()=>yd,W1O:()=>tE,X6Q:()=>cI,XFs:()=>Ut,Xpm:()=>le,Xts:()=>Nd,Y36:()=>Vu,YKP:()=>T0,YNc:()=>P_,Yjl:()=>ue,Yz7:()=>ht,Z0I:()=>sr,ZZ4:()=>Pv,_Bn:()=>D0,_UZ:()=>Np,_Vd:()=>al,_c5:()=>SI,_uU:()=>iy,aQg:()=>Ov,c2e:()=>Hb,cJS:()=>Xt,cg1:()=>Gh,dDg:()=>tI,dqk:()=>Rn,eFA:()=>NE,ekj:()=>tu,eoX:()=>RE,f3M:()=>Ga,g9A:()=>IE,h0i:()=>Wh,hGG:()=>AI,hij:()=>Bh,iGM:()=>K0,ifc:()=>mn,ip1:()=>EE,jDz:()=>A0,kL8:()=>zh,lG2:()=>Oe,lcZ:()=>H0,lnq:()=>qp,lqb:()=>il,lri:()=>ME,n5z:()=>Gn,oAB:()=>pn,oxw:()=>Lh,q4F:()=>vg,qLn:()=>kc,qOj:()=>Rh,qZA:()=>Cl,rWj:()=>xE,sBO:()=>hI,sIi:()=>El,s_b:()=>Dy,soG:()=>My,tb:()=>CE,tp0:()=>Qn,uIk:()=>fd,vHH:()=>ze,vpe:()=>Qu,wAp:()=>mr,xi3:()=>$0,xp6:()=>Bf,z2F:()=>xy,zSh:()=>df,zs3:()=>mu});var c=P(7579),U=P(727),j=P(9751),pe=P(6451),m=P(3099);function Te(n){for(let r in n)if(n[r]===Te)return r;throw Error("Could not find renamed property on target object.")}function ke(n,r){for(const s in r)r.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=r[s])}function Pe(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Pe).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function Ae(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const q=Te({__forward_ref__:Te});function Q(n){return n.__forward_ref__=Q,n.toString=function(){return Pe(this())},n}function me(n){return tt(n)?n():n}function tt(n){return"function"==typeof n&&n.hasOwnProperty(q)&&n.__forward_ref__===Q}class ze extends Error{constructor(r,s){super(function Pt(n,r){return`NG0${Math.abs(n)}${r?": "+r.trim():""}`}(r,s)),this.code=r}}function We(n){return"string"==typeof n?n:null==n?"":String(n)}function He(n,r){throw new ze(-201,!1)}function un(n,r){null==n&&function Ot(n,r,s,a){throw new Error(`ASSERTION ERROR: ${n}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,n,null,"!=")}function ht(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Xt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Fn(n){return Wn(n,cn)||Wn(n,br)}function sr(n){return null!==Fn(n)}function Wn(n,r){return n.hasOwnProperty(r)?n[r]:null}function fr(n){return n&&(n.hasOwnProperty(rr)||n.hasOwnProperty(dr))?n[rr]:null}const cn=Te({\u0275prov:Te}),rr=Te({\u0275inj:Te}),br=Te({ngInjectableDef:Te}),dr=Te({ngInjectorDef:Te});var Ut=(()=>((Ut=Ut||{})[Ut.Default=0]="Default",Ut[Ut.Host=1]="Host",Ut[Ut.Self=2]="Self",Ut[Ut.SkipSelf=4]="SkipSelf",Ut[Ut.Optional=8]="Optional",Ut))();let or;function jn(n){const r=or;return or=n,r}function pr(n,r,s){const a=Fn(n);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&Ut.Optional?null:void 0!==r?r:void He(Pe(n))}function Ar(n){return{toString:n}.toString()}var Hn=(()=>((Hn=Hn||{})[Hn.OnPush=0]="OnPush",Hn[Hn.Default=1]="Default",Hn))(),mn=(()=>{return(n=mn||(mn={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",mn;var n})();const Rn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ue={},yt=[],St=Te({\u0275cmp:Te}),Qt=Te({\u0275dir:Te}),Xn=Te({\u0275pipe:Te}),ln=Te({\u0275mod:Te}),Sn=Te({\u0275fac:Te}),we=Te({__NG_ELEMENT_ID__:Te});let lt=0;function le(n){return Ar(()=>{const s=!0===n.standalone,a={},l={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Hn.OnPush,directiveDefs:null,pipeDefs:null,standalone:s,dependencies:s&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||yt,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||mn.Emulated,id:"c"+lt++,styles:n.styles||yt,_:null,setInput:null,schemas:n.schemas||null,tView:null},h=n.dependencies,v=n.features;return l.inputs=ce(n.inputs,a),l.outputs=ce(n.outputs),v&&v.forEach(C=>C(l)),l.directiveDefs=h?()=>("function"==typeof h?h():h).map(ut).filter(It):null,l.pipeDefs=h?()=>("function"==typeof h?h():h).map(Be).filter(It):null,l})}function ut(n){return Z(n)||ie(n)}function It(n){return null!==n}function pn(n){return Ar(()=>({type:n.type,bootstrap:n.bootstrap||yt,declarations:n.declarations||yt,imports:n.imports||yt,exports:n.exports||yt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function ce(n,r){if(null==n)return Ue;const s={};for(const a in n)if(n.hasOwnProperty(a)){let l=n[a],h=l;Array.isArray(l)&&(h=l[1],l=l[0]),s[l]=a,r&&(r[l]=h)}return s}const Oe=le;function ue(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Z(n){return n[St]||null}function ie(n){return n[Qt]||null}function Be(n){return n[Xn]||null}function xt(n){const r=Z(n)||ie(n)||Be(n);return null!==r&&r.standalone}function rn(n,r){const s=n[ln]||null;if(!s&&!0===r)throw new Error(`Type ${Pe(n)} does not have '\u0275mod' property.`);return s}function Vt(n){return Array.isArray(n)&&"object"==typeof n[1]}function dn(n){return Array.isArray(n)&&!0===n[1]}function lr(n){return 0!=(8&n.flags)}function Fr(n){return 2==(2&n.flags)}function Mr(n){return 1==(1&n.flags)}function Vr(n){return null!==n.template}function Ni(n){return 0!=(256&n[2])}function di(n,r){return n.hasOwnProperty(Sn)?n[Sn]:null}class ys{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function Ui(){return lo}function lo(n){return n.type.prototype.ngOnChanges&&(n.setInput=zs),Js}function Js(){const n=vs(this),r=n?.current;if(r){const s=n.previous;if(s===Ue)n.previous=r;else for(let a in r)s[a]=r[a];n.current=null,this.ngOnChanges(r)}}function zs(n,r,s,a){const l=vs(n)||function As(n,r){return n[_s]=r}(n,{previous:Ue,current:null}),h=l.current||(l.current={}),v=l.previous,C=this.declaredInputs[s],x=v[C];h[C]=new ys(x&&x.currentValue,r,v===Ue),n[a]=r}Ui.ngInherit=!0;const _s="__ngSimpleChanges__";function vs(n){return n[_s]||null}function Ze(n){for(;Array.isArray(n);)n=n[0];return n}function In(n,r){return Ze(r[n])}function hn(n,r){return Ze(r[n.index])}function cr(n,r){return n.data[r]}function Dr(n,r){return n[r]}function $n(n,r){const s=r[n];return Vt(s)?s:s[0]}function $r(n){return 64==(64&n[2])}function xr(n,r){return null==r?null:n[r]}function qi(n){n[18]=0}function Gr(n,r){n[5]+=r;let s=n,a=n[3];for(;null!==a&&(1===r&&1===s[5]||-1===r&&0===s[5]);)a[5]+=r,s=a,a=a[3]}const Dn={lFrame:Co(null),bindingsEnabled:!0};function ws(){return Dn.bindingsEnabled}function Gt(){return Dn.lFrame.lView}function hr(){return Dn.lFrame.tView}function Po(n){return Dn.lFrame.contextLView=n,n[8]}function eo(n){return Dn.lFrame.contextLView=null,n}function oi(){let n=Us();for(;null!==n&&64===n.type;)n=n.parent;return n}function Us(){return Dn.lFrame.currentTNode}function Ii(n,r){const s=Dn.lFrame;s.currentTNode=n,s.isParent=r}function Ho(){return Dn.lFrame.isParent}function M(){const n=Dn.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function ne(){return Dn.lFrame.bindingIndex}function En(){return Dn.lFrame.bindingIndex++}function Lr(n){const r=Dn.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,s}function Ms(n,r){const s=Dn.lFrame;s.bindingIndex=s.bindingRootIndex=n,po(r)}function po(n){Dn.lFrame.currentDirectiveIndex=n}function $o(){return Dn.lFrame.currentQueryIndex}function ia(n){Dn.lFrame.currentQueryIndex=n}function Io(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function pa(n,r,s){if(s&Ut.SkipSelf){let l=r,h=n;for(;!(l=l.parent,null!==l||s&Ut.Host||(l=Io(h),null===l||(h=h[15],10&l.type))););if(null===l)return!1;r=l,n=h}const a=Dn.lFrame=Yo();return a.currentTNode=r,a.lView=n,!0}function Is(n){const r=Yo(),s=n[1];Dn.lFrame=r,r.currentTNode=s.firstChild,r.lView=n,r.tView=s,r.contextLView=n,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function Yo(){const n=Dn.lFrame,r=null===n?null:n.child;return null===r?Co(n):r}function Co(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function ga(){const n=Dn.lFrame;return Dn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const S=ga;function G(){const n=ga();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Me(){return Dn.lFrame.selectedIndex}function vt(n){Dn.lFrame.selectedIndex=n}function Rt(){const n=Dn.lFrame;return cr(n.tView,n.selectedIndex)}function Qr(n,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const h=n.data[s].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:C,ngAfterViewInit:x,ngAfterViewChecked:H,ngOnDestroy:re}=h;v&&(n.contentHooks||(n.contentHooks=[])).push(-s,v),C&&((n.contentHooks||(n.contentHooks=[])).push(s,C),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(s,C)),x&&(n.viewHooks||(n.viewHooks=[])).push(-s,x),H&&((n.viewHooks||(n.viewHooks=[])).push(s,H),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(s,H)),null!=re&&(n.destroyHooks||(n.destroyHooks=[])).push(s,re)}}function ni(n,r,s){E(n,r,3,s)}function $(n,r,s,a){(3&n[2])===s&&E(n,r,s,a)}function _(n,r){let s=n[2];(3&s)===r&&(s&=2047,s+=1,n[2]=s)}function E(n,r,s,a){const h=a??-1,v=r.length-1;let C=0;for(let x=void 0!==a?65535&n[18]:0;x<v;x++)if("number"==typeof r[x+1]){if(C=r[x],null!=a&&C>=a)break}else r[x]<0&&(n[18]+=65536),(C<h||-1==h)&&(N(n,s,r,x),n[18]=(4294901760&n[18])+x+2),x++}function N(n,r,s,a){const l=s[a]<0,h=s[a+1],C=n[l?-s[a]:s[a]];if(l){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{h.call(C)}finally{}}}else try{h.call(C)}finally{}}const K=-1;class se{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function Zn(n,r,s){let a=0;for(;a<s.length;){const l=s[a];if("number"==typeof l){if(0!==l)break;a++;const h=s[a++],v=s[a++],C=s[a++];n.setAttribute(r,v,C,h)}else{const h=l,v=s[++a];Jr(h)?n.setProperty(r,h,v):n.setAttribute(r,h,v),a++}}return a}function ar(n){return 3===n||4===n||6===n}function Jr(n){return 64===n.charCodeAt(0)}function Xr(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const l=r[a];"number"==typeof l?s=l:0===s||Ki(n,s,l,null,-1===s||2===s?r[++a]:null)}}return n}function Ki(n,r,s,a,l){let h=0,v=n.length;if(-1===r)v=-1;else for(;h<n.length;){const C=n[h++];if("number"==typeof C){if(C===r){v=-1;break}if(C>r){v=h-1;break}}}for(;h<n.length;){const C=n[h];if("number"==typeof C)break;if(C===s){if(null===a)return void(null!==l&&(n[h+1]=l));if(a===n[h+1])return void(n[h+2]=l)}h++,null!==a&&h++,null!==l&&h++}-1!==v&&(n.splice(v,0,r),h=v+1),n.splice(h++,0,s),null!==a&&n.splice(h++,0,a),null!==l&&n.splice(h++,0,l)}function ns(n){return n!==K}function Ur(n){return 32767&n}function Zr(n,r){let s=function sa(n){return n>>16}(n),a=r;for(;s>0;)a=a[15],s--;return a}let Vi=!0;function Yi(n){const r=Vi;return Vi=n,r}let ui=0;const li={};function xn(n,r){const s=Yn(n,r);if(-1!==s)return s;const a=r[1];a.firstCreatePass&&(n.injectorIndex=r.length,Wt(a.data,n),Wt(r,null),Wt(a.blueprint,null));const l=Nt(n,r),h=n.injectorIndex;if(ns(l)){const v=Ur(l),C=Zr(l,r),x=C[1].data;for(let H=0;H<8;H++)r[h+H]=C[v+H]|x[v+H]}return r[h+8]=l,h}function Wt(n,r){n.push(0,0,0,0,0,0,0,0,r)}function Yn(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function Nt(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,a=null,l=r;for(;null!==l;){if(a=ai(l),null===a)return K;if(s++,l=l[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return K}function at(n,r,s){!function oa(n,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(we)&&(a=s[we]),null==a&&(a=s[we]=ui++);const l=255&a;r.data[n+(l>>5)]|=1<<l}(n,r,s)}function Wr(n,r,s){if(s&Ut.Optional||void 0!==n)return n;He()}function $i(n,r,s,a){if(s&Ut.Optional&&void 0===a&&(a=null),0==(s&(Ut.Self|Ut.Host))){const l=n[9],h=jn(void 0);try{return l?l.get(r,a,s&Ut.Optional):pr(r,a,s&Ut.Optional)}finally{jn(h)}}return Wr(a,0,s)}function xs(n,r,s,a=Ut.Default,l){if(null!==n){if(1024&r[2]){const v=function iu(n,r,s,a,l){let h=n,v=r;for(;null!==h&&null!==v&&1024&v[2]&&!(256&v[2]);){const C=Di(h,v,s,a|Ut.Self,li);if(C!==li)return C;let x=h.parent;if(!x){const H=v[21];if(H){const re=H.get(s,li,a);if(re!==li)return re}x=ai(v),v=v[15]}h=x}return l}(n,r,s,a,li);if(v!==li)return v}const h=Di(n,r,s,a,li);if(h!==li)return h}return $i(r,s,a,l)}function Di(n,r,s,a,l){const h=function zo(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(we)?n[we]:void 0;return"number"==typeof r?r>=0?255&r:ja:r}(s);if("function"==typeof h){if(!pa(r,n,a))return a&Ut.Host?Wr(l,0,a):$i(r,s,a,l);try{const v=h(a);if(null!=v||a&Ut.Optional)return v;He()}finally{S()}}else if("number"==typeof h){let v=null,C=Yn(n,r),x=K,H=a&Ut.Host?r[16][6]:null;for((-1===C||a&Ut.SkipSelf)&&(x=-1===C?Nt(n,r):r[C+8],x!==K&&Qo(a,!1)?(v=r[1],C=Ur(x),r=Zr(x,r)):C=-1);-1!==C;){const re=r[1];if(Cs(h,C,re.data)){const ye=aa(C,r,s,v,a,H);if(ye!==li)return ye}x=r[C+8],x!==K&&Qo(a,r[1].data[C+8]===H)&&Cs(h,C,r)?(v=re,C=Ur(x),r=Zr(x,r)):C=-1}}return l}function aa(n,r,s,a,l,h){const v=r[1],C=v.data[n+8],re=Go(C,v,s,null==a?Fr(C)&&Vi:a!=v&&0!=(3&C.type),l&Ut.Host&&h===C);return null!==re?Ti(r,v,re,C):li}function Go(n,r,s,a,l){const h=n.providerIndexes,v=r.data,C=1048575&h,x=n.directiveStart,re=h>>20,qe=l?C+re:n.directiveEnd;for(let ft=a?C:C+re;ft<qe;ft++){const Zt=v[ft];if(ft<x&&s===Zt||ft>=x&&Zt.type===s)return ft}if(l){const ft=v[x];if(ft&&Vr(ft)&&ft.type===s)return x}return null}function Ti(n,r,s,a){let l=n[s];const h=r.data;if(function Le(n){return n instanceof se}(l)){const v=l;v.resolving&&function Tt(n,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new ze(-200,`Circular dependency in DI detected for ${n}${s}`)}(function Ge(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():We(n)}(h[s]));const C=Yi(v.canSeeViewProviders);v.resolving=!0;const x=v.injectImpl?jn(v.injectImpl):null;pa(n,a,Ut.Default);try{l=n[s]=v.factory(void 0,h,n,a),r.firstCreatePass&&s>=a.directiveStart&&function Ci(n,r,s){const{ngOnChanges:a,ngOnInit:l,ngDoCheck:h}=r.type.prototype;if(a){const v=lo(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(n,v),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,v)}l&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-n,l),h&&((s.preOrderHooks||(s.preOrderHooks=[])).push(n,h),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,h))}(s,h[s],r)}finally{null!==x&&jn(x),Yi(C),v.resolving=!1,S()}}return l}function Cs(n,r,s){return!!(s[r+(n>>5)]&1<<n)}function Qo(n,r){return!(n&Ut.Self||n&Ut.Host&&r)}class ko{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return xs(this._tNode,this._lView,r,a,s)}}function ja(){return new ko(oi(),Gt())}function Gn(n){return Ar(()=>{const r=n.prototype.constructor,s=r[Sn]||Fo(r),a=Object.prototype;let l=Object.getPrototypeOf(n.prototype).constructor;for(;l&&l!==a;){const h=l[Sn]||Fo(l);if(h&&h!==s)return h;l=Object.getPrototypeOf(l)}return h=>new h})}function Fo(n){return tt(n)?()=>{const r=Fo(me(n));return r&&r()}:di(n)}function ai(n){const r=n[1],s=r.type;return 2===s?r.declTNode:1===s?n[6]:null}function er(n){return function kt(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const s=n.attrs;if(s){const a=s.length;let l=0;for(;l<a;){const h=s[l];if(ar(h))break;if(0===h)l+=2;else if("number"==typeof h)for(l++;l<a&&"string"==typeof s[l];)l++;else{if(h===r)return s[l+1];l+=2}}}return null}(oi(),n)}const Pr="__parameters__";function Zo(n,r,s){return Ar(()=>{const a=function wn(n){return function(...s){if(n){const a=n(...s);for(const l in a)this[l]=a[l]}}}(r);function l(...h){if(this instanceof l)return a.apply(this,h),this;const v=new l(...h);return C.annotation=v,C;function C(x,H,re){const ye=x.hasOwnProperty(Pr)?x[Pr]:Object.defineProperty(x,Pr,{value:[]})[Pr];for(;ye.length<=re;)ye.push(null);return(ye[re]=ye[re]||[]).push(v),x}}return s&&(l.prototype=Object.create(s.prototype)),l.prototype.ngMetadataName=n,l.annotationCls=l,l})}class ci{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=ht({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Rs(n,r){void 0===r&&(r=n);for(let s=0;s<n.length;s++){let a=n[s];Array.isArray(a)?(r===n&&(r=n.slice(0,s)),Rs(a,r)):r!==n&&r.push(a)}return r}function Vs(n,r){n.forEach(s=>Array.isArray(s)?Vs(s,r):r(s))}function Ha(n,r,s){r>=n.length?n.push(s):n.splice(r,0,s)}function _o(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function ro(n,r,s){let a=w(n,r);return a>=0?n[1|a]=s:(a=~a,function Ju(n,r,s,a){let l=n.length;if(l==r)n.push(s,a);else if(1===l)n.push(a,n[0]),n[0]=s;else{for(l--,n.push(n[l-1],n[l]);l>r;)n[l]=n[l-2],l--;n[r]=s,n[r+1]=a}}(n,a,r,s)),a}function Gi(n,r){const s=w(n,r);if(s>=0)return n[1|s]}function w(n,r){return function y(n,r,s){let a=0,l=n.length>>s;for(;l!==a;){const h=a+(l-a>>1),v=n[h<<s];if(r===v)return h<<s;v>r?l=h:a=h+1}return~(l<<s)}(n,r,1)}const Or={},Ps="__NG_DI_FLAG__",Os="ngTempTokenPath",Ai=/\n/gm,Bs="__source";let ya;function Uo(n){const r=ya;return ya=n,r}function uu(n,r=Ut.Default){if(void 0===ya)throw new ze(-203,!1);return null===ya?pr(n,void 0,r):ya.get(n,r&Ut.Optional?null:void 0,r)}function Bi(n,r=Ut.Default){return(function Ln(){return or}()||uu)(me(n),r)}function Ga(n,r=Ut.Default){return"number"!=typeof r&&(r=0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)),Bi(n,r)}function R(n){const r=[];for(let s=0;s<n.length;s++){const a=me(n[s]);if(Array.isArray(a)){if(0===a.length)throw new ze(900,!1);let l,h=Ut.Default;for(let v=0;v<a.length;v++){const C=a[v],x=ee(C);"number"==typeof x?-1===x?l=C.token:h|=x:l=C}r.push(Bi(l,h))}else r.push(Bi(a))}return r}function V(n,r){return n[Ps]=r,n.prototype[Ps]=r,n}function ee(n){return n[Ps]}const qt=V(Zo("Optional"),8),Qn=V(Zo("SkipSelf"),4);let Sc;function Qh(n){Sc=n}class Bl{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function ka(n){return n instanceof Bl?n.changingThisBreaksApplicationSecurity:n}const f=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var Ds=(()=>((Ds=Ds||{})[Ds.NONE=0]="NONE",Ds[Ds.HTML=1]="HTML",Ds[Ds.STYLE=2]="STYLE",Ds[Ds.SCRIPT=3]="SCRIPT",Ds[Ds.URL=4]="URL",Ds[Ds.RESOURCE_URL=5]="RESOURCE_URL",Ds))();function sf(n){const r=function du(){const n=Gt();return n&&n[12]}();return r?r.sanitize(Ds.URL,n)||"":function qa(n,r){const s=function Hl(n){return n instanceof Bl&&n.getTypeName()||null}(n);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===r}(n,"URL")?ka(n):function p(n){return(n=String(n)).match(f)?n:"unsafe:"+n}(We(n))}const Nd=new ci("ENVIRONMENT_INITIALIZER"),Fa=new ci("INJECTOR",-1),af=new ci("INJECTOR_DEF_TYPES");class Wl{get(r,s=Or){if(s===Or){const a=new Error(`NullInjectorError: No provider for ${Pe(r)}!`);throw a.name="NullInjectorError",a}return s}}function Fy(...n){return{\u0275providers:dg(0,n)}}function dg(n,...r){const s=[],a=new Set;let l;return Vs(r,h=>{const v=h;uf(v,s,[],a)&&(l||(l=[]),l.push(v))}),void 0!==l&&Hr(l,s),s}function Hr(n,r){for(let s=0;s<n.length;s++){const{providers:l}=n[s];Vs(l,h=>{r.push(h)})}}function uf(n,r,s,a){if(!(n=me(n)))return!1;let l=null,h=fr(n);const v=!h&&Z(n);if(h||v){if(v&&!v.standalone)return!1;l=n}else{const x=n.ngModule;if(h=fr(x),!h)return!1;l=x}const C=a.has(l);if(v){if(C)return!1;if(a.add(l),v.dependencies){const x="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const H of x)uf(H,r,s,a)}}else{if(!h)return!1;{if(null!=h.imports&&!C){let H;a.add(l);try{Vs(h.imports,re=>{uf(re,r,s,a)&&(H||(H=[]),H.push(re))})}finally{}void 0!==H&&Hr(H,r)}if(!C){const H=di(l)||(()=>new l);r.push({provide:l,useFactory:H,deps:yt},{provide:af,useValue:l,multi:!0},{provide:Nd,useValue:()=>Bi(l),multi:!0})}const x=h.providers;null==x||C||Vs(x,re=>{r.push(re)})}}return l!==n&&void 0!==n.providers}const xc=Te({provide:String,useValue:Te});function rl(n){return null!==n&&"object"==typeof n&&xc in n}function Pu(n){return"function"==typeof n}const df=new ci("Set Injector scope."),Pc={},fg={};let hf;function kd(){return void 0===hf&&(hf=new Wl),hf}class il{}class ql extends il{constructor(r,s,a,l){super(),this.parent=s,this.source=a,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ol(r,v=>this.processProvider(v)),this.records.set(Fa,sl(void 0,this)),l.has("environment")&&this.records.set(il,sl(void 0,this));const h=this.records.get(df);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(af.multi,yt,Ut.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const s=Uo(this),a=jn(void 0);try{return r()}finally{Uo(s),jn(a)}}get(r,s=Or,a=Ut.Default){this.assertNotDestroyed();const l=Uo(this),h=jn(void 0);try{if(!(a&Ut.SkipSelf)){let C=this.records.get(r);if(void 0===C){const x=function ff(n){return"function"==typeof n||"object"==typeof n&&n instanceof ci}(r)&&Fn(r);C=x&&this.injectableDefInScope(x)?sl(Fd(r),Pc):null,this.records.set(r,C)}if(null!=C)return this.hydrate(r,C)}return(a&Ut.Self?kd():this.parent).get(r,s=a&Ut.Optional&&s===Or?null:s)}catch(v){if("NullInjectorError"===v.name){if((v[Os]=v[Os]||[]).unshift(Pe(r)),l)throw v;return function Ce(n,r,s,a){const l=n[Os];throw r[Bs]&&l.unshift(r[Bs]),n.message=function nt(n,r,s,a=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let l=Pe(r);if(Array.isArray(r))l=r.map(Pe).join(" -> ");else if("object"==typeof r){let h=[];for(let v in r)if(r.hasOwnProperty(v)){let C=r[v];h.push(v+":"+("string"==typeof C?JSON.stringify(C):Pe(C)))}l=`{${h.join(", ")}}`}return`${s}${a?"("+a+")":""}[${l}]: ${n.replace(Ai,"\n  ")}`}("\n"+n.message,l,s,a),n.ngTokenPath=l,n[Os]=null,n}(v,r,"R3InjectorError",this.source)}throw v}finally{jn(h),Uo(l)}}resolveInjectorInitializers(){const r=Uo(this),s=jn(void 0);try{const a=this.get(Nd.multi,yt,Ut.Self);for(const l of a)l()}finally{Uo(r),jn(s)}}toString(){const r=[],s=this.records;for(const a of s.keys())r.push(Pe(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ze(205,!1)}processProvider(r){let s=Pu(r=me(r))?r:me(r&&r.provide);const a=function Mo(n){return rl(n)?sl(void 0,n.useValue):sl(Ld(n),Pc)}(r);if(Pu(r)||!0!==r.multi)this.records.get(s);else{let l=this.records.get(s);l||(l=sl(void 0,Pc,!0),l.factory=()=>R(l.multi),this.records.set(s,l)),s=r,l.multi.push(r)}this.records.set(s,a)}hydrate(r,s){return s.value===Pc&&(s.value=fg,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Ka(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=me(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}}function Fd(n){const r=Fn(n),s=null!==r?r.factory:di(n);if(null!==s)return s;if(n instanceof ci)throw new ze(204,!1);if(n instanceof Function)return function Ly(n){const r=n.length;if(r>0)throw function ca(n,r){const s=[];for(let a=0;a<n;a++)s.push(r);return s}(r,"?"),new ze(204,!1);const s=function nr(n){const r=n&&(n[cn]||n[br]);if(r){const s=function Kn(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new ze(204,!1)}function Ld(n,r,s){let a;if(Pu(n)){const l=me(n);return di(l)||Fd(l)}if(rl(n))a=()=>me(n.useValue);else if(function cf(n){return!(!n||!n.useFactory)}(n))a=()=>n.useFactory(...R(n.deps||[]));else if(function Rc(n){return!(!n||!n.useExisting)}(n))a=()=>Bi(me(n.useExisting));else{const l=me(n&&(n.useClass||n.provide));if(!function Oc(n){return!!n.deps}(n))return di(l)||Fd(l);a=()=>new l(...R(n.deps))}return a}function sl(n,r,s=!1){return{factory:n,value:r,multi:s?[]:void 0}}function pg(n){return!!n.\u0275providers}function ol(n,r){for(const s of n)Array.isArray(s)?ol(s,r):pg(s)?ol(s.\u0275providers,r):r(s)}class pf{}class Nc{resolveComponentFactory(r){throw function mg(n){const r=Error(`No component factory found for ${Pe(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let al=(()=>{class n{}return n.NULL=new Nc,n})();function Uy(){return ul(oi(),Gt())}function ul(n,r){return new ll(hn(n,r))}let ll=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=Uy,n})();function _g(n){return n instanceof ll?n.nativeElement:n}class gf{}let Vy=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function By(){const n=Gt(),s=$n(oi().index,n);return(Vt(s)?s:n)[11]}(),n})(),Kl=(()=>{class n{}return n.\u0275prov=ht({token:n,providedIn:"root",factory:()=>null}),n})();class cl{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const vg=new cl("14.2.8"),mf={};function Ef(n){return n.ngOriginalError}class kc{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&Ef(r);for(;s&&Ef(s);)s=Ef(s);return s||null}}const Fc=new Map;let xo=0;const hu="__ngContext__";function qs(n,r){Vt(r)?(n[hu]=r[20],function If(n){Fc.set(n[20],n)}(r)):n[hu]=r}function fu(n){return n instanceof Function?n():n}var Ya=(()=>((Ya=Ya||{})[Ya.Important=1]="Important",Ya[Ya.DashCase=2]="DashCase",Ya))();function Vc(n,r){return undefined(n,r)}function pu(n){const r=n[3];return dn(r)?r[3]:r}function zd(n){return ta(n[13])}function Zd(n){return ta(n[4])}function ta(n){for(;null!==n&&!dn(n);)n=n[4];return n}function gu(n,r,s,a,l){if(null!=a){let h,v=!1;dn(a)?h=a:Vt(a)&&(v=!0,a=a[0]);const C=Ze(a);0===n&&null!==s?null==l?Lg(r,s,C):Uu(r,s,C,l||null,!0):1===n&&null!==s?Uu(r,s,C,l||null,!0):2===n?function Hg(n,r,s){const a=jc(n,r);a&&function pl(n,r,s,a){n.removeChild(r,s,a)}(n,a,r,s)}(r,C,v):3===n&&r.destroyNode(C),null!=h&&function Gg(n,r,s,a,l){const h=s[7];h!==Ze(s)&&gu(r,n,a,h,l);for(let C=10;C<s.length;C++){const x=s[C];Hc(x[1],x,n,r,a,h)}}(r,n,h,s,l)}}function Fu(n,r,s){return n.createElement(r,s)}function Mf(n,r){const s=n[9],a=s.indexOf(r),l=r[3];512&r[2]&&(r[2]&=-513,Gr(l,-1)),s.splice(a,1)}function xf(n,r){if(n.length<=10)return;const s=10+r,a=n[s];if(a){const l=a[17];null!==l&&l!==n&&Mf(l,a),r>0&&(n[s-1][4]=a[4]);const h=_o(n,10+r);!function Og(n,r){Hc(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(a[1],a);const v=h[19];null!==v&&v.detachView(h[1]),a[3]=null,a[4]=null,a[2]&=-65}return a}function kg(n,r){if(!(128&r[2])){const s=r[11];s.destroyNode&&Hc(n,r,s,3,null,null),function Xl(n){let r=n[13];if(!r)return Rf(n[1],n);for(;r;){let s=null;if(Vt(r))s=r[13];else{const a=r[10];a&&(s=a)}if(!s){for(;r&&!r[4]&&r!==n;)Vt(r)&&Rf(r[1],r),r=r[3];null===r&&(r=n),Vt(r)&&Rf(r[1],r),s=r&&r[4]}r=s}}(r)}}function Rf(n,r){if(!(128&r[2])){r[2]&=-65,r[2]|=128,function Wd(n,r){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let a=0;a<s.length;a+=2){const l=r[s[a]];if(!(l instanceof se)){const h=s[a+1];if(Array.isArray(h))for(let v=0;v<h.length;v+=2){const C=l[h[v]],x=h[v+1];try{x.call(C)}finally{}}else try{h.call(l)}finally{}}}}(n,r),function s_(n,r){const s=n.cleanup,a=r[7];let l=-1;if(null!==s)for(let h=0;h<s.length-1;h+=2)if("string"==typeof s[h]){const v=s[h+1],C="function"==typeof v?v(r):Ze(r[v]),x=a[l=s[h+2]],H=s[h+3];"boolean"==typeof H?C.removeEventListener(s[h],x,H):H>=0?a[l=H]():a[l=-H].unsubscribe(),h+=2}else{const v=a[l=s[h+1]];s[h].call(v)}if(null!==a){for(let h=l+1;h<a.length;h++)(0,a[h])();r[7]=null}}(n,r),1===r[1].type&&r[11].destroy();const s=r[17];if(null!==s&&dn(r[3])){s!==r[3]&&Mf(s,r);const a=r[19];null!==a&&a.detachView(n)}!function Ou(n){Fc.delete(n[20])}(r)}}function Pf(n,r,s){return function Fg(n,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[0];if(2&a.flags){const l=n.data[a.directiveStart].encapsulation;if(l===mn.None||l===mn.Emulated)return null}return hn(a,s)}(n,r.parent,s)}function Uu(n,r,s,a,l){n.insertBefore(r,s,a,l)}function Lg(n,r,s){n.appendChild(r,s)}function Of(n,r,s,a,l){null!==a?Uu(n,r,s,a,l):Lg(n,r,s)}function jc(n,r){return n.parentNode(r)}let Bg=function Nf(n,r,s){return 40&n.type?hn(n,s):null};function so(n,r,s,a){const l=Pf(n,a,r),h=r[11],C=function Vg(n,r,s){return Bg(n,r,s)}(a.parent||r[6],a,r);if(null!=l)if(Array.isArray(s))for(let x=0;x<s.length;x++)Of(h,l,s[x],C,!1);else Of(h,l,s,C,!1)}function Yd(n,r){if(null!==r){const s=r.type;if(3&s)return hn(r,n);if(4&s)return Ff(-1,n[r.index]);if(8&s){const a=r.child;if(null!==a)return Yd(n,a);{const l=n[r.index];return dn(l)?Ff(-1,l):Ze(l)}}if(32&s)return Vc(r,n)()||Ze(n[r.index]);{const a=jg(n,r);return null!==a?Array.isArray(a)?a[0]:Yd(pu(n[16]),a):Yd(n,r.next)}}return null}function jg(n,r){return null!==r?n[16][6].projection[r.projection]:null}function Ff(n,r){const s=10+n+1;if(s<r.length){const a=r[s],l=a[1].firstChild;if(null!==l)return Yd(a,l)}return r[7]}function Qd(n,r,s,a,l,h,v){for(;null!=s;){const C=a[s.index],x=s.type;if(v&&0===r&&(C&&qs(Ze(C),a),s.flags|=4),64!=(64&s.flags))if(8&x)Qd(n,r,s.child,a,l,h,!1),gu(r,n,l,C,h);else if(32&x){const H=Vc(s,a);let re;for(;re=H();)gu(r,n,l,re,h);gu(r,n,l,C,h)}else 16&x?$g(n,r,a,s,l,h):gu(r,n,l,C,h);s=v?s.projectionNext:s.next}}function Hc(n,r,s,a,l,h){Qd(s,a,n.firstChild,r,l,h,!1)}function $g(n,r,s,a,l,h){const v=s[16],x=v[6].projection[a.projection];if(Array.isArray(x))for(let H=0;H<x.length;H++)gu(r,n,l,x[H],h);else Qd(n,r,x,v[3],l,h,!0)}function Xd(n,r,s){n.setAttribute(r,"style",s)}function gl(n,r,s){""===s?n.removeAttribute(r,"class"):n.setAttribute(r,"class",s)}function $c(n,r,s){let a=n.length;for(;;){const l=n.indexOf(r,s);if(-1===l)return l;if(0===l||n.charCodeAt(l-1)<=32){const h=r.length;if(l+h===a||n.charCodeAt(l+h)<=32)return l}s=l+1}}const eh="ng-template";function Zg(n,r,s){let a=0;for(;a<n.length;){let l=n[a++];if(s&&"class"===l){if(l=n[a],-1!==$c(l.toLowerCase(),r,0))return!0}else if(1===l){for(;a<n.length&&"string"==typeof(l=n[a++]);)if(l.toLowerCase()===r)return!0;return!1}}return!1}function Wg(n){return 4===n.type&&n.value!==eh}function qg(n,r,s){return r===(4!==n.type||s?n.value:eh)}function Kg(n,r,s){let a=4;const l=n.attrs||[],h=function Yg(n){for(let r=0;r<n.length;r++)if(ar(n[r]))return r;return n.length}(l);let v=!1;for(let C=0;C<r.length;C++){const x=r[C];if("number"!=typeof x){if(!v)if(4&a){if(a=2|1&a,""!==x&&!qg(n,x,s)||""===x&&1===r.length){if(ba(a))return!1;v=!0}}else{const H=8&a?x:r[++C];if(8&a&&null!==n.attrs){if(!Zg(n.attrs,H,s)){if(ba(a))return!1;v=!0}continue}const ye=o_(8&a?"class":x,l,Wg(n),s);if(-1===ye){if(ba(a))return!1;v=!0;continue}if(""!==H){let qe;qe=ye>h?"":l[ye+1].toLowerCase();const ft=8&a?qe:null;if(ft&&-1!==$c(ft,H,0)||2&a&&H!==qe){if(ba(a))return!1;v=!0}}}}else{if(!v&&!ba(a)&&!ba(x))return!1;if(v&&ba(x))continue;v=!1,a=x|1&a}}return ba(a)||v}function ba(n){return 0==(1&n)}function o_(n,r,s,a){if(null===r)return-1;let l=0;if(a||!s){let h=!1;for(;l<r.length;){const v=r[l];if(v===n)return l;if(3===v||6===v)h=!0;else{if(1===v||2===v){let C=r[++l];for(;"string"==typeof C;)C=r[++l];continue}if(4===v)break;if(0===v){l+=4;continue}}l+=h?1:2}return-1}return function u_(n,r){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const a=n[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,n)}function Uf(n,r,s=!1){for(let a=0;a<r.length;a++)if(Kg(n,r[a],s))return!0;return!1}function ml(n,r){return n?":not("+r.trim()+")":r}function Vf(n){let r=n[0],s=1,a=2,l="",h=!1;for(;s<n.length;){let v=n[s];if("string"==typeof v)if(2&a){const C=n[++s];l+="["+v+(C.length>0?'="'+C+'"':"")+"]"}else 8&a?l+="."+v:4&a&&(l+=" "+v);else""!==l&&!ba(v)&&(r+=ml(h,l),l=""),a=v,h=h||!ba(a);s++}return""!==l&&(r+=ml(h,l)),r}const kr={};function Bf(n){Jg(hr(),Gt(),Me()+n,!1)}function Jg(n,r,s,a){if(!a)if(3==(3&r[2])){const h=n.preOrderCheckHooks;null!==h&&ni(r,h,s)}else{const h=n.preOrderHooks;null!==h&&$(r,h,0,s)}vt(s)}function sh(n,r=null,s=null,a){const l=oh(n,r,s,a);return l.resolveInjectorInitializers(),l}function oh(n,r=null,s=null,a,l=new Set){const h=[s||yt,Fy(n)];return a=a||("object"==typeof n?void 0:Pe(n)),new ql(h,r||kd(),a||null,l)}let mu=(()=>{class n{static create(s,a){if(Array.isArray(s))return sh({name:""},a,s,"");{const l=s.name??"";return sh({name:l},s.parent,s.providers,l)}}}return n.THROW_IF_NOT_FOUND=Or,n.NULL=new Wl,n.\u0275prov=ht({token:n,providedIn:"any",factory:()=>Bi(Fa)}),n.__NG_ELEMENT_ID__=-1,n})();function Vu(n,r=Ut.Default){const s=Gt();return null===s?Bi(n,r):xs(oi(),s,me(n),r)}function am(){throw new Error("invalid")}function hh(n,r){return n<<17|r<<2}function Ia(n){return n>>17&32767}function fh(n){return 2|n}function fa(n){return(131068&n)>>2}function Yc(n,r){return-131069&n|r<<2}function Yf(n){return 1|n}function vh(n,r){const s=n.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const l=s[a],h=s[a+1];if(-1!==h){const v=n.data[h];ia(l),v.contentQueries(2,r[h],h)}}}function sc(n,r,s,a,l,h,v,C,x,H,re){const ye=r.blueprint.slice();return ye[0]=l,ye[2]=76|a,(null!==re||n&&1024&n[2])&&(ye[2]|=1024),qi(ye),ye[3]=ye[15]=n,ye[8]=s,ye[10]=v||n&&n[10],ye[11]=C||n&&n[11],ye[12]=x||n&&n[12]||null,ye[9]=H||n&&n[9]||null,ye[6]=h,ye[20]=function bf(){return xo++}(),ye[21]=re,ye[16]=2==r.type?n[16]:ye,ye}function oc(n,r,s,a,l){let h=n.data[r];if(null===h)h=function ed(n,r,s,a,l){const h=Us(),v=Ho(),x=n.data[r]=function ac(n,r,s,a,l,h){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?h:h&&h.parent,s,r,a,l);return null===n.firstChild&&(n.firstChild=x),null!==h&&(v?null==h.child&&null!==x.parent&&(h.child=x):null===h.next&&(h.next=x)),x}(n,r,s,a,l),function vr(){return Dn.lFrame.inI18n}()&&(h.flags|=64);else if(64&h.type){h.type=s,h.value=a,h.attrs=l;const v=function ho(){const n=Dn.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();h.injectorIndex=null===v?-1:v.injectorIndex}return Ii(h,!0),h}function vl(n,r,s,a){if(0===s)return-1;const l=r.length;for(let h=0;h<s;h++)r.push(a),n.blueprint.push(a),n.data.push(null);return l}function td(n,r,s){Is(r);try{const a=n.viewQuery;null!==a&&ri(1,a,s);const l=n.template;null!==l&&vm(n,r,l,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&vh(n,r),n.staticViewQueries&&ri(2,n.viewQuery,s);const h=n.components;null!==h&&function __(n,r){for(let s=0;s<r.length;s++)vp(n,r[s])}(r,h)}catch(a){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),a}finally{r[2]&=-5,G()}}function nd(n,r,s,a){const l=r[2];if(128!=(128&l)){Is(r);try{qi(r),function gt(n){return Dn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&vm(n,r,s,2,a);const v=3==(3&l);if(v){const H=n.preOrderCheckHooks;null!==H&&ni(r,H,null)}else{const H=n.preOrderHooks;null!==H&&$(r,H,0,null),_(r,0)}if(function Sm(n){for(let r=zd(n);null!==r;r=Zd(r)){if(!r[2])continue;const s=r[9];for(let a=0;a<s.length;a++){const l=s[a],h=l[3];0==(512&l[2])&&Gr(h,1),l[2]|=512}}}(r),function C_(n){for(let r=zd(n);null!==r;r=Zd(r))for(let s=10;s<r.length;s++){const a=r[s],l=a[1];$r(a)&&nd(l,a,l.template,a[8])}}(r),null!==n.contentQueries&&vh(n,r),v){const H=n.contentCheckHooks;null!==H&&ni(r,H)}else{const H=n.contentHooks;null!==H&&$(r,H,1),_(r,1)}!function ip(n,r){const s=n.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const l=s[a];if(l<0)vt(~l);else{const h=l,v=s[++a],C=s[++a];Ms(v,h),C(2,r[h])}}}finally{vt(-1)}}(n,r);const C=n.components;null!==C&&function sp(n,r){for(let s=0;s<r.length;s++)Am(n,r[s])}(r,C);const x=n.viewQuery;if(null!==x&&ri(2,x,a),v){const H=n.viewCheckHooks;null!==H&&ni(r,H)}else{const H=n.viewHooks;null!==H&&$(r,H,2),_(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[2]&=-41,512&r[2]&&(r[2]&=-513,Gr(r[3],-1))}finally{G()}}}function vm(n,r,s,a,l){const h=Me(),v=2&a;try{vt(-1),v&&r.length>22&&Jg(n,r,22,!1),s(a,l)}finally{vt(h)}}function op(n,r,s){!ws()||(function w_(n,r,s,a){const l=s.directiveStart,h=s.directiveEnd;n.firstCreatePass||xn(s,r),qs(a,r);const v=s.initialInputs;for(let C=l;C<h;C++){const x=n.data[C],H=Vr(x);H&&b_(r,s,x);const re=Ti(r,n,C,s);qs(re,r),null!==v&&I_(0,C-l,re,x,0,v),H&&($n(s.index,r)[8]=re)}}(n,r,s,hn(s,r)),128==(128&s.flags)&&function fp(n,r,s){const a=s.directiveStart,l=s.directiveEnd,h=s.index,v=function bo(){return Dn.lFrame.currentDirectiveIndex}();try{vt(h);for(let C=a;C<l;C++){const x=n.data[C],H=r[C];po(C),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&Im(x,H)}}finally{vt(-1),po(v)}}(n,r,s))}function rd(n,r,s=hn){const a=r.localNames;if(null!==a){let l=r.index+1;for(let h=0;h<a.length;h+=2){const v=a[h+1],C=-1===v?s(r,n):n[v];n[l++]=C}}}function Em(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=id(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function id(n,r,s,a,l,h,v,C,x,H){const re=22+a,ye=re+l,qe=function v_(n,r){const s=[];for(let a=0;a<r;a++)s.push(a<n?null:kr);return s}(re,ye),ft="function"==typeof H?H():H;return qe[1]={type:n,blueprint:qe,template:s,queries:null,viewQuery:C,declTNode:r,data:qe.slice().fill(null,re),bindingStartIndex:re,expandoStartIndex:ye,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:x,consts:ft,incompleteFirstPass:!1}}function wh(n,r,s,a){const l=bp(r);null===s?l.push(a):(l.push(s),n.firstCreatePass&&Ip(n).push(a,l.length-1))}function up(n,r,s){for(let a in n)if(n.hasOwnProperty(a)){const l=n[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(r,l):s[a]=[r,l]}return s}function bh(n,r){const a=r.directiveEnd,l=n.data,h=r.attrs,v=[];let C=null,x=null;for(let H=r.directiveStart;H<a;H++){const re=l[H],ye=re.inputs,qe=null===h||Wg(r)?null:yp(ye,h);v.push(qe),C=up(ye,H,C),x=up(re.outputs,H,x)}null!==C&&(C.hasOwnProperty("class")&&(r.flags|=16),C.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=v,r.inputs=C,r.outputs=x}function na(n,r,s,a,l,h,v,C){const x=hn(r,s);let re,H=r.inputs;!C&&null!=H&&(re=H[a])?(rs(n,s,re,a,l),Fr(r)&&Qa(s,r.index)):3&r.type&&(a=function E_(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(a),l=null!=v?v(l,r.value||"",a):l,h.setProperty(x,a,l))}function Qa(n,r){const s=$n(r,n);16&s[2]||(s[2]|=32)}function dp(n,r,s,a){let l=!1;if(ws()){const h=function pp(n,r,s){const a=n.directiveRegistry;let l=null;if(a)for(let h=0;h<a.length;h++){const v=a[h];Uf(s,v.selectors,!1)&&(l||(l=[]),at(xn(s,r),n,v.type),Vr(v)?(Cm(n,s),l.unshift(v)):l.push(v))}return l}(n,r,s),v=null===a?null:{"":-1};if(null!==h){l=!0,Ih(s,n.data.length,h.length);for(let re=0;re<h.length;re++){const ye=h[re];ye.providersResolver&&ye.providersResolver(ye)}let C=!1,x=!1,H=vl(n,r,h.length,null);for(let re=0;re<h.length;re++){const ye=h[re];s.mergedAttrs=Xr(s.mergedAttrs,ye.hostAttrs),mp(n,s,r,H,ye),Dm(H,ye,v),null!==ye.contentQueries&&(s.flags|=8),(null!==ye.hostBindings||null!==ye.hostAttrs||0!==ye.hostVars)&&(s.flags|=128);const qe=ye.type.prototype;!C&&(qe.ngOnChanges||qe.ngOnInit||qe.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(s.index),C=!0),!x&&(qe.ngOnChanges||qe.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(s.index),x=!0),H++}bh(n,s)}v&&function gp(n,r,s){if(r){const a=n.localNames=[];for(let l=0;l<r.length;l+=2){const h=s[r[l+1]];if(null==h)throw new ze(-301,!1);a.push(r[l],h)}}}(s,a,v)}return s.mergedAttrs=Xr(s.mergedAttrs,s.attrs),l}function bm(n,r,s,a,l,h){const v=h.hostBindings;if(v){let C=n.hostBindingOpCodes;null===C&&(C=n.hostBindingOpCodes=[]);const x=~r.index;(function hp(n){let r=n.length;for(;r>0;){const s=n[--r];if("number"==typeof s&&s<0)return s}return 0})(C)!=x&&C.push(x),C.push(a,l,v)}}function Im(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function Cm(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function Dm(n,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=n;Vr(r)&&(s[""]=n)}}function Ih(n,r,s){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+s,n.providerIndexes=r}function mp(n,r,s,a,l){n.data[a]=l;const h=l.factory||(l.factory=di(l.type)),v=new se(h,Vr(l),Vu);n.blueprint[a]=v,s[a]=v,bm(n,r,0,a,vl(n,s,l.hostVars,kr),l)}function b_(n,r,s){const a=hn(r,n),l=Em(s),h=n[10],v=od(n,sc(n,l,null,s.onPush?32:16,a,r,h,h.createRenderer(a,s),null,null,null));n[r.index]=v}function Ja(n,r,s,a,l,h){const v=hn(n,r);!function sd(n,r,s,a,l,h,v){if(null==h)n.removeAttribute(r,l,s);else{const C=null==v?We(h):v(h,a||"",l);n.setAttribute(r,l,C,s)}}(r[11],v,h,n.value,s,a,l)}function I_(n,r,s,a,l,h){const v=h[r];if(null!==v){const C=a.setInput;for(let x=0;x<v.length;){const H=v[x++],re=v[x++],ye=v[x++];null!==C?a.setInput(s,ye,H,re):s[re]=ye}}}function yp(n,r){let s=null,a=0;for(;a<r.length;){const l=r[a];if(0!==l)if(5!==l){if("number"==typeof l)break;n.hasOwnProperty(l)&&(null===s&&(s=[]),s.push(l,n[l],r[a+1])),a+=2}else a+=2;else a+=4}return s}function Ch(n,r,s,a){return new Array(n,!0,!1,r,null,0,a,s,null,null)}function Am(n,r){const s=$n(r,n);if($r(s)){const a=s[1];48&s[2]?nd(a,s,a.template,s[8]):s[5]>0&&_p(s)}}function _p(n){for(let a=zd(n);null!==a;a=Zd(a))for(let l=10;l<a.length;l++){const h=a[l];if($r(h))if(512&h[2]){const v=h[1];nd(v,h,v.template,h[8])}else h[5]>0&&_p(h)}const s=n[1].components;if(null!==s)for(let a=0;a<s.length;a++){const l=$n(s[a],n);$r(l)&&l[5]>0&&_p(l)}}function vp(n,r){const s=$n(r,n),a=s[1];(function Ep(n,r){for(let s=r.length;s<n.blueprint.length;s++)r.push(n.blueprint[s])})(a,s),td(a,s,s[8])}function od(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function Dh(n){for(;n;){n[2]|=32;const r=pu(n);if(Ni(n)&&!r)return n;n=r}return null}function ad(n,r,s,a=!0){const l=r[10];l.begin&&l.begin();try{nd(n,r,n.template,s)}catch(v){throw a&&Cp(r,v),v}finally{l.end&&l.end()}}function ri(n,r,s){ia(0),r(n,s)}function bp(n){return n[7]||(n[7]=[])}function Ip(n){return n.cleanup||(n.cleanup=[])}function Cp(n,r){const s=n[9],a=s?s.get(kc,null):null;a&&a.handleError(r)}function rs(n,r,s,a,l){for(let h=0;h<s.length;){const v=s[h++],C=s[h++],x=r[v],H=n.data[v];null!==H.setInput?H.setInput(x,l,a,C):x[C]=l}}function ks(n,r,s){const a=In(r,n);!function Af(n,r,s){n.setValue(r,s)}(n[11],a,s)}function Ca(n,r,s){let a=s?n.styles:null,l=s?n.classes:null,h=0;if(null!==r)for(let v=0;v<r.length;v++){const C=r[v];"number"==typeof C?h=C:1==h?l=Ae(l,C):2==h&&(a=Ae(a,C+": "+r[++v]+";"))}s?n.styles=a:n.stylesWithoutHost=a,s?n.classes=l:n.classesWithoutHost=l}function ud(n,r,s,a,l=!1){for(;null!==s;){const h=r[s.index];if(null!==h&&a.push(Ze(h)),dn(h))for(let C=10;C<h.length;C++){const x=h[C],H=x[1].firstChild;null!==H&&ud(x[1],x,H,a)}const v=s.type;if(8&v)ud(n,r,s.child,a);else if(32&v){const C=Vc(s,r);let x;for(;x=C();)a.push(x)}else if(16&v){const C=jg(r,s);if(Array.isArray(C))a.push(...C);else{const x=pu(r[16]);ud(x[1],x,C,a,!0)}}s=l?s.projectionNext:s.next}return a}class ld{constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,s=r[1];return ud(s,r,s.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(dn(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(xf(r,a),_o(s,a))}this._attachedToViewContainer=!1}kg(this._lView[1],this._lView)}onDestroy(r){wh(this._lView[1],this._lView,null,r)}markForCheck(){Dh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){ad(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ze(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function i_(n,r){Hc(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new ze(902,!1);this._appRef=r}}class Th extends ld{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;ad(r[1],r,r[8],!1)}checkNoChanges(){}get context(){return null}}class Sh extends al{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=Z(r);return new cd(s,this.ngModule)}}function Ah(n){const r=[];for(let s in n)n.hasOwnProperty(s)&&r.push({propName:n[s],templateName:s});return r}class Mh{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,a){const l=this.injector.get(r,mf,a);return l!==mf||s===mf?l:this.parentInjector.get(r,s,a)}}class cd extends pf{constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function th(n){return n.map(Vf).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return Ah(this.componentDef.inputs)}get outputs(){return Ah(this.componentDef.outputs)}create(r,s,a,l){let h=(l=l||this.ngModule)instanceof il?l:l?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const v=h?new Mh(r,h):r,C=v.get(gf,null);if(null===C)throw new ze(407,!1);const x=v.get(Kl,null),H=C.createRenderer(null,this.componentDef),re=this.componentDef.selectors[0][0]||"div",ye=a?function ap(n,r,s){return n.selectRootElement(r,s===mn.ShadowDom)}(H,a,this.componentDef.encapsulation):Fu(C.createRenderer(null,this.componentDef),re,function Mm(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(re)),qe=this.componentDef.onPush?288:272,ft=id(0,null,null,1,0,null,null,null,null,null),Zt=sc(null,ft,null,qe,null,null,C,H,x,v,null);let gn,kn;Is(Zt);try{const Jn=function S_(n,r,s,a,l,h){const v=s[1];s[22]=n;const x=oc(v,22,2,"#host",null),H=x.mergedAttrs=r.hostAttrs;null!==H&&(Ca(x,H,!0),null!==n&&(Zn(l,n,H),null!==x.classes&&gl(l,n,x.classes),null!==x.styles&&Xd(l,n,x.styles)));const re=a.createRenderer(n,r),ye=sc(s,Em(r),null,r.onPush?32:16,s[22],x,a,re,h||null,null,null);return v.firstCreatePass&&(at(xn(x,s),v,r.type),Cm(v,x),Ih(x,s.length,1)),od(s,ye),s[22]=ye}(ye,this.componentDef,Zt,C,H);if(ye)if(a)Zn(H,ye,["ng-version",vg.full]);else{const{attrs:yr,classes:Jt}=function Qg(n){const r=[],s=[];let a=1,l=2;for(;a<n.length;){let h=n[a];if("string"==typeof h)2===l?""!==h&&r.push(h,n[++a]):8===l&&s.push(h);else{if(!ba(l))break;l=h}a++}return{attrs:r,classes:s}}(this.componentDef.selectors[0]);yr&&Zn(H,ye,yr),Jt&&Jt.length>0&&gl(H,ye,Jt.join(" "))}if(kn=cr(ft,22),void 0!==s){const yr=kn.projection=[];for(let Jt=0;Jt<this.ngContentSelectors.length;Jt++){const Sr=s[Jt];yr.push(null!=Sr?Array.from(Sr):null)}}gn=function A_(n,r,s,a){const l=s[1],h=function cp(n,r,s){const a=oi();n.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),mp(n,a,r,vl(n,r,1,null),s),bh(n,a));const l=Ti(r,n,a.directiveStart,a);qs(l,r);const h=hn(a,r);return h&&qs(h,r),l}(l,s,r);if(n[8]=s[8]=h,null!==a)for(const C of a)C(h,r);if(r.contentQueries){const C=oi();r.contentQueries(1,h,C.directiveStart)}const v=oi();return!l.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(vt(v.index),bm(s[1],v,0,v.directiveStart,v.directiveEnd,r),Im(r,h)),h}(Jn,this.componentDef,Zt,[xm]),td(ft,Zt,null)}finally{G()}return new T_(this.componentType,gn,ul(kn,Zt),Zt,kn)}}class T_ extends class gg{}{constructor(r,s,a,l,h){super(),this.location=a,this._rootLView=l,this._tNode=h,this.instance=s,this.hostView=this.changeDetectorRef=new Th(l),this.componentType=r}setInput(r,s){const a=this._tNode.inputs;let l;if(null!==a&&(l=a[r])){const h=this._rootLView;rs(h[1],h,l,r,s),Qa(h,this._tNode.index)}}get injector(){return new ko(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function xm(){const n=oi();Qr(Gt()[1],n)}function Rh(n){let r=function xh(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const a=[n];for(;r;){let l;if(Vr(n))l=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new ze(903,!1);l=r.\u0275dir}if(l){if(s){a.push(l);const v=n;v.inputs=dd(n.inputs),v.declaredInputs=dd(n.declaredInputs),v.outputs=dd(n.outputs);const C=l.hostBindings;C&&Sp(n,C);const x=l.viewQuery,H=l.contentQueries;if(x&&Tp(n,x),H&&Ph(n,H),ke(n.inputs,l.inputs),ke(n.declaredInputs,l.declaredInputs),ke(n.outputs,l.outputs),Vr(l)&&l.data.animation){const re=n.data;re.animation=(re.animation||[]).concat(l.data.animation)}}const h=l.features;if(h)for(let v=0;v<h.length;v++){const C=h[v];C&&C.ngInherit&&C(n),C===Rh&&(s=!1)}}r=Object.getPrototypeOf(r)}!function Dp(n){let r=0,s=null;for(let a=n.length-1;a>=0;a--){const l=n[a];l.hostVars=r+=l.hostVars,l.hostAttrs=Xr(l.hostAttrs,s=Xr(s,l.hostAttrs))}}(a)}function dd(n){return n===Ue?{}:n===yt?[]:n}function Tp(n,r){const s=n.viewQuery;n.viewQuery=s?(a,l)=>{r(a,l),s(a,l)}:r}function Ph(n,r){const s=n.contentQueries;n.contentQueries=s?(a,l,h)=>{r(a,l,h),s(a,l,h)}:r}function Sp(n,r){const s=n.hostBindings;n.hostBindings=s?(a,l)=>{r(a,l),s(a,l)}:r}let lc=null;function Gu(){if(!lc){const n=Rn.Symbol;if(n&&n.iterator)lc=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const a=r[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(lc=a)}}}return lc}function El(n){return!!Mp(n)&&(Array.isArray(n)||!(n instanceof Map)&&Gu()in n)}function Mp(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Xa(n,r,s){return n[r]=s}function qo(n,r,s){return!Object.is(n[r],s)&&(n[r]=s,!0)}function wl(n,r,s,a){const l=qo(n,r,s);return qo(n,r+1,a)||l}function fd(n,r,s,a){const l=Gt();return qo(l,En(),r)&&(hr(),Ja(Rt(),l,n,r,s,a)),fd}function hc(n,r,s,a){return qo(n,En(),s)?r+We(s)+a:kr}function pd(n,r,s,a,l,h,v,C){const H=function Nh(n,r,s,a,l){const h=wl(n,r,s,a);return qo(n,r+2,l)||h}(n,ne(),s,l,v);return Lr(3),H?r+We(s)+a+We(l)+h+We(v)+C:kr}function P_(n,r,s,a,l,h,v,C){const x=Gt(),H=hr(),re=n+22,ye=H.firstCreatePass?function yu(n,r,s,a,l,h,v,C,x){const H=r.consts,re=oc(r,n,4,v||null,xr(H,C));dp(r,s,re,xr(H,x)),Qr(r,re);const ye=re.tViews=id(2,re,a,l,h,r.directiveRegistry,r.pipeRegistry,null,r.schemas,H);return null!==r.queries&&(r.queries.template(r,re),ye.queries=r.queries.embeddedTView(re)),re}(re,H,x,r,s,a,l,h,v):H.data[re];Ii(ye,!1);const qe=x[11].createComment("");so(H,x,qe,ye),qs(qe,x),od(x,x[re]=Ch(qe,x,qe,ye)),Mr(ye)&&op(H,x,ye),null!=v&&rd(x,ye,C)}function md(n){return Dr(function fo(){return Dn.lFrame.contextLView}(),22+n)}function Pp(n,r,s){const a=Gt();return qo(a,En(),r)&&na(hr(),Rt(),a,n,r,a[11],s,!1),Pp}function Op(n,r,s,a,l){const v=l?"class":"style";rs(n,s,r.inputs[v],v,a)}function yd(n,r,s,a){const l=Gt(),h=hr(),v=22+n,C=l[11],x=l[v]=Fu(C,r,function Tr(){return Dn.lFrame.currentNamespace}()),H=h.firstCreatePass?function Vm(n,r,s,a,l,h,v){const C=r.consts,H=oc(r,n,2,l,xr(C,h));return dp(r,s,H,xr(C,v)),null!==H.attrs&&Ca(H,H.attrs,!1),null!==H.mergedAttrs&&Ca(H,H.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,H),H}(v,h,l,0,r,s,a):h.data[v];Ii(H,!0);const re=H.mergedAttrs;null!==re&&Zn(C,x,re);const ye=H.classes;null!==ye&&gl(C,x,ye);const qe=H.styles;return null!==qe&&Xd(C,x,qe),64!=(64&H.flags)&&so(h,l,x,H),0===function Es(){return Dn.lFrame.elementDepthCount}()&&qs(x,l),function Ls(){Dn.lFrame.elementDepthCount++}(),Mr(H)&&(op(h,l,H),function Eh(n,r,s){if(lr(r)){const l=r.directiveEnd;for(let h=r.directiveStart;h<l;h++){const v=n.data[h];v.contentQueries&&v.contentQueries(1,s[h],h)}}}(h,H,l)),null!==a&&rd(l,H),yd}function Cl(){let n=oi();Ho()?function Zs(){Dn.lFrame.isParent=!1}():(n=n.parent,Ii(n,!1));const r=n;!function Kr(){Dn.lFrame.elementDepthCount--}();const s=hr();return s.firstCreatePass&&(Qr(s,n),lr(n)&&s.queries.elementEnd(n)),null!=r.classesWithoutHost&&function Mn(n){return 0!=(16&n.flags)}(r)&&Op(s,r,Gt(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Pn(n){return 0!=(32&n.flags)}(r)&&Op(s,r,Gt(),r.stylesWithoutHost,!1),Cl}function Np(n,r,s,a){return yd(n,r,s,a),Cl(),Np}function kh(){return Gt()}function Fp(n){return!!n&&"function"==typeof n.then}function Bm(n){return!!n&&"function"==typeof n.subscribe}const jm=Bm;function _d(n,r,s,a){const l=Gt(),h=hr(),v=oi();return function zu(n,r,s,a,l,h,v,C){const x=Mr(a),re=n.firstCreatePass&&Ip(n),ye=r[8],qe=bp(r);let ft=!0;if(3&a.type||C){const kn=hn(a,r),Jn=C?C(kn):kn,yr=qe.length,Jt=C?zi=>C(Ze(zi[a.index])):a.index;let Sr=null;if(!C&&x&&(Sr=function Hm(n,r,s,a){const l=n.cleanup;if(null!=l)for(let h=0;h<l.length-1;h+=2){const v=l[h];if(v===s&&l[h+1]===a){const C=r[7],x=l[h+2];return C.length>x?C[x]:null}"string"==typeof v&&(h+=2)}return null}(n,r,l,a.index)),null!==Sr)(Sr.__ngLastListenerFn__||Sr).__ngNextListenerFn__=h,Sr.__ngLastListenerFn__=h,ft=!1;else{h=Up(a,r,ye,h,!1);const zi=s.listen(Jn,l,h);qe.push(h,zi),re&&re.push(l,Jt,yr,yr+1)}}else h=Up(a,r,ye,h,!1);const Zt=a.outputs;let gn;if(ft&&null!==Zt&&(gn=Zt[l])){const kn=gn.length;if(kn)for(let Jn=0;Jn<kn;Jn+=2){const Ks=r[gn[Jn]][gn[Jn+1]].subscribe(h),Sd=qe.length;qe.push(h,Ks),re&&re.push(l,a.index,Sd,-(Sd+1))}}}(h,l,l[11],v,n,r,0,a),_d}function Lp(n,r,s,a){try{return!1!==s(a)}catch(l){return Cp(n,l),!1}}function Up(n,r,s,a,l){return function h(v){if(v===Function)return a;Dh(2&n.flags?$n(n.index,r):r);let x=Lp(r,0,a,v),H=h.__ngNextListenerFn__;for(;H;)x=Lp(r,0,H,v)&&x,H=H.__ngNextListenerFn__;return l&&!1===x&&(v.preventDefault(),v.returnValue=!1),x}}function Lh(n=1){return function O(n){return(Dn.lFrame.contextLView=function te(n,r){for(;n>0;)r=r[15],n--;return r}(n,Dn.lFrame.contextLView))[8]}(n)}function Ed(n,r,s,a,l){const h=Gt(),v=hc(h,r,s,a);return v!==kr&&na(hr(),Rt(),h,n,v,h[11],l,!1),Ed}function Wm(n,r,s,a,l){const h=n[s+1],v=null===r;let C=a?Ia(h):fa(h),x=!1;for(;0!==C&&(!1===x||v);){const re=n[C+1];k_(n[C],r)&&(x=!0,n[C+1]=a?Yf(re):fh(re)),C=a?Ia(re):fa(re)}x&&(n[s+1]=a?fh(h):Yf(h))}function k_(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&w(n,r)>=0}function tu(n,r){return function Va(n,r,s,a){const l=Gt(),h=hr(),v=Lr(2);h.firstUpdatePass&&function ey(n,r,s,a){const l=n.data;if(null===l[s+1]){const h=l[Me()],v=function Xm(n,r){return r>=n.expandoStartIndex}(n,s);(function vu(n,r){return 0!=(n.flags&(r?16:32))})(h,a)&&null===r&&!v&&(r=!1),r=function B_(n,r,s,a){const l=function No(n){const r=Dn.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let h=a?r.residualClasses:r.residualStyles;if(null===l)0===(a?r.classBindings:r.styleBindings)&&(s=vc(s=Gp(null,n,r,s,a),r.attrs,a),h=null);else{const v=r.directiveStylingLast;if(-1===v||n[v]!==l)if(s=Gp(l,n,r,s,a),null===h){let x=function ty(n,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==fa(a))return n[Ia(a)]}(n,r,a);void 0!==x&&Array.isArray(x)&&(x=Gp(null,n,r,x[1],a),x=vc(x,r.attrs,a),function ny(n,r,s,a){n[Ia(s?r.classBindings:r.styleBindings)]=a}(n,r,a,x))}else h=function j_(n,r,s){let a;const l=r.directiveEnd;for(let h=1+r.directiveStylingLast;h<l;h++)a=vc(a,n[h].hostAttrs,s);return vc(a,r.attrs,s)}(n,r,a)}return void 0!==h&&(a?r.residualClasses=h:r.residualStyles=h),s}(l,h,r,a),function N_(n,r,s,a,l,h){let v=h?r.classBindings:r.styleBindings,C=Ia(v),x=fa(v);n[a]=s;let re,H=!1;if(Array.isArray(s)){const ye=s;re=ye[1],(null===re||w(ye,re)>0)&&(H=!0)}else re=s;if(l)if(0!==x){const qe=Ia(n[C+1]);n[a+1]=hh(qe,C),0!==qe&&(n[qe+1]=Yc(n[qe+1],a)),n[C+1]=function Kf(n,r){return 131071&n|r<<17}(n[C+1],a)}else n[a+1]=hh(C,0),0!==C&&(n[C+1]=Yc(n[C+1],a)),C=a;else n[a+1]=hh(x,0),0===C?C=a:n[x+1]=Yc(n[x+1],a),x=a;H&&(n[a+1]=fh(n[a+1])),Wm(n,re,a,!0),Wm(n,re,a,!1),function Zm(n,r,s,a,l){const h=l?n.residualClasses:n.residualStyles;null!=h&&"string"==typeof r&&w(h,r)>=0&&(s[a+1]=Yf(s[a+1]))}(r,re,n,a,h),v=hh(C,x),h?r.classBindings=v:r.styleBindings=v}(l,h,r,s,v,a)}}(h,n,v,a),r!==kr&&qo(l,v,r)&&function $_(n,r,s,a,l,h,v,C){if(!(3&r.type))return;const x=n.data,H=x[C+1];Vh(function um(n){return 1==(1&n)}(H)?G_(x,r,s,l,fa(H),v):void 0)||(Vh(h)||function Kc(n){return 2==(2&n)}(H)&&(h=G_(x,null,s,l,C,v)),function Lf(n,r,s,a,l){if(r)l?n.addClass(s,a):n.removeClass(s,a);else{let h=-1===a.indexOf("-")?void 0:Ya.DashCase;null==l?n.removeStyle(s,a,h):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),h|=Ya.Important),n.setStyle(s,a,l,h))}}(a,v,In(Me(),s),l,h))}(h,h.data[Me()],l,l[11],n,l[v+1]=function ry(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=Pe(ka(n)))),n}(r,s),a,v)}(n,r,null,!0),tu}function Gp(n,r,s,a,l){let h=null;const v=s.directiveEnd;let C=s.directiveStylingLast;for(-1===C?C=s.directiveStart:C++;C<v&&(h=r[C],a=vc(a,h.hostAttrs,l),h!==n);)C++;return null!==n&&(s.directiveStylingLast=C),a}function vc(n,r,s){const a=s?1:2;let l=-1;if(null!==r)for(let h=0;h<r.length;h++){const v=r[h];"number"==typeof v?l=v:l===a&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ro(n,v,!!s||r[++h]))}return void 0===n?null:n}function G_(n,r,s,a,l,h){const v=null===r;let C;for(;l>0;){const x=n[l],H=Array.isArray(x),re=H?x[1]:x,ye=null===re;let qe=s[l+1];qe===kr&&(qe=ye?yt:void 0);let ft=ye?Gi(qe,a):re===a?qe:void 0;if(H&&!Vh(ft)&&(ft=Gi(x,a)),Vh(ft)&&(C=ft,v))return C;const Zt=n[l+1];l=v?Ia(Zt):fa(Zt)}if(null!==r){let x=h?r.residualClasses:r.residualStyles;null!=x&&(C=Gi(x,a))}return C}function Vh(n){return void 0!==n}function iy(n,r=""){const s=Gt(),a=hr(),l=n+22,h=a.firstCreatePass?oc(a,l,1,r,null):a.data[l],v=s[l]=function Jl(n,r){return n.createText(r)}(s[11],r);so(a,s,v,h),Ii(h,!1)}function Zp(n){return Bh("",n,""),Zp}function Bh(n,r,s){const a=Gt(),l=hc(a,n,r,s);return l!==kr&&ks(a,Me(),l),Bh}function Wp(n,r,s,a,l){const h=Gt(),v=function ji(n,r,s,a,l,h){const C=wl(n,ne(),s,l);return Lr(2),C?r+We(s)+a+We(l)+h:kr}(h,n,r,s,a,l);return v!==kr&&ks(h,Me(),v),Wp}function qp(n,r,s,a,l,h,v){const C=Gt(),x=pd(C,n,r,s,a,l,h,v);return x!==kr&&ks(C,Me(),x),qp}const Rl=void 0;var Q_=["en",[["a","p"],["AM","PM"],Rl],[["AM","PM"],Rl,Rl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Rl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Rl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Rl,"{1} 'at' {0}",Rl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Yu(n){const s=Math.floor(Math.abs(n)),a=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let bc={};function Gh(n){const r=function Jp(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=Cd(r);if(s)return s;const a=r.split("-")[0];if(s=Cd(a),s)return s;if("en"===a)return Q_;throw new ze(701,!1)}function zh(n){return Gh(n)[mr.PluralCase]}function Cd(n){return n in bc||(bc[n]=Rn.ng&&Rn.ng.common&&Rn.ng.common.locales&&Rn.ng.common.locales[n]),bc[n]}var mr=(()=>((mr=mr||{})[mr.LocaleId=0]="LocaleId",mr[mr.DayPeriodsFormat=1]="DayPeriodsFormat",mr[mr.DayPeriodsStandalone=2]="DayPeriodsStandalone",mr[mr.DaysFormat=3]="DaysFormat",mr[mr.DaysStandalone=4]="DaysStandalone",mr[mr.MonthsFormat=5]="MonthsFormat",mr[mr.MonthsStandalone=6]="MonthsStandalone",mr[mr.Eras=7]="Eras",mr[mr.FirstDayOfWeek=8]="FirstDayOfWeek",mr[mr.WeekendRange=9]="WeekendRange",mr[mr.DateFormat=10]="DateFormat",mr[mr.TimeFormat=11]="TimeFormat",mr[mr.DateTimeFormat=12]="DateTimeFormat",mr[mr.NumberSymbols=13]="NumberSymbols",mr[mr.NumberFormats=14]="NumberFormats",mr[mr.CurrencyCode=15]="CurrencyCode",mr[mr.CurrencySymbol=16]="CurrencySymbol",mr[mr.CurrencyName=17]="CurrencyName",mr[mr.Currencies=18]="Currencies",mr[mr.Directionality=19]="Directionality",mr[mr.PluralCase=20]="PluralCase",mr[mr.ExtraData=21]="ExtraData",mr))();const Pl="en-US";let Ey=Pl;function nv(n,r,s,a,l){if(n=me(n),Array.isArray(n))for(let h=0;h<n.length;h++)nv(n[h],r,s,a,l);else{const h=hr(),v=Gt();let C=Pu(n)?n:me(n.provide),x=Ld(n);const H=oi(),re=1048575&H.providerIndexes,ye=H.directiveStart,qe=H.providerIndexes>>20;if(Pu(n)||!n.multi){const ft=new se(x,l,Vu),Zt=iv(C,r,l?re:re+qe,ye);-1===Zt?(at(xn(H,v),h,C),rv(h,n,r.length),r.push(C),H.directiveStart++,H.directiveEnd++,l&&(H.providerIndexes+=1048576),s.push(ft),v.push(ft)):(s[Zt]=ft,v[Zt]=ft)}else{const ft=iv(C,r,re+qe,ye),Zt=iv(C,r,re,re+qe),gn=ft>=0&&s[ft],kn=Zt>=0&&s[Zt];if(l&&!kn||!l&&!gn){at(xn(H,v),h,C);const Jn=function Nw(n,r,s,a,l){const h=new se(n,s,Vu);return h.multi=[],h.index=r,h.componentProviders=0,C0(h,l,a&&!s),h}(l?Ow:Pw,s.length,l,a,x);!l&&kn&&(s[Zt].providerFactory=Jn),rv(h,n,r.length,0),r.push(C),H.directiveStart++,H.directiveEnd++,l&&(H.providerIndexes+=1048576),s.push(Jn),v.push(Jn)}else rv(h,n,ft>-1?ft:Zt,C0(s[l?Zt:ft],x,!l&&a));!l&&a&&kn&&s[Zt].componentProviders++}}}function rv(n,r,s,a){const l=Pu(r),h=function hg(n){return!!n.useClass}(r);if(l||h){const x=(h?me(r.useClass):r).prototype.ngOnDestroy;if(x){const H=n.destroyHooks||(n.destroyHooks=[]);if(!l&&r.multi){const re=H.indexOf(s);-1===re?H.push(s,[a,x]):H[re+1].push(a,x)}else H.push(s,x)}}}function C0(n,r,s){return s&&n.componentProviders++,n.multi.push(r)-1}function iv(n,r,s,a){for(let l=s;l<a;l++)if(r[l]===n)return l;return-1}function Pw(n,r,s,a){return sv(this.multi,[])}function Ow(n,r,s,a){const l=this.multi;let h;if(this.providerFactory){const v=this.providerFactory.componentProviders,C=Ti(s,s[1],this.providerFactory.index,a);h=C.slice(0,v),sv(l,h);for(let x=v;x<C.length;x++)h.push(C[x])}else h=[],sv(l,h);return h}function sv(n,r){for(let s=0;s<n.length;s++)r.push((0,n[s])());return r}function D0(n,r=[]){return s=>{s.providersResolver=(a,l)=>function Rw(n,r,s){const a=hr();if(a.firstCreatePass){const l=Vr(n);nv(s,a.data,a.blueprint,l,!0),nv(r,a.data,a.blueprint,l,!1)}}(a,l?l(n):n,r)}}class Wh{}class T0{}function kw(n,r){return new S0(n,r??null)}class S0 extends Wh{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Sh(this);const a=rn(r);this._bootstrapComponents=fu(a.bootstrap),this._r3Injector=oh(r,s,[{provide:Wh,useValue:this},{provide:al,useValue:this.componentFactoryResolver}],Pe(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class ov extends T0{constructor(r){super(),this.moduleType=r}create(r){return new S0(this.moduleType,r)}}class Fw extends Wh{constructor(r,s,a){super(),this.componentFactoryResolver=new Sh(this),this.instance=null;const l=new ql([...r,{provide:Wh,useValue:this},{provide:al,useValue:this.componentFactoryResolver}],s||kd(),a,new Set(["environment"]));this.injector=l,l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function av(n,r,s=null){return new Fw(n,r,s).injector}let Lw=(()=>{class n{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s.id)){const a=dg(0,s.type),l=a.length>0?av([a],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s.id,l)}return this.cachedInjectors.get(s.id)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=ht({token:n,providedIn:"environment",factory:()=>new n(Bi(il))}),n})();function A0(n){n.getStandaloneInjector=r=>r.get(Lw).getOrCreateStandaloneInjector(n)}function k0(n,r,s){const a=M()+n,l=Gt();return l[a]===kr?Xa(l,a,s?r.call(s):r()):function cc(n,r){return n[r]}(l,a)}function ng(n,r){const s=n[r];return s===kr?void 0:s}function j0(n,r){const s=hr();let a;const l=n+22;s.firstCreatePass?(a=function tb(n,r){if(r)for(let s=r.length-1;s>=0;s--){const a=r[s];if(n===a.name)return a}}(r,s.pipeRegistry),s.data[l]=a,a.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(l,a.onDestroy)):a=s.data[l];const h=a.factory||(a.factory=di(a.type)),v=jn(Vu);try{const C=Yi(!1),x=h();return Yi(C),function Il(n,r,s,a){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),r[s]=a}(s,Gt(),l,x),x}finally{jn(v)}}function H0(n,r,s){const a=n+22,l=Gt(),h=Dr(l,a);return rg(l,a)?function F0(n,r,s,a,l,h){const v=r+s;return qo(n,v,l)?Xa(n,v+1,h?a.call(h,l):a(l)):ng(n,v+1)}(l,M(),r,h.transform,s,h):h.transform(s)}function $0(n,r,s,a){const l=n+22,h=Gt(),v=Dr(h,l);return rg(h,l)?function L0(n,r,s,a,l,h,v){const C=r+s;return wl(n,C,l,h)?Xa(n,C+2,v?a.call(v,l,h):a(l,h)):ng(n,C+2)}(h,M(),r,v.transform,s,a,v):v.transform(s,a)}function rg(n,r){return n[1].data[r].pure}function lv(n){return r=>{setTimeout(n,void 0,r)}}const Qu=class sb extends c.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){let l=r,h=s||(()=>null),v=a;if(r&&"object"==typeof r){const x=r;l=x.next?.bind(x),h=x.error?.bind(x),v=x.complete?.bind(x)}this.__isAsync&&(h=lv(h),l&&(l=lv(l)),v&&(v=lv(v)));const C=super.subscribe({next:l,error:h,complete:v});return r instanceof U.w0&&r.add(C),C}};function ob(){return this._results[Gu()]()}class cv{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Gu(),a=cv.prototype;a[s]||(a[s]=ob)}get changes(){return this._changes||(this._changes=new Qu)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const l=Rs(r);(this._changesDetected=!function Na(n,r,s){if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++){let l=n[a],h=r[a];if(s&&(l=s(l),h=s(h)),h!==l)return!1}return!0}(a._results,l,s))&&(a._results=l,a.length=l.length,a.last=l[this.length-1],a.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ig=(()=>{class n{}return n.__NG_ELEMENT_ID__=lb,n})();const ab=ig,ub=class extends ab{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(r,s){const a=this._declarationTContainer.tViews,l=sc(this._declarationLView,a,r,16,null,a.declTNode,null,null,null,null,s||null);l[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(l[19]=v.createEmbeddedView(a)),td(a,l,r),new ld(l)}};function lb(){return Cy(oi(),Gt())}function Cy(n,r){return 4&n.type?new ub(r,n,ul(n,r)):null}let Dy=(()=>{class n{}return n.__NG_ELEMENT_ID__=cb,n})();function cb(){return Z0(oi(),Gt())}const db=Dy,G0=class extends db{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return ul(this._hostTNode,this._hostLView)}get injector(){return new ko(this._hostTNode,this._hostLView)}get parentInjector(){const r=Nt(this._hostTNode,this._hostLView);if(ns(r)){const s=Zr(r,this._hostLView),a=Ur(r);return new ko(s[1].data[a+8],s)}return new ko(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=z0(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,a){let l,h;"number"==typeof a?l=a:null!=a&&(l=a.index,h=a.injector);const v=r.createEmbeddedView(s||{},h);return this.insert(v,l),v}createComponent(r,s,a,l,h){const v=r&&!function ma(n){return"function"==typeof n}(r);let C;if(v)C=s;else{const ye=s||{};C=ye.index,a=ye.injector,l=ye.projectableNodes,h=ye.environmentInjector||ye.ngModuleRef}const x=v?r:new cd(Z(r)),H=a||this.parentInjector;if(!h&&null==x.ngModule){const qe=(v?H:this.parentInjector).get(il,null);qe&&(h=qe)}const re=x.create(H,l,void 0,h);return this.insert(re.hostView,C),re}insert(r,s){const a=r._lView,l=a[1];if(function ts(n){return dn(n[3])}(a)){const re=this.indexOf(r);if(-1!==re)this.detach(re);else{const ye=a[3],qe=new G0(ye,ye[6],ye[3]);qe.detach(qe.indexOf(r))}}const h=this._adjustIndex(s),v=this._lContainer;!function Ng(n,r,s,a){const l=10+a,h=s.length;a>0&&(s[l-1][4]=r),a<h-10?(r[4]=s[l],Ha(s,10+a,r)):(s.push(r),r[4]=null),r[3]=s;const v=r[17];null!==v&&s!==v&&function Lu(n,r){const s=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===s?n[9]=[r]:s.push(r)}(v,r);const C=r[19];null!==C&&C.insertView(n),r[2]|=64}(l,a,v,h);const C=Ff(h,v),x=a[11],H=jc(x,v[7]);return null!==H&&function fl(n,r,s,a,l,h){a[0]=l,a[6]=r,Hc(n,a,s,1,l,h)}(l,v[6],x,a,H,C),r.attachToViewContainerRef(),Ha(dv(v),h,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=z0(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=xf(this._lContainer,s);a&&(_o(dv(this._lContainer),s),kg(a[1],a))}detach(r){const s=this._adjustIndex(r,-1),a=xf(this._lContainer,s);return a&&null!=_o(dv(this._lContainer),s)?new ld(a):null}_adjustIndex(r,s=0){return r??this.length+s}};function z0(n){return n[8]}function dv(n){return n[8]||(n[8]=[])}function Z0(n,r){let s;const a=r[n.index];if(dn(a))s=a;else{let l;if(8&n.type)l=Ze(a);else{const h=r[11];l=h.createComment("");const v=hn(n,r);Uu(h,jc(h,v),l,function Ug(n,r){return n.nextSibling(r)}(h,v),!1)}r[n.index]=s=Ch(a,r,l,n),od(r,s)}return new G0(s,n,r)}class hv{constructor(r){this.queryList=r,this.matches=null}clone(){return new hv(this.queryList)}setDirty(){this.queryList.setDirty()}}class fv{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,l=[];for(let h=0;h<a;h++){const v=s.getByIndex(h);l.push(this.queries[v.indexInDeclarationView].clone())}return new fv(l)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==eE(r,s).matches&&this.queries[s].setDirty()}}class W0{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class pv{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const l=null!==s?s.length:0,h=this.getByIndex(a).embeddedTView(r,l);h&&(h.indexInDeclarationView=a,null!==s?s.push(h):s=[h])}return null!==s?new pv(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class gv{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new gv(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let l=0;l<a.length;l++){const h=a[l];this.matchTNodeWithReadOption(r,s,pb(s,h)),this.matchTNodeWithReadOption(r,s,Go(s,r,h,!1,!1))}else a===ig?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,Go(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const l=this.metadata.read;if(null!==l)if(l===ll||l===Dy||l===ig&&4&s.type)this.addMatch(s.index,-2);else{const h=Go(s,r,l,!1,!1);null!==h&&this.addMatch(s.index,h)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function pb(n,r){const s=n.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function mb(n,r,s,a){return-1===s?function gb(n,r){return 11&n.type?ul(n,r):4&n.type?Cy(n,r):null}(r,n):-2===s?function yb(n,r,s){return s===ll?ul(r,n):s===ig?Cy(r,n):s===Dy?Z0(r,n):void 0}(n,r,a):Ti(n,n[1],s,r)}function q0(n,r,s,a){const l=r[19].queries[a];if(null===l.matches){const h=n.data,v=s.matches,C=[];for(let x=0;x<v.length;x+=2){const H=v[x];C.push(H<0?null:mb(r,h[H],v[x+1],s.metadata.read))}l.matches=C}return l.matches}function mv(n,r,s,a){const l=n.queries.getByIndex(s),h=l.matches;if(null!==h){const v=q0(n,r,l,s);for(let C=0;C<h.length;C+=2){const x=h[C];if(x>0)a.push(v[C/2]);else{const H=h[C+1],re=r[-x];for(let ye=10;ye<re.length;ye++){const qe=re[ye];qe[17]===qe[3]&&mv(qe[1],qe,H,a)}if(null!==re[9]){const ye=re[9];for(let qe=0;qe<ye.length;qe++){const ft=ye[qe];mv(ft[1],ft,H,a)}}}}}return a}function K0(n){const r=Gt(),s=hr(),a=$o();ia(a+1);const l=eE(s,a);if(n.dirty&&function si(n){return 4==(4&n[2])}(r)===(2==(2&l.metadata.flags))){if(null===l.matches)n.reset([]);else{const h=l.crossesNgTemplate?mv(s,r,a,[]):q0(s,r,l,a);n.reset(h,_g),n.notifyOnChanges()}return!0}return!1}function Y0(n,r,s,a){const l=hr();if(l.firstCreatePass){const h=oi();(function X0(n,r,s){null===n.queries&&(n.queries=new pv),n.queries.track(new gv(r,s))})(l,new W0(r,s,a),h.index),function Eb(n,r){const s=n.contentQueries||(n.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,r)}(l,n),2==(2&s)&&(l.staticContentQueries=!0)}!function J0(n,r,s){const a=new cv(4==(4&s));wh(n,r,a,a.destroy),null===r[19]&&(r[19]=new fv),r[19].queries.push(new hv(a))}(l,Gt(),s)}function Q0(){return function vb(n,r){return n[19].queries[r].queryList}(Gt(),$o())}function eE(n,r){return n.queries.getByIndex(r)}function tE(n,r){return Cy(n,r)}function Sy(...n){}const EE=new ci("Application Initializer");let Ay=(()=>{class n{constructor(s){this.appInits=s,this.resolve=Sy,this.reject=Sy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,l)=>{this.resolve=a,this.reject=l})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const h=this.appInits[l]();if(Fp(h))s.push(h);else if(jm(h)){const v=new Promise((C,x)=>{h.subscribe({complete:C,error:x})});s.push(v)}}Promise.all(s).then(()=>{a()}).catch(l=>{this.reject(l)}),0===s.length&&a(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(Bi(EE,8))},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const wE=new ci("AppId",{providedIn:"root",factory:function bE(){return`${wv()}${wv()}${wv()}`}});function wv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const IE=new ci("Platform Initializer"),Bb=new ci("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),CE=new ci("appBootstrapListener"),jb=new ci("AnimationModuleType");let Hb=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const My=new ci("LocaleId",{providedIn:"root",factory:()=>Ga(My,Ut.Optional|Ut.SkipSelf)||function $b(){return typeof $localize<"u"&&$localize.locale||Pl}()}),Gb=new ci("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class zb{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let Zb=(()=>{class n{compileModuleSync(s){return new ov(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),h=fu(rn(s).declarations).reduce((v,C)=>{const x=Z(C);return x&&v.push(new cd(x)),v},[]);return new zb(a,h)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Kb=(()=>Promise.resolve(0))();function bv(n){typeof Zone>"u"?Kb.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class ru{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Qu(!1),this.onMicrotaskEmpty=new Qu(!1),this.onStable=new Qu(!1),this.onError=new Qu(!1),typeof Zone>"u")throw new ze(908,!1);Zone.assertZonePatched();const l=this;if(l._nesting=0,l._outer=l._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const h=Zone.AsyncStackTaggingZoneSpec;l._inner=l._inner.fork(new h("Angular"))}Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!a&&s,l.shouldCoalesceRunChangeDetection=a,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function Yb(){let n=Rn.requestAnimationFrame,r=Rn.cancelAnimationFrame;if(typeof Zone<"u"&&n&&r){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function Xb(n){const r=()=>{!function Jb(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Rn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Cv(n),n.isCheckStableRunning=!0,Iv(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Cv(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,l,h,v,C)=>{try{return SE(n),s.invokeTask(l,h,v,C)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||n.shouldCoalesceRunChangeDetection)&&r(),AE(n)}},onInvoke:(s,a,l,h,v,C,x)=>{try{return SE(n),s.invoke(l,h,v,C,x)}finally{n.shouldCoalesceRunChangeDetection&&r(),AE(n)}},onHasTask:(s,a,l,h)=>{s.hasTask(l,h),a===l&&("microTask"==h.change?(n._hasPendingMicrotasks=h.microTask,Cv(n),Iv(n)):"macroTask"==h.change&&(n.hasPendingMacrotasks=h.macroTask))},onHandleError:(s,a,l,h)=>(s.handleError(l,h),n.runOutsideAngular(()=>n.onError.emit(h)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ru.isInAngularZone())throw new ze(909,!1)}static assertNotInAngularZone(){if(ru.isInAngularZone())throw new ze(909,!1)}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,l){const h=this._inner,v=h.scheduleEventTask("NgZoneEvent: "+l,r,Qb,Sy,Sy);try{return h.runTask(v,s,a)}finally{h.cancelTask(v)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const Qb={};function Iv(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Cv(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function SE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function AE(n){n._nesting--,Iv(n)}class eI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Qu,this.onMicrotaskEmpty=new Qu,this.onStable=new Qu,this.onError=new Qu}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,l){return r.apply(s,a)}}const ME=new ci(""),xE=new ci("");let Dv,tI=(()=>{class n{constructor(s,a,l){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Dv||(function nI(n){Dv=n}(l),l.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ru.assertNotInAngularZone(),bv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())bv(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,l){let h=-1;a&&a>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==h),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:h,updateCb:l})}whenStable(s,a,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,l){return[]}}return n.\u0275fac=function(s){return new(s||n)(Bi(ru),Bi(RE),Bi(xE))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})(),RE=(()=>{class n{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return Dv?.findTestabilityInTree(this,s,a)??null}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Cc=null;const PE=new ci("AllowMultipleToken"),Tv=new ci("PlatformDestroyListeners");class sI{constructor(r,s){this.name=r,this.token=s}}function NE(n,r,s=[]){const a=`Platform: ${r}`,l=new ci(a);return(h=[])=>{let v=Sv();if(!v||v.injector.get(PE,!1)){const C=[...s,...h,{provide:l,useValue:!0}];n?n(C):function oI(n){if(Cc&&!Cc.get(PE,!1))throw new ze(400,!1);Cc=n;const r=n.get(FE);(function OE(n){const r=n.get(IE,null);r&&r.forEach(s=>s())})(n)}(function kE(n=[],r){return mu.create({name:r,providers:[{provide:df,useValue:"platform"},{provide:Tv,useValue:new Set([()=>Cc=null])},...n]})}(C,a))}return function uI(n){const r=Sv();if(!r)throw new ze(401,!1);return r}()}}function Sv(){return Cc?.get(FE)??null}let FE=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const l=function UE(n,r){let s;return s="noop"===n?new eI:("zone.js"===n?void 0:n)||new ru(r),s}(a?.ngZone,function LE(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(a)),h=[{provide:ru,useValue:l}];return l.run(()=>{const v=mu.create({providers:h,parent:this.injector,name:s.moduleType.name}),C=s.create(v),x=C.injector.get(kc,null);if(!x)throw new ze(402,!1);return l.runOutsideAngular(()=>{const H=l.onError.subscribe({next:re=>{x.handleError(re)}});C.onDestroy(()=>{Ry(this._modules,C),H.unsubscribe()})}),function VE(n,r,s){try{const a=s();return Fp(a)?a.catch(l=>{throw r.runOutsideAngular(()=>n.handleError(l)),l}):a}catch(a){throw r.runOutsideAngular(()=>n.handleError(a)),a}}(x,l,()=>{const H=C.injector.get(Ay);return H.runInitializers(),H.donePromise.then(()=>(function Xp(n){un(n,"Expected localeId to be defined"),"string"==typeof n&&(Ey=n.toLowerCase().replace(/_/g,"-"))}(C.injector.get(My,Pl)||Pl),this._moduleDoBootstrap(C),C))})})}bootstrapModule(s,a=[]){const l=BE({},a);return function rI(n,r,s){const a=new ov(s);return Promise.resolve(a)}(0,0,s).then(h=>this.bootstrapModuleFactory(h,l))}_moduleDoBootstrap(s){const a=s.injector.get(xy);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(l=>a.bootstrap(l));else{if(!s.instance.ngDoBootstrap)throw new ze(403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ze(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(Tv,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(Bi(mu))},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function BE(n,r){return Array.isArray(r)?r.reduce(BE,n):{...n,...r}}let xy=(()=>{class n{constructor(s,a,l){this._zone=s,this._injector=a,this._exceptionHandler=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new j.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),v=new j.y(C=>{let x;this._zone.runOutsideAngular(()=>{x=this._zone.onStable.subscribe(()=>{ru.assertNotInAngularZone(),bv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const H=this._zone.onUnstable.subscribe(()=>{ru.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{x.unsubscribe(),H.unsubscribe()}});this.isStable=(0,pe.T)(h,v.pipe((0,m.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,a){const l=s instanceof pf;if(!this._injector.get(Ay).done)throw!l&&xt(s),new ze(405,false);let v;v=l?s:this._injector.get(al).resolveComponentFactory(s),this.componentTypes.push(v.componentType);const C=function iI(n){return n.isBoundToModule}(v)?void 0:this._injector.get(Wh),H=v.create(mu.NULL,[],a||v.selector,C),re=H.location.nativeElement,ye=H.injector.get(ME,null);return ye?.registerApplication(re),H.onDestroy(()=>{this.detachView(H.hostView),Ry(this.components,H),ye?.unregisterApplication(re)}),this._loadComponent(H),H}tick(){if(this._runningTick)throw new ze(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;Ry(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(CE,[]).concat(this._bootstrapListeners).forEach(l=>l(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>Ry(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new ze(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(s){return new(s||n)(Bi(ru),Bi(il),Bi(kc))},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ry(n,r){const s=n.indexOf(r);s>-1&&n.splice(s,1)}let HE=!0,$E=!1;function cI(){return $E=!0,HE}function dI(){if($E)throw new Error("Cannot enable prod mode after platform setup.");HE=!1}let hI=(()=>{class n{}return n.__NG_ELEMENT_ID__=fI,n})();function fI(n){return function pI(n,r,s){if(Fr(n)&&!s){const a=$n(n.index,r);return new ld(a,a)}return 47&n.type?new ld(r[16],r):null}(oi(),Gt(),16==(16&n))}class WE{constructor(){}supports(r){return El(r)}create(r){return new EI(r)}}const vI=(n,r)=>r;class EI{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||vI}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,l=0,h=null;for(;s||a;){const v=!a||s&&s.currentIndex<KE(a,l,h)?s:a,C=KE(v,l,h),x=v.currentIndex;if(v===a)l--,a=a._nextRemoved;else if(s=s._next,null==v.previousIndex)l++;else{h||(h=[]);const H=C-l,re=x-l;if(H!=re){for(let qe=0;qe<H;qe++){const ft=qe<h.length?h[qe]:h[qe]=0,Zt=ft+qe;re<=Zt&&Zt<H&&(h[qe]=ft+1)}h[v.previousIndex]=re-H}}C!==x&&r(v,C,x)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!El(r))throw new ze(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let l,h,v,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let C=0;C<this.length;C++)h=r[C],v=this._trackByFn(C,h),null!==s&&Object.is(s.trackById,v)?(a&&(s=this._verifyReinsertion(s,h,v,C)),Object.is(s.item,h)||this._addIdentityChange(s,h)):(s=this._mismatch(s,h,v,C),a=!0),s=s._next}else l=0,function x_(n,r){if(Array.isArray(n))for(let s=0;s<n.length;s++)r(n[s]);else{const s=n[Gu()]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,C=>{v=this._trackByFn(l,C),null!==s&&Object.is(s.trackById,v)?(a&&(s=this._verifyReinsertion(s,C,v,l)),Object.is(s.item,C)||this._addIdentityChange(s,C)):(s=this._mismatch(s,C,v,l),a=!0),s=s._next,l++}),this.length=l;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,l){let h;return null===r?h=this._itTail:(h=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,h,l)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,l))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,h,l)):r=this._addAfter(new wI(s,a),h,l),r}_verifyReinsertion(r,s,a,l){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==h?r=this._reinsertAfter(h,r._prev,l):r.currentIndex!=l&&(r.currentIndex=l,this._addToMoves(r,l)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const l=r._prevRemoved,h=r._nextRemoved;return null===l?this._removalsHead=h:l._nextRemoved=h,null===h?this._removalsTail=l:h._prevRemoved=l,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const l=null===s?this._itHead:s._next;return r._next=l,r._prev=s,null===l?this._itTail=r:l._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new qE),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new qE),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class wI{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class bI{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class qE{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new bI,this.map.set(s,a)),a.add(r)}get(r,s){const l=this.map.get(r);return l?l.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function KE(n,r,s){const a=n.previousIndex;if(null===a)return a;let l=0;return s&&a<s.length&&(l=s[a]),a+r+l}class YE{constructor(){}supports(r){return r instanceof Map||Mp(r)}create(){return new II}}class II{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||Mp(r)))throw new ze(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,l)=>{if(s&&s.key===l)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const h=this._getOrCreateRecordForKey(l,a);s=this._insertBeforeOrAppend(s,h)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const l=this._records.get(r);this._maybeAddToChanges(l,s);const h=l._prev,v=l._next;return h&&(h._next=v),v&&(v._prev=h),l._next=null,l._prev=null,l}const a=new CI(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class CI{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function QE(){return new Pv([new WE])}let Pv=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(null!=a){const l=a.factories.slice();s=s.concat(l)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||QE()),deps:[[n,new Qn,new qt]]}}find(s){const a=this.factories.find(l=>l.supports(s));if(null!=a)return a;throw new ze(901,!1)}}return n.\u0275prov=ht({token:n,providedIn:"root",factory:QE}),n})();function JE(){return new Ov([new YE])}let Ov=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(a){const l=a.factories.slice();s=s.concat(l)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||JE()),deps:[[n,new Qn,new qt]]}}find(s){const a=this.factories.find(l=>l.supports(s));if(a)return a;throw new ze(901,!1)}}return n.\u0275prov=ht({token:n,providedIn:"root",factory:JE}),n})();const SI=NE(null,"core",[]);let AI=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(Bi(xy))},n.\u0275mod=pn({type:n}),n.\u0275inj=Xt({}),n})();function MI(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},433:(tn,et,P)=>{P.d(et,{Wl:()=>We,Fj:()=>ge,qu:()=>Ho,u:()=>As,sg:()=>ys,u5:()=>Po,nD:()=>Ls,JJ:()=>Hn,JL:()=>qn,F:()=>Vt,On:()=>Ys,YN:()=>Y,wV:()=>Ss,_:()=>us,eT:()=>cs,UX:()=>eo,Q7:()=>xr,EJ:()=>es,kI:()=>_e,_Y:()=>ao,Kr:()=>en});var c=P(4650),U=P(6895),j=P(8996),pe=P(9751),m=P(4742),Te=P(8421),ke=P(7669),Pe=P(5403),Ae=P(3268),q=P(1810),me=P(4004);let tt=(()=>{class L{constructor(M,ne){this._renderer=M,this._elementRef=ne,this.onChange=gt=>{},this.onTouched=()=>{}}setProperty(M,ne){this._renderer.setProperty(this._elementRef.nativeElement,M,ne)}registerOnTouched(M){this.onTouched=M}registerOnChange(M){this.onChange=M}setDisabledState(M){this.setProperty("disabled",M)}}return L.\u0275fac=function(M){return new(M||L)(c.Y36(c.Qsj),c.Y36(c.SBq))},L.\u0275dir=c.lG2({type:L}),L})(),Qe=(()=>{class L extends tt{}return L.\u0275fac=function(){let k;return function(ne){return(k||(k=c.n5z(L)))(ne||L)}}(),L.\u0275dir=c.lG2({type:L,features:[c.qOj]}),L})();const ze=new c.OlP("NgValueAccessor"),Pt={provide:ze,useExisting:(0,c.Gpc)(()=>We),multi:!0};let We=(()=>{class L extends Qe{writeValue(M){this.setProperty("checked",M)}}return L.\u0275fac=function(){let k;return function(ne){return(k||(k=c.n5z(L)))(ne||L)}}(),L.\u0275dir=c.lG2({type:L,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(M,ne){1&M&&c.NdJ("change",function(En){return ne.onChange(En.target.checked)})("blur",function(){return ne.onTouched()})},features:[c._Bn([Pt]),c.qOj]}),L})();const Ge={provide:ze,useExisting:(0,c.Gpc)(()=>ge),multi:!0},Bt=new c.OlP("CompositionEventMode");let ge=(()=>{class L extends tt{constructor(M,ne,gt){super(M,ne),this._compositionMode=gt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Tt(){const L=(0,U.q)()?(0,U.q)().getUserAgent():"";return/android (\d+)/.test(L.toLowerCase())}())}writeValue(M){this.setProperty("value",M??"")}_handleInput(M){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(M)}_compositionStart(){this._composing=!0}_compositionEnd(M){this._composing=!1,this._compositionMode&&this.onChange(M)}}return L.\u0275fac=function(M){return new(M||L)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(Bt,8))},L.\u0275dir=c.lG2({type:L,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(M,ne){1&M&&c.NdJ("input",function(En){return ne._handleInput(En.target.value)})("blur",function(){return ne.onTouched()})("compositionstart",function(){return ne._compositionStart()})("compositionend",function(En){return ne._compositionEnd(En.target.value)})},features:[c._Bn([Ge]),c.qOj]}),L})();function ot(L){return null==L||("string"==typeof L||Array.isArray(L))&&0===L.length}function _t(L){return null!=L&&"number"==typeof L.length}const Re=new c.OlP("NgValidators"),Ye=new c.OlP("NgAsyncValidators"),rt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class _e{static min(k){return function Ve(L){return k=>{if(ot(k.value)||ot(L))return null;const M=parseFloat(k.value);return!isNaN(M)&&M<L?{min:{min:L,actual:k.value}}:null}}(k)}static max(k){return function xe(L){return k=>{if(ot(k.value)||ot(L))return null;const M=parseFloat(k.value);return!isNaN(M)&&M>L?{max:{max:L,actual:k.value}}:null}}(k)}static required(k){return $e(k)}static requiredTrue(k){return function Ft(L){return!0===L.value?null:{required:!0}}(k)}static email(k){return function jt(L){return ot(L.value)||rt.test(L.value)?null:{email:!0}}(k)}static minLength(k){return function Kt(L){return k=>ot(k.value)||!_t(k.value)?null:k.value.length<L?{minlength:{requiredLength:L,actualLength:k.value.length}}:null}(k)}static maxLength(k){return nn(k)}static pattern(k){return function un(L){if(!L)return Ot;let k,M;return"string"==typeof L?(M="","^"!==L.charAt(0)&&(M+="^"),M+=L,"$"!==L.charAt(L.length-1)&&(M+="$"),k=new RegExp(M)):(M=L.toString(),k=L),ne=>{if(ot(ne.value))return null;const gt=ne.value;return k.test(gt)?null:{pattern:{requiredPattern:M,actualValue:gt}}}}(k)}static nullValidator(k){return null}static compose(k){return Fn(k)}static composeAsync(k){return Wn(k)}}function $e(L){return ot(L.value)?{required:!0}:null}function nn(L){return k=>_t(k.value)&&k.value.length>L?{maxlength:{requiredLength:L,actualLength:k.value.length}}:null}function Ot(L){return null}function vn(L){return null!=L}function fn(L){return(0,c.QGY)(L)?(0,j.D)(L):L}function Dt(L){let k={};return L.forEach(M=>{k=null!=M?{...k,...M}:k}),0===Object.keys(k).length?null:k}function ht(L,k){return k.map(M=>M(L))}function Xt(L){return L.map(k=>function wt(L){return!L.validate}(k)?k:M=>k.validate(M))}function Fn(L){if(!L)return null;const k=L.filter(vn);return 0==k.length?null:function(M){return Dt(ht(M,k))}}function sr(L){return null!=L?Fn(Xt(L)):null}function Wn(L){if(!L)return null;const k=L.filter(vn);return 0==k.length?null:function(M){return function Q(...L){const k=(0,ke.jO)(L),{args:M,keys:ne}=(0,m.D)(L),gt=new pe.y(En=>{const{length:Lr}=M;if(!Lr)return void En.complete();const vr=new Array(Lr);let bs=Lr,Ms=Lr;for(let bo=0;bo<Lr;bo++){let po=!1;(0,Te.Xf)(M[bo]).subscribe((0,Pe.x)(En,No=>{po||(po=!0,Ms--),vr[bo]=No},()=>bs--,void 0,()=>{(!bs||!po)&&(Ms||En.next(ne?(0,q.n)(ne,vr):vr),En.complete())}))}});return k?gt.pipe((0,Ae.Z)(k)):gt}(ht(M,k).map(fn)).pipe((0,me.U)(Dt))}}function nr(L){return null!=L?Wn(Xt(L)):null}function Kn(L,k){return null===L?[k]:Array.isArray(L)?[...L,k]:[L,k]}function fr(L){return L._rawValidators}function cn(L){return L._rawAsyncValidators}function rr(L){return L?Array.isArray(L)?L:[L]:[]}function br(L,k){return Array.isArray(L)?L.includes(k):L===k}function dr(L,k){const M=rr(k);return rr(L).forEach(gt=>{br(M,gt)||M.push(gt)}),M}function Ut(L,k){return rr(k).filter(M=>!br(L,M))}class or{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(k){this._rawValidators=k||[],this._composedValidatorFn=sr(this._rawValidators)}_setAsyncValidators(k){this._rawAsyncValidators=k||[],this._composedAsyncValidatorFn=nr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(k){this._onDestroyCallbacks.push(k)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(k=>k()),this._onDestroyCallbacks=[]}reset(k){this.control&&this.control.reset(k)}hasError(k,M){return!!this.control&&this.control.hasError(k,M)}getError(k,M){return this.control?this.control.getError(k,M):null}}class Ln extends or{get formDirective(){return null}get path(){return null}}class jn extends or{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class pr{constructor(k){this._cd=k}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Hn=(()=>{class L extends pr{constructor(M){super(M)}}return L.\u0275fac=function(M){return new(M||L)(c.Y36(jn,2))},L.\u0275dir=c.lG2({type:L,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(M,ne){2&M&&c.ekj("ng-untouched",ne.isUntouched)("ng-touched",ne.isTouched)("ng-pristine",ne.isPristine)("ng-dirty",ne.isDirty)("ng-valid",ne.isValid)("ng-invalid",ne.isInvalid)("ng-pending",ne.isPending)},features:[c.qOj]}),L})(),qn=(()=>{class L extends pr{constructor(M){super(M)}}return L.\u0275fac=function(M){return new(M||L)(c.Y36(Ln,10))},L.\u0275dir=c.lG2({type:L,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(M,ne){2&M&&c.ekj("ng-untouched",ne.isUntouched)("ng-touched",ne.isTouched)("ng-pristine",ne.isPristine)("ng-dirty",ne.isDirty)("ng-valid",ne.isValid)("ng-invalid",ne.isInvalid)("ng-pending",ne.isPending)("ng-submitted",ne.isSubmitted)},features:[c.qOj]}),L})();const pn="VALID",De="INVALID",ce="PENDING",Oe="DISABLED";function ue(L){return(xt(L)?L.validators:L)||null}function Z(L){return Array.isArray(L)?sr(L):L||null}function ie(L,k){return(xt(k)?k.asyncValidators:L)||null}function Be(L){return Array.isArray(L)?nr(L):L||null}function xt(L){return null!=L&&!Array.isArray(L)&&"object"==typeof L}function rn(L,k,M){const ne=L.controls;if(!(k?Object.keys(ne):ne).length)throw new c.vHH(1e3,"");if(!ne[M])throw new c.vHH(1001,"")}function sn(L,k,M){L._forEachChild((ne,gt)=>{if(void 0===M[gt])throw new c.vHH(1002,"")})}class fe{constructor(k,M){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=k,this._rawAsyncValidators=M,this._composedValidatorFn=Z(this._rawValidators),this._composedAsyncValidatorFn=Be(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(k){this._rawValidators=this._composedValidatorFn=k}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(k){this._rawAsyncValidators=this._composedAsyncValidatorFn=k}get parent(){return this._parent}get valid(){return this.status===pn}get invalid(){return this.status===De}get pending(){return this.status==ce}get disabled(){return this.status===Oe}get enabled(){return this.status!==Oe}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(k){this._rawValidators=k,this._composedValidatorFn=Z(k)}setAsyncValidators(k){this._rawAsyncValidators=k,this._composedAsyncValidatorFn=Be(k)}addValidators(k){this.setValidators(dr(k,this._rawValidators))}addAsyncValidators(k){this.setAsyncValidators(dr(k,this._rawAsyncValidators))}removeValidators(k){this.setValidators(Ut(k,this._rawValidators))}removeAsyncValidators(k){this.setAsyncValidators(Ut(k,this._rawAsyncValidators))}hasValidator(k){return br(this._rawValidators,k)}hasAsyncValidator(k){return br(this._rawAsyncValidators,k)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(k={}){this.touched=!0,this._parent&&!k.onlySelf&&this._parent.markAsTouched(k)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(k=>k.markAllAsTouched())}markAsUntouched(k={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(M=>{M.markAsUntouched({onlySelf:!0})}),this._parent&&!k.onlySelf&&this._parent._updateTouched(k)}markAsDirty(k={}){this.pristine=!1,this._parent&&!k.onlySelf&&this._parent.markAsDirty(k)}markAsPristine(k={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(M=>{M.markAsPristine({onlySelf:!0})}),this._parent&&!k.onlySelf&&this._parent._updatePristine(k)}markAsPending(k={}){this.status=ce,!1!==k.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!k.onlySelf&&this._parent.markAsPending(k)}disable(k={}){const M=this._parentMarkedDirty(k.onlySelf);this.status=Oe,this.errors=null,this._forEachChild(ne=>{ne.disable({...k,onlySelf:!0})}),this._updateValue(),!1!==k.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...k,skipPristineCheck:M}),this._onDisabledChange.forEach(ne=>ne(!0))}enable(k={}){const M=this._parentMarkedDirty(k.onlySelf);this.status=pn,this._forEachChild(ne=>{ne.enable({...k,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:k.emitEvent}),this._updateAncestors({...k,skipPristineCheck:M}),this._onDisabledChange.forEach(ne=>ne(!1))}_updateAncestors(k){this._parent&&!k.onlySelf&&(this._parent.updateValueAndValidity(k),k.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(k){this._parent=k}getRawValue(){return this.value}updateValueAndValidity(k={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===pn||this.status===ce)&&this._runAsyncValidator(k.emitEvent)),!1!==k.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!k.onlySelf&&this._parent.updateValueAndValidity(k)}_updateTreeValidity(k={emitEvent:!0}){this._forEachChild(M=>M._updateTreeValidity(k)),this.updateValueAndValidity({onlySelf:!0,emitEvent:k.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Oe:pn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(k){if(this.asyncValidator){this.status=ce,this._hasOwnPendingAsyncValidator=!0;const M=fn(this.asyncValidator(this));this._asyncValidationSubscription=M.subscribe(ne=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ne,{emitEvent:k})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(k,M={}){this.errors=k,this._updateControlsErrors(!1!==M.emitEvent)}get(k){let M=k;return null==M||(Array.isArray(M)||(M=M.split(".")),0===M.length)?null:M.reduce((ne,gt)=>ne&&ne._find(gt),this)}getError(k,M){const ne=M?this.get(M):this;return ne&&ne.errors?ne.errors[k]:null}hasError(k,M){return!!this.getError(k,M)}get root(){let k=this;for(;k._parent;)k=k._parent;return k}_updateControlsErrors(k){this.status=this._calculateStatus(),k&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(k)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?Oe:this.errors?De:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ce)?ce:this._anyControlsHaveStatus(De)?De:pn}_anyControlsHaveStatus(k){return this._anyControls(M=>M.status===k)}_anyControlsDirty(){return this._anyControls(k=>k.dirty)}_anyControlsTouched(){return this._anyControls(k=>k.touched)}_updatePristine(k={}){this.pristine=!this._anyControlsDirty(),this._parent&&!k.onlySelf&&this._parent._updatePristine(k)}_updateTouched(k={}){this.touched=this._anyControlsTouched(),this._parent&&!k.onlySelf&&this._parent._updateTouched(k)}_registerOnCollectionChange(k){this._onCollectionChange=k}_setUpdateStrategy(k){xt(k)&&null!=k.updateOn&&(this._updateOn=k.updateOn)}_parentMarkedDirty(k){return!k&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(k){return null}}class de extends fe{constructor(k,M,ne){super(ue(M),ie(ne,M)),this.controls=k,this._initObservables(),this._setUpdateStrategy(M),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(k,M){return this.controls[k]?this.controls[k]:(this.controls[k]=M,M.setParent(this),M._registerOnCollectionChange(this._onCollectionChange),M)}addControl(k,M,ne={}){this.registerControl(k,M),this.updateValueAndValidity({emitEvent:ne.emitEvent}),this._onCollectionChange()}removeControl(k,M={}){this.controls[k]&&this.controls[k]._registerOnCollectionChange(()=>{}),delete this.controls[k],this.updateValueAndValidity({emitEvent:M.emitEvent}),this._onCollectionChange()}setControl(k,M,ne={}){this.controls[k]&&this.controls[k]._registerOnCollectionChange(()=>{}),delete this.controls[k],M&&this.registerControl(k,M),this.updateValueAndValidity({emitEvent:ne.emitEvent}),this._onCollectionChange()}contains(k){return this.controls.hasOwnProperty(k)&&this.controls[k].enabled}setValue(k,M={}){sn(this,0,k),Object.keys(k).forEach(ne=>{rn(this,!0,ne),this.controls[ne].setValue(k[ne],{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M)}patchValue(k,M={}){null!=k&&(Object.keys(k).forEach(ne=>{const gt=this.controls[ne];gt&&gt.patchValue(k[ne],{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M))}reset(k={},M={}){this._forEachChild((ne,gt)=>{ne.reset(k[gt],{onlySelf:!0,emitEvent:M.emitEvent})}),this._updatePristine(M),this._updateTouched(M),this.updateValueAndValidity(M)}getRawValue(){return this._reduceChildren({},(k,M,ne)=>(k[ne]=M.getRawValue(),k))}_syncPendingControls(){let k=this._reduceChildren(!1,(M,ne)=>!!ne._syncPendingControls()||M);return k&&this.updateValueAndValidity({onlySelf:!0}),k}_forEachChild(k){Object.keys(this.controls).forEach(M=>{const ne=this.controls[M];ne&&k(ne,M)})}_setUpControls(){this._forEachChild(k=>{k.setParent(this),k._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(k){for(const[M,ne]of Object.entries(this.controls))if(this.contains(M)&&k(ne))return!0;return!1}_reduceValue(){return this._reduceChildren({},(M,ne,gt)=>((ne.enabled||this.disabled)&&(M[gt]=ne.value),M))}_reduceChildren(k,M){let ne=k;return this._forEachChild((gt,En)=>{ne=M(ne,gt,En)}),ne}_allControlsDisabled(){for(const k of Object.keys(this.controls))if(this.controls[k].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(k){return this.controls.hasOwnProperty(k)?this.controls[k]:null}}class dt extends de{}function zn(L,k){return[...k.path,L]}function An(L,k){Zi(L,k),k.valueAccessor.writeValue(L.value),L.disabled&&k.valueAccessor.setDisabledState?.(!0),function _i(L,k){k.valueAccessor.registerOnChange(M=>{L._pendingValue=M,L._pendingChange=!0,L._pendingDirty=!0,"change"===L.updateOn&&ei(L,k)})}(L,k),function vi(L,k){const M=(ne,gt)=>{k.valueAccessor.writeValue(ne),gt&&k.viewToModelUpdate(ne)};L.registerOnChange(M),k._registerOnDestroy(()=>{L._unregisterOnChange(M)})}(L,k),function gs(L,k){k.valueAccessor.registerOnTouched(()=>{L._pendingTouched=!0,"blur"===L.updateOn&&L._pendingChange&&ei(L,k),"submit"!==L.updateOn&&L.markAsTouched()})}(L,k),function bn(L,k){if(k.valueAccessor.setDisabledState){const M=ne=>{k.valueAccessor.setDisabledState(ne)};L.registerOnDisabledChange(M),k._registerOnDestroy(()=>{L._unregisterOnDisabledChange(M)})}}(L,k)}function ur(L,k,M=!0){const ne=()=>{};k.valueAccessor&&(k.valueAccessor.registerOnChange(ne),k.valueAccessor.registerOnTouched(ne)),yi(L,k),L&&(k._invokeOnDestroyCallbacks(),L._registerOnCollectionChange(()=>{}))}function Yr(L,k){L.forEach(M=>{M.registerOnValidatorChange&&M.registerOnValidatorChange(k)})}function Zi(L,k){const M=fr(L);null!==k.validator?L.setValidators(Kn(M,k.validator)):"function"==typeof M&&L.setValidators([M]);const ne=cn(L);null!==k.asyncValidator?L.setAsyncValidators(Kn(ne,k.asyncValidator)):"function"==typeof ne&&L.setAsyncValidators([ne]);const gt=()=>L.updateValueAndValidity();Yr(k._rawValidators,gt),Yr(k._rawAsyncValidators,gt)}function yi(L,k){let M=!1;if(null!==L){if(null!==k.validator){const gt=fr(L);if(Array.isArray(gt)&&gt.length>0){const En=gt.filter(Lr=>Lr!==k.validator);En.length!==gt.length&&(M=!0,L.setValidators(En))}}if(null!==k.asyncValidator){const gt=cn(L);if(Array.isArray(gt)&&gt.length>0){const En=gt.filter(Lr=>Lr!==k.asyncValidator);En.length!==gt.length&&(M=!0,L.setAsyncValidators(En))}}}const ne=()=>{};return Yr(k._rawValidators,ne),Yr(k._rawAsyncValidators,ne),M}function ei(L,k){L._pendingDirty&&L.markAsDirty(),L.setValue(L._pendingValue,{emitModelToViewChange:!1}),k.viewToModelUpdate(L._pendingValue),L._pendingChange=!1}function gr(L,k){Zi(L,k)}function Wi(L,k){if(!L.hasOwnProperty("model"))return!1;const M=L.model;return!!M.isFirstChange()||!Object.is(k,M.currentValue)}function ss(L,k){L._syncPendingControls(),k.forEach(M=>{const ne=M.control;"submit"===ne.updateOn&&ne._pendingChange&&(M.viewToModelUpdate(ne._pendingValue),ne._pendingChange=!1)})}function ms(L,k){if(!k)return null;let M,ne,gt;return Array.isArray(k),k.forEach(En=>{En.constructor===ge?M=En:function ii(L){return Object.getPrototypeOf(L.constructor)===Qe}(En)?ne=En:gt=En}),gt||ne||M||null}const it={provide:Ln,useExisting:(0,c.Gpc)(()=>Vt)},Mt=(()=>Promise.resolve())();let Vt=(()=>{class L extends Ln{constructor(M,ne){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new de({},sr(M),nr(ne))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(M){Mt.then(()=>{const ne=this._findContainer(M.path);M.control=ne.registerControl(M.name,M.control),An(M.control,M),M.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(M)})}getControl(M){return this.form.get(M.path)}removeControl(M){Mt.then(()=>{const ne=this._findContainer(M.path);ne&&ne.removeControl(M.name),this._directives.delete(M)})}addFormGroup(M){Mt.then(()=>{const ne=this._findContainer(M.path),gt=new de({});gr(gt,M),ne.registerControl(M.name,gt),gt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(M){Mt.then(()=>{const ne=this._findContainer(M.path);ne&&ne.removeControl(M.name)})}getFormGroup(M){return this.form.get(M.path)}updateModel(M,ne){Mt.then(()=>{this.form.get(M.path).setValue(ne)})}setValue(M){this.control.setValue(M)}onSubmit(M){return this.submitted=!0,ss(this.form,this._directives),this.ngSubmit.emit(M),"dialog"===M?.target?.method}onReset(){this.resetForm()}resetForm(M){this.form.reset(M),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(M){return M.pop(),M.length?this.form.get(M):this.form}}return L.\u0275fac=function(M){return new(M||L)(c.Y36(Re,10),c.Y36(Ye,10))},L.\u0275dir=c.lG2({type:L,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(M,ne){1&M&&c.NdJ("submit",function(En){return ne.onSubmit(En)})("reset",function(){return ne.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([it]),c.qOj]}),L})();function dn(L,k){const M=L.indexOf(k);M>-1&&L.splice(M,1)}function lr(L){return"object"==typeof L&&null!==L&&2===Object.keys(L).length&&"value"in L&&"disabled"in L}const Fr=class extends fe{constructor(k=null,M,ne){super(ue(M),ie(ne,M)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(k),this._setUpdateStrategy(M),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),xt(M)&&(M.nonNullable||M.initialValueIsDefault)&&(this.defaultValue=lr(k)?k.value:k)}setValue(k,M={}){this.value=this._pendingValue=k,this._onChange.length&&!1!==M.emitModelToViewChange&&this._onChange.forEach(ne=>ne(this.value,!1!==M.emitViewToModelChange)),this.updateValueAndValidity(M)}patchValue(k,M={}){this.setValue(k,M)}reset(k=this.defaultValue,M={}){this._applyFormState(k),this.markAsPristine(M),this.markAsUntouched(M),this.setValue(this.value,M),this._pendingChange=!1}_updateValue(){}_anyControls(k){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(k){this._onChange.push(k)}_unregisterOnChange(k){dn(this._onChange,k)}registerOnDisabledChange(k){this._onDisabledChange.push(k)}_unregisterOnDisabledChange(k){dn(this._onDisabledChange,k)}_forEachChild(k){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(k){lr(k)?(this.value=this._pendingValue=k.value,k.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=k}},as={provide:jn,useExisting:(0,c.Gpc)(()=>Ys)},oo=(()=>Promise.resolve())();let Ys=(()=>{class L extends jn{constructor(M,ne,gt,En,Lr){super(),this._changeDetectorRef=Lr,this.control=new Fr,this._registered=!1,this.update=new c.vpe,this._parent=M,this._setValidators(ne),this._setAsyncValidators(gt),this.valueAccessor=ms(0,En)}ngOnChanges(M){if(this._checkForErrors(),!this._registered||"name"in M){if(this._registered&&(this._checkName(),this.formDirective)){const ne=M.name.previousValue;this.formDirective.removeControl({name:ne,path:this._getPath(ne)})}this._setUpControl()}"isDisabled"in M&&this._updateDisabled(M),Wi(M,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(M){this.viewModel=M,this.update.emit(M)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){An(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(M){oo.then(()=>{this.control.setValue(M,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(M){const ne=M.isDisabled.currentValue,gt=0!==ne&&(0,c.D6c)(ne);oo.then(()=>{gt&&!this.control.disabled?this.control.disable():!gt&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(M){return this._parent?zn(M,this._parent):[M]}}return L.\u0275fac=function(M){return new(M||L)(c.Y36(Ln,9),c.Y36(Re,10),c.Y36(Ye,10),c.Y36(ze,10),c.Y36(c.sBO,8))},L.\u0275dir=c.lG2({type:L,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([as]),c.qOj,c.TTD]}),L})(),ao=(()=>{class L{}return L.\u0275fac=function(M){return new(M||L)},L.\u0275dir=c.lG2({type:L,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),L})();const $s={provide:ze,useExisting:(0,c.Gpc)(()=>Ss),multi:!0};let Ss=(()=>{class L extends Qe{writeValue(M){this.setProperty("value",M??"")}registerOnChange(M){this.onChange=ne=>{M(""==ne?null:parseFloat(ne))}}}return L.\u0275fac=function(){let k;return function(ne){return(k||(k=c.n5z(L)))(ne||L)}}(),L.\u0275dir=c.lG2({type:L,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(M,ne){1&M&&c.NdJ("input",function(En){return ne.onChange(En.target.value)})("blur",function(){return ne.onTouched()})},features:[c._Bn([$s]),c.qOj]}),L})();const Ro={provide:ze,useExisting:(0,c.Gpc)(()=>us),multi:!0};let yo=(()=>{class L{}return L.\u0275fac=function(M){return new(M||L)},L.\u0275mod=c.oAB({type:L}),L.\u0275inj=c.cJS({}),L})(),uo=(()=>{class L{constructor(){this._accessors=[]}add(M,ne){this._accessors.push([M,ne])}remove(M){for(let ne=this._accessors.length-1;ne>=0;--ne)if(this._accessors[ne][1]===M)return void this._accessors.splice(ne,1)}select(M){this._accessors.forEach(ne=>{this._isSameGroup(ne,M)&&ne[1]!==M&&ne[1].fireUncheck(M.value)})}_isSameGroup(M,ne){return!!M[0].control&&M[0]._parent===ne._control._parent&&M[1].name===ne.name}}return L.\u0275fac=function(M){return new(M||L)},L.\u0275prov=c.Yz7({token:L,factory:L.\u0275fac,providedIn:yo}),L})(),us=(()=>{class L extends Qe{constructor(M,ne,gt,En){super(M,ne),this._registry=gt,this._injector=En,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(jn),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(M){this._state=M===this.value,this.setProperty("checked",this._state)}registerOnChange(M){this._fn=M,this.onChange=()=>{M(this.value),this._registry.select(this)}}fireUncheck(M){this.writeValue(M)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return L.\u0275fac=function(M){return new(M||L)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(uo),c.Y36(c.zs3))},L.\u0275dir=c.lG2({type:L,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(M,ne){1&M&&c.NdJ("change",function(){return ne.onChange()})("blur",function(){return ne.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[c._Bn([Ro]),c.qOj]}),L})();const ls={provide:ze,useExisting:(0,c.Gpc)(()=>cs),multi:!0};let cs=(()=>{class L extends Qe{writeValue(M){this.setProperty("value",parseFloat(M))}registerOnChange(M){this.onChange=ne=>{M(""==ne?null:parseFloat(ne))}}}return L.\u0275fac=function(){let k;return function(ne){return(k||(k=c.n5z(L)))(ne||L)}}(),L.\u0275dir=c.lG2({type:L,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(M,ne){1&M&&c.NdJ("change",function(En){return ne.onChange(En.target.value)})("input",function(En){return ne.onChange(En.target.value)})("blur",function(){return ne.onTouched()})},features:[c._Bn([ls]),c.qOj]}),L})();const wi=new c.OlP("NgModelWithFormControlWarning"),di={provide:Ln,useExisting:(0,c.Gpc)(()=>ys)};let ys=(()=>{class L extends Ln{constructor(M,ne){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(M),this._setAsyncValidators(ne)}ngOnChanges(M){this._checkFormPresent(),M.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(yi(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(M){const ne=this.form.get(M.path);return An(ne,M),ne.updateValueAndValidity({emitEvent:!1}),this.directives.push(M),ne}getControl(M){return this.form.get(M.path)}removeControl(M){ur(M.control||null,M,!1),function Je(L,k){const M=L.indexOf(k);M>-1&&L.splice(M,1)}(this.directives,M)}addFormGroup(M){this._setUpFormContainer(M)}removeFormGroup(M){this._cleanUpFormContainer(M)}getFormGroup(M){return this.form.get(M.path)}addFormArray(M){this._setUpFormContainer(M)}removeFormArray(M){this._cleanUpFormContainer(M)}getFormArray(M){return this.form.get(M.path)}updateModel(M,ne){this.form.get(M.path).setValue(ne)}onSubmit(M){return this.submitted=!0,ss(this.form,this.directives),this.ngSubmit.emit(M),"dialog"===M?.target?.method}onReset(){this.resetForm()}resetForm(M){this.form.reset(M),this.submitted=!1}_updateDomValue(){this.directives.forEach(M=>{const ne=M.control,gt=this.form.get(M.path);ne!==gt&&(ur(ne||null,M),(L=>L instanceof Fr)(gt)&&(An(gt,M),M.control=gt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(M){const ne=this.form.get(M.path);gr(ne,M),ne.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(M){if(this.form){const ne=this.form.get(M.path);ne&&function ti(L,k){return yi(L,k)}(ne,M)&&ne.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Zi(this.form,this),this._oldForm&&yi(this._oldForm,this)}_checkFormPresent(){}}return L.\u0275fac=function(M){return new(M||L)(c.Y36(Re,10),c.Y36(Ye,10))},L.\u0275dir=c.lG2({type:L,selectors:[["","formGroup",""]],hostBindings:function(M,ne){1&M&&c.NdJ("submit",function(En){return ne.onSubmit(En)})("reset",function(){return ne.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([di]),c.qOj,c.TTD]}),L})();const vs={provide:jn,useExisting:(0,c.Gpc)(()=>As)};let As=(()=>{class L extends jn{constructor(M,ne,gt,En,Lr){super(),this._ngModelWarningConfig=Lr,this._added=!1,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=M,this._setValidators(ne),this._setAsyncValidators(gt),this.valueAccessor=ms(0,En)}set isDisabled(M){}ngOnChanges(M){this._added||this._setUpControl(),Wi(M,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(M){this.viewModel=M,this.update.emit(M)}get path(){return zn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return L._ngModelWarningSentOnce=!1,L.\u0275fac=function(M){return new(M||L)(c.Y36(Ln,13),c.Y36(Re,10),c.Y36(Ye,10),c.Y36(ze,10),c.Y36(wi,8))},L.\u0275dir=c.lG2({type:L,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([vs]),c.qOj,c.TTD]}),L})();const ki={provide:ze,useExisting:(0,c.Gpc)(()=>es),multi:!0};function bi(L,k){return null==L?`${k}`:(k&&"object"==typeof k&&(k="Object"),`${L}: ${k}`.slice(0,50))}let es=(()=>{class L extends Qe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(M){this._compareWith=M}writeValue(M){this.value=M;const gt=bi(this._getOptionId(M),M);this.setProperty("value",gt)}registerOnChange(M){this.onChange=ne=>{this.value=this._getOptionValue(ne),M(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(M){for(const ne of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(ne),M))return ne;return null}_getOptionValue(M){const ne=function Hi(L){return L.split(":")[0]}(M);return this._optionMap.has(ne)?this._optionMap.get(ne):M}}return L.\u0275fac=function(){let k;return function(ne){return(k||(k=c.n5z(L)))(ne||L)}}(),L.\u0275dir=c.lG2({type:L,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(M,ne){1&M&&c.NdJ("change",function(En){return ne.onChange(En.target.value)})("blur",function(){return ne.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([ki]),c.qOj]}),L})(),Y=(()=>{class L{constructor(M,ne,gt){this._element=M,this._renderer=ne,this._select=gt,this._select&&(this.id=this._select._registerOption())}set ngValue(M){null!=this._select&&(this._select._optionMap.set(this.id,M),this._setElementValue(bi(this.id,M)),this._select.writeValue(this._select.value))}set value(M){this._setElementValue(M),this._select&&this._select.writeValue(this._select.value)}_setElementValue(M){this._renderer.setProperty(this._element.nativeElement,"value",M)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return L.\u0275fac=function(M){return new(M||L)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(es,9))},L.\u0275dir=c.lG2({type:L,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),L})();const W={provide:ze,useExisting:(0,c.Gpc)(()=>Ct),multi:!0};function be(L,k){return null==L?`${k}`:("string"==typeof k&&(k=`'${k}'`),k&&"object"==typeof k&&(k="Object"),`${L}: ${k}`.slice(0,50))}let Ct=(()=>{class L extends Qe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(M){this._compareWith=M}writeValue(M){let ne;if(this.value=M,Array.isArray(M)){const gt=M.map(En=>this._getOptionId(En));ne=(En,Lr)=>{En._setSelected(gt.indexOf(Lr.toString())>-1)}}else ne=(gt,En)=>{gt._setSelected(!1)};this._optionMap.forEach(ne)}registerOnChange(M){this.onChange=ne=>{const gt=[],En=ne.selectedOptions;if(void 0!==En){const Lr=En;for(let vr=0;vr<Lr.length;vr++){const Ms=this._getOptionValue(Lr[vr].value);gt.push(Ms)}}else{const Lr=ne.options;for(let vr=0;vr<Lr.length;vr++){const bs=Lr[vr];if(bs.selected){const Ms=this._getOptionValue(bs.value);gt.push(Ms)}}}this.value=gt,M(gt)}}_registerOption(M){const ne=(this._idCounter++).toString();return this._optionMap.set(ne,M),ne}_getOptionId(M){for(const ne of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(ne)._value,M))return ne;return null}_getOptionValue(M){const ne=function Fe(L){return L.split(":")[0]}(M);return this._optionMap.has(ne)?this._optionMap.get(ne)._value:M}}return L.\u0275fac=function(){let k;return function(ne){return(k||(k=c.n5z(L)))(ne||L)}}(),L.\u0275dir=c.lG2({type:L,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(M,ne){1&M&&c.NdJ("change",function(En){return ne.onChange(En.target)})("blur",function(){return ne.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([W]),c.qOj]}),L})(),en=(()=>{class L{constructor(M,ne,gt){this._element=M,this._renderer=ne,this._select=gt,this._select&&(this.id=this._select._registerOption(this))}set ngValue(M){null!=this._select&&(this._value=M,this._setElementValue(be(this.id,M)),this._select.writeValue(this._select.value))}set value(M){this._select?(this._value=M,this._setElementValue(be(this.id,M)),this._select.writeValue(this._select.value)):this._setElementValue(M)}_setElementValue(M){this._renderer.setProperty(this._element.nativeElement,"value",M)}_setSelected(M){this._renderer.setProperty(this._element.nativeElement,"selected",M)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return L.\u0275fac=function(M){return new(M||L)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(Ct,9))},L.\u0275dir=c.lG2({type:L,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),L})();let _n=(()=>{class L{constructor(){this._validator=Ot}ngOnChanges(M){if(this.inputName in M){const ne=this.normalizeInput(M[this.inputName].currentValue);this._enabled=this.enabled(ne),this._validator=this._enabled?this.createValidator(ne):Ot,this._onChange&&this._onChange()}}validate(M){return this._validator(M)}registerOnValidatorChange(M){this._onChange=M}enabled(M){return null!=M}}return L.\u0275fac=function(M){return new(M||L)},L.\u0275dir=c.lG2({type:L,features:[c.TTD]}),L})();const $r={provide:Re,useExisting:(0,c.Gpc)(()=>xr),multi:!0};let xr=(()=>{class L extends _n{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=c.D6c,this.createValidator=M=>$e}enabled(M){return M}}return L.\u0275fac=function(){let k;return function(ne){return(k||(k=c.n5z(L)))(ne||L)}}(),L.\u0275dir=c.lG2({type:L,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(M,ne){2&M&&c.uIk("required",ne._enabled?"":null)},inputs:{required:"required"},features:[c._Bn([$r]),c.qOj]}),L})();const Es={provide:Re,useExisting:(0,c.Gpc)(()=>Ls),multi:!0};let Ls=(()=>{class L extends _n{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=M=>function In(L){return"number"==typeof L?L:parseInt(L,10)}(M),this.createValidator=M=>nn(M)}}return L.\u0275fac=function(){let k;return function(ne){return(k||(k=c.n5z(L)))(ne||L)}}(),L.\u0275dir=c.lG2({type:L,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(M,ne){2&M&&c.uIk("maxlength",ne._enabled?ne.maxlength:null)},inputs:{maxlength:"maxlength"},features:[c._Bn([Es]),c.qOj]}),L})(),hr=(()=>{class L{}return L.\u0275fac=function(M){return new(M||L)},L.\u0275mod=c.oAB({type:L}),L.\u0275inj=c.cJS({imports:[yo]}),L})(),Po=(()=>{class L{}return L.\u0275fac=function(M){return new(M||L)},L.\u0275mod=c.oAB({type:L}),L.\u0275inj=c.cJS({imports:[hr]}),L})(),eo=(()=>{class L{static withConfig(M){return{ngModule:L,providers:[{provide:wi,useValue:M.warnOnNgModelWithFormControl}]}}}return L.\u0275fac=function(M){return new(M||L)},L.\u0275mod=c.oAB({type:L}),L.\u0275inj=c.cJS({imports:[hr]}),L})();class oi extends fe{constructor(k,M,ne){super(ue(M),ie(ne,M)),this.controls=k,this._initObservables(),this._setUpdateStrategy(M),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(k){return this.controls[this._adjustIndex(k)]}push(k,M={}){this.controls.push(k),this._registerControl(k),this.updateValueAndValidity({emitEvent:M.emitEvent}),this._onCollectionChange()}insert(k,M,ne={}){this.controls.splice(k,0,M),this._registerControl(M),this.updateValueAndValidity({emitEvent:ne.emitEvent})}removeAt(k,M={}){let ne=this._adjustIndex(k);ne<0&&(ne=0),this.controls[ne]&&this.controls[ne]._registerOnCollectionChange(()=>{}),this.controls.splice(ne,1),this.updateValueAndValidity({emitEvent:M.emitEvent})}setControl(k,M,ne={}){let gt=this._adjustIndex(k);gt<0&&(gt=0),this.controls[gt]&&this.controls[gt]._registerOnCollectionChange(()=>{}),this.controls.splice(gt,1),M&&(this.controls.splice(gt,0,M),this._registerControl(M)),this.updateValueAndValidity({emitEvent:ne.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(k,M={}){sn(this,0,k),k.forEach((ne,gt)=>{rn(this,!1,gt),this.at(gt).setValue(ne,{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M)}patchValue(k,M={}){null!=k&&(k.forEach((ne,gt)=>{this.at(gt)&&this.at(gt).patchValue(ne,{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M))}reset(k=[],M={}){this._forEachChild((ne,gt)=>{ne.reset(k[gt],{onlySelf:!0,emitEvent:M.emitEvent})}),this._updatePristine(M),this._updateTouched(M),this.updateValueAndValidity(M)}getRawValue(){return this.controls.map(k=>k.getRawValue())}clear(k={}){this.controls.length<1||(this._forEachChild(M=>M._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:k.emitEvent}))}_adjustIndex(k){return k<0?k+this.length:k}_syncPendingControls(){let k=this.controls.reduce((M,ne)=>!!ne._syncPendingControls()||M,!1);return k&&this.updateValueAndValidity({onlySelf:!0}),k}_forEachChild(k){this.controls.forEach((M,ne)=>{k(M,ne)})}_updateValue(){this.value=this.controls.filter(k=>k.enabled||this.disabled).map(k=>k.value)}_anyControls(k){return this.controls.some(M=>M.enabled&&k(M))}_setUpControls(){this._forEachChild(k=>this._registerControl(k))}_allControlsDisabled(){for(const k of this.controls)if(k.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(k){k.setParent(this),k._registerOnCollectionChange(this._onCollectionChange)}_find(k){return this.at(k)??null}}function Ii(L){return!!L&&(void 0!==L.asyncValidators||void 0!==L.validators||void 0!==L.updateOn)}let Ho=(()=>{class L{constructor(){this.useNonNullable=!1}get nonNullable(){const M=new L;return M.useNonNullable=!0,M}group(M,ne=null){const gt=this._reduceControls(M);let En={};return Ii(ne)?En=ne:null!==ne&&(En.validators=ne.validator,En.asyncValidators=ne.asyncValidator),new de(gt,En)}record(M,ne=null){const gt=this._reduceControls(M);return new dt(gt,ne)}control(M,ne,gt){let En={};return this.useNonNullable?(Ii(ne)?En=ne:(En.validators=ne,En.asyncValidators=gt),new Fr(M,{...En,nonNullable:!0})):new Fr(M,ne,gt)}array(M,ne,gt){const En=M.map(Lr=>this._createControl(Lr));return new oi(En,ne,gt)}_reduceControls(M){const ne={};return Object.keys(M).forEach(gt=>{ne[gt]=this._createControl(M[gt])}),ne}_createControl(M){return M instanceof Fr||M instanceof fe?M:Array.isArray(M)?this.control(M[0],M.length>1?M[1]:null,M.length>2?M[2]:null):this.control(M)}}return L.\u0275fac=function(M){return new(M||L)},L.\u0275prov=c.Yz7({token:L,factory:L.\u0275fac,providedIn:eo}),L})()},1481:(tn,et,P)=>{P.d(et,{Dx:()=>Hn,b2:()=>Ln,q6:()=>br,se:()=>$e});var c=P(6895),U=P(4650);class j extends c.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class pe extends j{static makeCurrent(){(0,c.HT)(new pe)}onAndCancel(de,he,st){return de.addEventListener(he,st,!1),()=>{de.removeEventListener(he,st,!1)}}dispatchEvent(de,he){de.dispatchEvent(he)}remove(de){de.parentNode&&de.parentNode.removeChild(de)}createElement(de,he){return(he=he||this.getDefaultDocument()).createElement(de)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(de){return de.nodeType===Node.ELEMENT_NODE}isShadowRoot(de){return de instanceof DocumentFragment}getGlobalEventTarget(de,he){return"window"===he?window:"document"===he?de:"body"===he?de.body:null}getBaseHref(de){const he=function Te(){return m=m||document.querySelector("base"),m?m.getAttribute("href"):null}();return null==he?null:function Pe(fe){ke=ke||document.createElement("a"),ke.setAttribute("href",fe);const de=ke.pathname;return"/"===de.charAt(0)?de:`/${de}`}(he)}resetBaseElement(){m=null}getUserAgent(){return window.navigator.userAgent}getCookie(de){return(0,c.Mx)(document.cookie,de)}}let ke,m=null;const Ae=new U.OlP("TRANSITION_ID"),Q=[{provide:U.ip1,useFactory:function q(fe,de,he){return()=>{he.get(U.CZH).donePromise.then(()=>{const st=(0,c.q)(),dt=de.querySelectorAll(`style[ng-transition="${fe}"]`);for(let on=0;on<dt.length;on++)st.remove(dt[on])})}},deps:[Ae,c.K0,U.zs3],multi:!0}];let tt=(()=>{class fe{build(){return new XMLHttpRequest}}return fe.\u0275fac=function(he){return new(he||fe)},fe.\u0275prov=U.Yz7({token:fe,factory:fe.\u0275fac}),fe})();const Qe=new U.OlP("EventManagerPlugins");let ze=(()=>{class fe{constructor(he,st){this._zone=st,this._eventNameToPlugin=new Map,he.forEach(dt=>dt.manager=this),this._plugins=he.slice().reverse()}addEventListener(he,st,dt){return this._findPluginFor(st).addEventListener(he,st,dt)}addGlobalEventListener(he,st,dt){return this._findPluginFor(st).addGlobalEventListener(he,st,dt)}getZone(){return this._zone}_findPluginFor(he){const st=this._eventNameToPlugin.get(he);if(st)return st;const dt=this._plugins;for(let on=0;on<dt.length;on++){const zn=dt[on];if(zn.supports(he))return this._eventNameToPlugin.set(he,zn),zn}throw new Error(`No event manager plugin found for event ${he}`)}}return fe.\u0275fac=function(he){return new(he||fe)(U.LFG(Qe),U.LFG(U.R0b))},fe.\u0275prov=U.Yz7({token:fe,factory:fe.\u0275fac}),fe})();class Pt{constructor(de){this._doc=de}addGlobalEventListener(de,he,st){const dt=(0,c.q)().getGlobalEventTarget(this._doc,de);if(!dt)throw new Error(`Unsupported event target ${dt} for event ${he}`);return this.addEventListener(dt,he,st)}}let We=(()=>{class fe{constructor(){this._stylesSet=new Set}addStyles(he){const st=new Set;he.forEach(dt=>{this._stylesSet.has(dt)||(this._stylesSet.add(dt),st.add(dt))}),this.onStylesAdded(st)}onStylesAdded(he){}getAllStyles(){return Array.from(this._stylesSet)}}return fe.\u0275fac=function(he){return new(he||fe)},fe.\u0275prov=U.Yz7({token:fe,factory:fe.\u0275fac}),fe})(),Ge=(()=>{class fe extends We{constructor(he){super(),this._doc=he,this._hostNodes=new Map,this._hostNodes.set(he.head,[])}_addStylesToHost(he,st,dt){he.forEach(on=>{const zn=this._doc.createElement("style");zn.textContent=on,dt.push(st.appendChild(zn))})}addHost(he){const st=[];this._addStylesToHost(this._stylesSet,he,st),this._hostNodes.set(he,st)}removeHost(he){const st=this._hostNodes.get(he);st&&st.forEach(Tt),this._hostNodes.delete(he)}onStylesAdded(he){this._hostNodes.forEach((st,dt)=>{this._addStylesToHost(he,dt,st)})}ngOnDestroy(){this._hostNodes.forEach(he=>he.forEach(Tt))}}return fe.\u0275fac=function(he){return new(he||fe)(U.LFG(c.K0))},fe.\u0275prov=U.Yz7({token:fe,factory:fe.\u0275fac}),fe})();function Tt(fe){(0,c.q)().remove(fe)}const Bt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ge=/%COMP%/g;function _e(fe,de,he){for(let st=0;st<de.length;st++){let dt=de[st];Array.isArray(dt)?_e(fe,dt,he):(dt=dt.replace(ge,fe),he.push(dt))}return he}function Ve(fe){return de=>{if("__ngUnwrap__"===de)return fe;!1===fe(de)&&(de.preventDefault(),de.returnValue=!1)}}let $e=(()=>{class fe{constructor(he,st,dt){this.eventManager=he,this.sharedStylesHost=st,this.appId=dt,this.rendererByCompId=new Map,this.defaultRenderer=new Ft(he)}createRenderer(he,st){if(!he||!st)return this.defaultRenderer;switch(st.encapsulation){case U.ifc.Emulated:{let dt=this.rendererByCompId.get(st.id);return dt||(dt=new un(this.eventManager,this.sharedStylesHost,st,this.appId),this.rendererByCompId.set(st.id,dt)),dt.applyToHost(he),dt}case 1:case U.ifc.ShadowDom:return new Ot(this.eventManager,this.sharedStylesHost,he,st);default:if(!this.rendererByCompId.has(st.id)){const dt=_e(st.id,st.styles,[]);this.sharedStylesHost.addStyles(dt),this.rendererByCompId.set(st.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return fe.\u0275fac=function(he){return new(he||fe)(U.LFG(ze),U.LFG(Ge),U.LFG(U.AFp))},fe.\u0275prov=U.Yz7({token:fe,factory:fe.\u0275fac}),fe})();class Ft{constructor(de){this.eventManager=de,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(de,he){return he?document.createElementNS(Bt[he]||he,de):document.createElement(de)}createComment(de){return document.createComment(de)}createText(de){return document.createTextNode(de)}appendChild(de,he){(nn(de)?de.content:de).appendChild(he)}insertBefore(de,he,st){de&&(nn(de)?de.content:de).insertBefore(he,st)}removeChild(de,he){de&&de.removeChild(he)}selectRootElement(de,he){let st="string"==typeof de?document.querySelector(de):de;if(!st)throw new Error(`The selector "${de}" did not match any elements`);return he||(st.textContent=""),st}parentNode(de){return de.parentNode}nextSibling(de){return de.nextSibling}setAttribute(de,he,st,dt){if(dt){he=dt+":"+he;const on=Bt[dt];on?de.setAttributeNS(on,he,st):de.setAttribute(he,st)}else de.setAttribute(he,st)}removeAttribute(de,he,st){if(st){const dt=Bt[st];dt?de.removeAttributeNS(dt,he):de.removeAttribute(`${st}:${he}`)}else de.removeAttribute(he)}addClass(de,he){de.classList.add(he)}removeClass(de,he){de.classList.remove(he)}setStyle(de,he,st,dt){dt&(U.JOm.DashCase|U.JOm.Important)?de.style.setProperty(he,st,dt&U.JOm.Important?"important":""):de.style[he]=st}removeStyle(de,he,st){st&U.JOm.DashCase?de.style.removeProperty(he):de.style[he]=""}setProperty(de,he,st){de[he]=st}setValue(de,he){de.nodeValue=he}listen(de,he,st){return"string"==typeof de?this.eventManager.addGlobalEventListener(de,he,Ve(st)):this.eventManager.addEventListener(de,he,Ve(st))}}function nn(fe){return"TEMPLATE"===fe.tagName&&void 0!==fe.content}class un extends Ft{constructor(de,he,st,dt){super(de),this.component=st;const on=_e(dt+"-"+st.id,st.styles,[]);he.addStyles(on),this.contentAttr=function Ye(fe){return"_ngcontent-%COMP%".replace(ge,fe)}(dt+"-"+st.id),this.hostAttr=function rt(fe){return"_nghost-%COMP%".replace(ge,fe)}(dt+"-"+st.id)}applyToHost(de){super.setAttribute(de,this.hostAttr,"")}createElement(de,he){const st=super.createElement(de,he);return super.setAttribute(st,this.contentAttr,""),st}}class Ot extends Ft{constructor(de,he,st,dt){super(de),this.sharedStylesHost=he,this.hostEl=st,this.shadowRoot=st.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const on=_e(dt.id,dt.styles,[]);for(let zn=0;zn<on.length;zn++){const An=document.createElement("style");An.textContent=on[zn],this.shadowRoot.appendChild(An)}}nodeOrShadowRoot(de){return de===this.hostEl?this.shadowRoot:de}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(de,he){return super.appendChild(this.nodeOrShadowRoot(de),he)}insertBefore(de,he,st){return super.insertBefore(this.nodeOrShadowRoot(de),he,st)}removeChild(de,he){return super.removeChild(this.nodeOrShadowRoot(de),he)}parentNode(de){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(de)))}}let vn=(()=>{class fe extends Pt{constructor(he){super(he)}supports(he){return!0}addEventListener(he,st,dt){return he.addEventListener(st,dt,!1),()=>this.removeEventListener(he,st,dt)}removeEventListener(he,st,dt){return he.removeEventListener(st,dt)}}return fe.\u0275fac=function(he){return new(he||fe)(U.LFG(c.K0))},fe.\u0275prov=U.Yz7({token:fe,factory:fe.\u0275fac}),fe})();const fn=["alt","control","meta","shift"],Dt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ht={alt:fe=>fe.altKey,control:fe=>fe.ctrlKey,meta:fe=>fe.metaKey,shift:fe=>fe.shiftKey};let wt=(()=>{class fe extends Pt{constructor(he){super(he)}supports(he){return null!=fe.parseEventName(he)}addEventListener(he,st,dt){const on=fe.parseEventName(st),zn=fe.eventCallback(on.fullKey,dt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,c.q)().onAndCancel(he,on.domEventName,zn))}static parseEventName(he){const st=he.toLowerCase().split("."),dt=st.shift();if(0===st.length||"keydown"!==dt&&"keyup"!==dt)return null;const on=fe._normalizeKey(st.pop());let zn="",An=st.indexOf("code");if(An>-1&&(st.splice(An,1),zn="code."),fn.forEach(Yr=>{const bn=st.indexOf(Yr);bn>-1&&(st.splice(bn,1),zn+=Yr+".")}),zn+=on,0!=st.length||0===on.length)return null;const ur={};return ur.domEventName=dt,ur.fullKey=zn,ur}static matchEventFullKeyCode(he,st){let dt=Dt[he.key]||he.key,on="";return st.indexOf("code.")>-1&&(dt=he.code,on="code."),!(null==dt||!dt)&&(dt=dt.toLowerCase()," "===dt?dt="space":"."===dt&&(dt="dot"),fn.forEach(zn=>{zn!==dt&&(0,ht[zn])(he)&&(on+=zn+".")}),on+=dt,on===st)}static eventCallback(he,st,dt){return on=>{fe.matchEventFullKeyCode(on,he)&&dt.runGuarded(()=>st(on))}}static _normalizeKey(he){return"esc"===he?"escape":he}}return fe.\u0275fac=function(he){return new(he||fe)(U.LFG(c.K0))},fe.\u0275prov=U.Yz7({token:fe,factory:fe.\u0275fac}),fe})();const br=(0,U.eFA)(U._c5,"browser",[{provide:U.Lbi,useValue:c.bD},{provide:U.g9A,useValue:function Kn(){pe.makeCurrent()},multi:!0},{provide:c.K0,useFactory:function cn(){return(0,U.RDi)(document),document},deps:[]}]),dr=new U.OlP(""),Ut=[{provide:U.rWj,useClass:class me{addToWindow(de){U.dqk.getAngularTestability=(st,dt=!0)=>{const on=de.findTestabilityInTree(st,dt);if(null==on)throw new Error("Could not find testability for element.");return on},U.dqk.getAllAngularTestabilities=()=>de.getAllTestabilities(),U.dqk.getAllAngularRootElements=()=>de.getAllRootElements(),U.dqk.frameworkStabilizers||(U.dqk.frameworkStabilizers=[]),U.dqk.frameworkStabilizers.push(st=>{const dt=U.dqk.getAllAngularTestabilities();let on=dt.length,zn=!1;const An=function(ur){zn=zn||ur,on--,0==on&&st(zn)};dt.forEach(function(ur){ur.whenStable(An)})})}findTestabilityInTree(de,he,st){return null==he?null:de.getTestability(he)??(st?(0,c.q)().isShadowRoot(he)?this.findTestabilityInTree(de,he.host,!0):this.findTestabilityInTree(de,he.parentElement,!0):null)}},deps:[]},{provide:U.lri,useClass:U.dDg,deps:[U.R0b,U.eoX,U.rWj]},{provide:U.dDg,useClass:U.dDg,deps:[U.R0b,U.eoX,U.rWj]}],or=[{provide:U.zSh,useValue:"root"},{provide:U.qLn,useFactory:function fr(){return new U.qLn},deps:[]},{provide:Qe,useClass:vn,multi:!0,deps:[c.K0,U.R0b,U.Lbi]},{provide:Qe,useClass:wt,multi:!0,deps:[c.K0]},{provide:$e,useClass:$e,deps:[ze,Ge,U.AFp]},{provide:U.FYo,useExisting:$e},{provide:We,useExisting:Ge},{provide:Ge,useClass:Ge,deps:[c.K0]},{provide:ze,useClass:ze,deps:[Qe,U.R0b]},{provide:c.JF,useClass:tt,deps:[]},[]];let Ln=(()=>{class fe{constructor(he){}static withServerTransition(he){return{ngModule:fe,providers:[{provide:U.AFp,useValue:he.appId},{provide:Ae,useExisting:U.AFp},Q]}}}return fe.\u0275fac=function(he){return new(he||fe)(U.LFG(dr,12))},fe.\u0275mod=U.oAB({type:fe}),fe.\u0275inj=U.cJS({providers:[...or,...Ut],imports:[c.ez,U.hGG]}),fe})(),Hn=(()=>{class fe{constructor(he){this._doc=he}getTitle(){return this._doc.title}setTitle(he){this._doc.title=he||""}}return fe.\u0275fac=function(he){return new(he||fe)(U.LFG(c.K0))},fe.\u0275prov=U.Yz7({token:fe,factory:function(he){let st=null;return st=he?new he:function Ar(){return new Hn((0,U.LFG)(c.K0))}(),st},providedIn:"root"}),fe})();typeof window<"u"&&window},8471:(tn,et,P)=>{P.d(et,{gz:()=>Ui,F0:()=>Gn,rH:()=>ai,Bz:()=>ca,lC:()=>cr});var c=P(4650),U=P(8996),j=P(9646),pe=P(7579);class m extends pe.x{constructor(b){super(),this._value=b}get value(){return this.getValue()}_subscribe(b){const y=super._subscribe(b);return!y.closed&&b.next(this._value),y}getValue(){const{hasError:b,thrownError:y,_value:A}=this;if(b)throw y;return this._throwIfClosed(),A}next(b){super.next(this._value=b)}}var Te=P(6805),ke=P(9751),Pe=P(4742),Ae=P(4671),q=P(3268),Q=P(7669),me=P(1810),tt=P(5403),Qe=P(9672);function ze(...w){const b=(0,Q.yG)(w),y=(0,Q.jO)(w),{args:A,keys:F}=(0,Pe.D)(w);if(0===A.length)return(0,U.D)([],b);const X=new ke.y(function Pt(w,b,y=Ae.y){return A=>{We(b,()=>{const{length:F}=w,X=new Array(F);let Ee=F,Ie=F;for(let At=0;At<F;At++)We(b,()=>{const an=(0,U.D)(w[At],b);let Un=!1;an.subscribe((0,tt.x)(A,Tn=>{X[At]=Tn,Un||(Un=!0,Ie--),Ie||A.next(y(X.slice()))},()=>{--Ee||A.complete()}))},A)},A)}}(A,b,F?Ee=>(0,me.n)(F,Ee):Ae.y));return y?X.pipe((0,q.Z)(y)):X}function We(w,b,y){w?(0,Qe.f)(y,w,b):b()}var Ge=P(7272),Tt=P(8421);function Bt(w){return new ke.y(b=>{(0,Tt.Xf)(w()).subscribe(b)})}var ge=P(9635),He=P(576);function ot(w,b){const y=(0,He.m)(w)?w:()=>w,A=F=>F.error(y());return new ke.y(b?F=>b.schedule(A,0,F):A)}var _t=P(515),Re=P(727),Ye=P(4482);function rt(){return(0,Ye.e)((w,b)=>{let y=null;w._refCount++;const A=(0,tt.x)(b,void 0,void 0,void 0,()=>{if(!w||w._refCount<=0||0<--w._refCount)return void(y=null);const F=w._connection,X=y;y=null,F&&(!X||F===X)&&F.unsubscribe(),b.unsubscribe()});w.subscribe(A),A.closed||(y=w.connect())})}class _e extends ke.y{constructor(b,y){super(),this.source=b,this.subjectFactory=y,this._subject=null,this._refCount=0,this._connection=null,(0,Ye.A)(b)&&(this.lift=b.lift)}_subscribe(b){return this.getSubject().subscribe(b)}getSubject(){const b=this._subject;return(!b||b.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:b}=this;this._subject=this._connection=null,b?.unsubscribe()}connect(){let b=this._connection;if(!b){b=this._connection=new Re.w0;const y=this.getSubject();b.add(this.source.subscribe((0,tt.x)(y,void 0,()=>{this._teardown(),y.complete()},A=>{this._teardown(),y.error(A)},()=>this._teardown()))),b.closed&&(this._connection=null,b=Re.w0.EMPTY)}return b}refCount(){return rt()(this)}}var Ve=P(6895),xe=P(4004),$e=P(3900),Ft=P(5698),jt=P(8675),Kt=P(9300),nn=P(5577),un=P(590),Ot=P(4351),vn=P(8505),fn=P(262),Dt=P(5026);function ht(w){return w<=0?()=>_t.E:(0,Ye.e)((b,y)=>{let A=[];b.subscribe((0,tt.x)(y,F=>{A.push(F),w<A.length&&A.shift()},()=>{for(const F of A)y.next(F);y.complete()},void 0,()=>{A=null}))})}var wt=P(8068),Xt=P(6590);function Fn(w,b){const y=arguments.length>=2;return A=>A.pipe(w?(0,Kt.h)((F,X)=>w(F,X,A)):Ae.y,ht(1),y?(0,Xt.d)(b):(0,wt.T)(()=>new Te.K))}function nr(w){return(0,Ye.e)((b,y)=>{try{b.subscribe(y)}finally{y.add(w)}})}var Kn=P(8189),fr=P(1481);const cn="primary",rr=Symbol("RouteTitle");class br{constructor(b){this.params=b||{}}has(b){return Object.prototype.hasOwnProperty.call(this.params,b)}get(b){if(this.has(b)){const y=this.params[b];return Array.isArray(y)?y[0]:y}return null}getAll(b){if(this.has(b)){const y=this.params[b];return Array.isArray(y)?y:[y]}return[]}get keys(){return Object.keys(this.params)}}function dr(w){return new br(w)}function Ut(w,b,y){const A=y.path.split("/");if(A.length>w.length||"full"===y.pathMatch&&(b.hasChildren()||A.length<w.length))return null;const F={};for(let X=0;X<A.length;X++){const Ee=A[X],Ie=w[X];if(Ee.startsWith(":"))F[Ee.substring(1)]=Ie;else if(Ee!==Ie.path)return null}return{consumed:w.slice(0,A.length),posParams:F}}function Ln(w,b){const y=w?Object.keys(w):void 0,A=b?Object.keys(b):void 0;if(!y||!A||y.length!=A.length)return!1;let F;for(let X=0;X<y.length;X++)if(F=y[X],!jn(w[F],b[F]))return!1;return!0}function jn(w,b){if(Array.isArray(w)&&Array.isArray(b)){if(w.length!==b.length)return!1;const y=[...w].sort(),A=[...b].sort();return y.every((F,X)=>A[X]===F)}return w===b}function pr(w){return Array.prototype.concat.apply([],w)}function Pi(w){return w.length>0?w[w.length-1]:null}function Hn(w,b){for(const y in w)w.hasOwnProperty(y)&&b(w[y],y)}function qn(w){return(0,c.CqO)(w)?w:(0,c.QGY)(w)?(0,U.D)(Promise.resolve(w)):(0,j.of)(w)}const Rn={exact:function yt(w,b,y){if(!ve(w.segments,b.segments)||!ln(w.segments,b.segments,y)||w.numberOfChildren!==b.numberOfChildren)return!1;for(const A in b.children)if(!w.children[A]||!yt(w.children[A],b.children[A],y))return!1;return!0},subset:Qt},Et={exact:function Ue(w,b){return Ln(w,b)},subset:function St(w,b){return Object.keys(b).length<=Object.keys(w).length&&Object.keys(b).every(y=>jn(w[y],b[y]))},ignored:()=>!0};function Se(w,b,y){return Rn[y.paths](w.root,b.root,y.matrixParams)&&Et[y.queryParams](w.queryParams,b.queryParams)&&!("exact"===y.fragment&&w.fragment!==b.fragment)}function Qt(w,b,y){return Xn(w,b,b.segments,y)}function Xn(w,b,y,A){if(w.segments.length>y.length){const F=w.segments.slice(0,y.length);return!(!ve(F,y)||b.hasChildren()||!ln(F,y,A))}if(w.segments.length===y.length){if(!ve(w.segments,y)||!ln(w.segments,y,A))return!1;for(const F in b.children)if(!w.children[F]||!Qt(w.children[F],b.children[F],A))return!1;return!0}{const F=y.slice(0,w.segments.length),X=y.slice(w.segments.length);return!!(ve(w.segments,F)&&ln(w.segments,F,A)&&w.children[cn])&&Xn(w.children[cn],b,X,A)}}function ln(w,b,y){return b.every((A,F)=>Et[y](w[F].parameters,A.parameters))}class Sn{constructor(b,y,A){this.root=b,this.queryParams=y,this.fragment=A}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=dr(this.queryParams)),this._queryParamMap}toString(){return De.serialize(this)}}class we{constructor(b,y){this.segments=b,this.children=y,this.parent=null,Hn(y,(A,F)=>A.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ce(this)}}class lt{constructor(b,y){this.path=b,this.parameters=y}get parameterMap(){return this._parameterMap||(this._parameterMap=dr(this.parameters)),this._parameterMap}toString(){return sn(this)}}function ve(w,b){return w.length===b.length&&w.every((y,A)=>y.path===b[A].path)}let It=(()=>{class w{}return w.\u0275fac=function(y){return new(y||w)},w.\u0275prov=c.Yz7({token:w,factory:function(){return new pn},providedIn:"root"}),w})();class pn{parse(b){const y=new ur(b);return new Sn(y.parseRootSegment(),y.parseQueryParams(),y.parseFragment())}serialize(b){const y=`/${Oe(b.root,!0)}`,A=function de(w){const b=Object.keys(w).map(y=>{const A=w[y];return Array.isArray(A)?A.map(F=>`${Z(y)}=${Z(F)}`).join("&"):`${Z(y)}=${Z(A)}`}).filter(y=>!!y);return b.length?`?${b.join("&")}`:""}(b.queryParams);return`${y}${A}${"string"==typeof b.fragment?`#${function ie(w){return encodeURI(w)}(b.fragment)}`:""}`}}const De=new pn;function ce(w){return w.segments.map(b=>sn(b)).join("/")}function Oe(w,b){if(!w.hasChildren())return ce(w);if(b){const y=w.children[cn]?Oe(w.children[cn],!1):"",A=[];return Hn(w.children,(F,X)=>{X!==cn&&A.push(`${X}:${Oe(F,!1)}`)}),A.length>0?`${y}(${A.join("//")})`:y}{const y=function ut(w,b){let y=[];return Hn(w.children,(A,F)=>{F===cn&&(y=y.concat(b(A,F)))}),Hn(w.children,(A,F)=>{F!==cn&&(y=y.concat(b(A,F)))}),y}(w,(A,F)=>F===cn?[Oe(w.children[cn],!1)]:[`${F}:${Oe(A,!1)}`]);return 1===Object.keys(w.children).length&&null!=w.children[cn]?`${ce(w)}/${y[0]}`:`${ce(w)}/(${y.join("//")})`}}function ue(w){return encodeURIComponent(w).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Z(w){return ue(w).replace(/%3B/gi,";")}function Be(w){return ue(w).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function xt(w){return decodeURIComponent(w)}function rn(w){return xt(w.replace(/\+/g,"%20"))}function sn(w){return`${Be(w.path)}${function fe(w){return Object.keys(w).map(b=>`;${Be(b)}=${Be(w[b])}`).join("")}(w.parameters)}`}const he=/^[^\/()?;=#]+/;function st(w){const b=w.match(he);return b?b[0]:""}const dt=/^[^=?&#]+/,zn=/^[^&#]+/;class ur{constructor(b){this.url=b,this.remaining=b}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new we([],{}):new we([],this.parseChildren())}parseQueryParams(){const b={};if(this.consumeOptional("?"))do{this.parseQueryParam(b)}while(this.consumeOptional("&"));return b}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const b=[];for(this.peekStartsWith("(")||b.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),b.push(this.parseSegment());let y={};this.peekStartsWith("/(")&&(this.capture("/"),y=this.parseParens(!0));let A={};return this.peekStartsWith("(")&&(A=this.parseParens(!1)),(b.length>0||Object.keys(y).length>0)&&(A[cn]=new we(b,y)),A}parseSegment(){const b=st(this.remaining);if(""===b&&this.peekStartsWith(";"))throw new c.vHH(4009,!1);return this.capture(b),new lt(xt(b),this.parseMatrixParams())}parseMatrixParams(){const b={};for(;this.consumeOptional(";");)this.parseParam(b);return b}parseParam(b){const y=st(this.remaining);if(!y)return;this.capture(y);let A="";if(this.consumeOptional("=")){const F=st(this.remaining);F&&(A=F,this.capture(A))}b[xt(y)]=xt(A)}parseQueryParam(b){const y=function on(w){const b=w.match(dt);return b?b[0]:""}(this.remaining);if(!y)return;this.capture(y);let A="";if(this.consumeOptional("=")){const Ee=function An(w){const b=w.match(zn);return b?b[0]:""}(this.remaining);Ee&&(A=Ee,this.capture(A))}const F=rn(y),X=rn(A);if(b.hasOwnProperty(F)){let Ee=b[F];Array.isArray(Ee)||(Ee=[Ee],b[F]=Ee),Ee.push(X)}else b[F]=X}parseParens(b){const y={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const A=st(this.remaining),F=this.remaining[A.length];if("/"!==F&&")"!==F&&";"!==F)throw new c.vHH(4010,!1);let X;A.indexOf(":")>-1?(X=A.slice(0,A.indexOf(":")),this.capture(X),this.capture(":")):b&&(X=cn);const Ee=this.parseChildren();y[X]=1===Object.keys(Ee).length?Ee[cn]:new we([],Ee),this.consumeOptional("//")}return y}peekStartsWith(b){return this.remaining.startsWith(b)}consumeOptional(b){return!!this.peekStartsWith(b)&&(this.remaining=this.remaining.substring(b.length),!0)}capture(b){if(!this.consumeOptional(b))throw new c.vHH(4011,!1)}}function Yr(w){return w.segments.length>0?new we([],{[cn]:w}):w}function bn(w){const b={};for(const A of Object.keys(w.children)){const X=bn(w.children[A]);(X.segments.length>0||X.hasChildren())&&(b[A]=X)}return function Zi(w){if(1===w.numberOfChildren&&w.children[cn]){const b=w.children[cn];return new we(w.segments.concat(b.segments),b.children)}return w}(new we(w.segments,b))}function yi(w){return w instanceof Sn}function gr(w,b,y,A,F){if(0===y.length)return Oi(b.root,b.root,b.root,A,F);const X=function Wi(w){if("string"==typeof w[0]&&1===w.length&&"/"===w[0])return new Fs(!0,0,w);let b=0,y=!1;const A=w.reduce((F,X,Ee)=>{if("object"==typeof X&&null!=X){if(X.outlets){const Ie={};return Hn(X.outlets,(At,an)=>{Ie[an]="string"==typeof At?At.split("/"):At}),[...F,{outlets:Ie}]}if(X.segmentPath)return[...F,X.segmentPath]}return"string"!=typeof X?[...F,X]:0===Ee?(X.split("/").forEach((Ie,At)=>{0==At&&"."===Ie||(0==At&&""===Ie?y=!0:".."===Ie?b++:""!=Ie&&F.push(Ie))}),F):[...F,X]},[]);return new Fs(y,b,A)}(y);return X.toRoot()?Oi(b.root,b.root,new we([],{}),A,F):function Ee(At){const an=function ms(w,b,y,A){if(w.isAbsolute)return new ii(b.root,!0,0);if(-1===A)return new ii(y,y===b.root,0);return function Je(w,b,y){let A=w,F=b,X=y;for(;X>F;){if(X-=F,A=A.parent,!A)throw new c.vHH(4005,!1);F=A.segments.length}return new ii(A,!1,F-X)}(y,A+(ti(w.commands[0])?0:1),w.numberOfDoubleDots)}(X,b,w.snapshot?._urlSegment,At),Un=an.processChildren?Mt(an.segmentGroup,an.index,X.commands):it(an.segmentGroup,an.index,X.commands);return Oi(b.root,an.segmentGroup,Un,A,F)}(w.snapshot?._lastPathIndex)}function ti(w){return"object"==typeof w&&null!=w&&!w.outlets&&!w.segmentPath}function qr(w){return"object"==typeof w&&null!=w&&w.outlets}function Oi(w,b,y,A,F){let Ee,X={};A&&Hn(A,(At,an)=>{X[an]=Array.isArray(At)?At.map(Un=>`${Un}`):`${At}`}),Ee=w===b?y:Ir(w,b,y);const Ie=Yr(bn(Ee));return new Sn(Ie,X,F)}function Ir(w,b,y){const A={};return Hn(w.children,(F,X)=>{A[X]=F===b?y:Ir(F,b,y)}),new we(w.segments,A)}class Fs{constructor(b,y,A){if(this.isAbsolute=b,this.numberOfDoubleDots=y,this.commands=A,b&&A.length>0&&ti(A[0]))throw new c.vHH(4003,!1);const F=A.find(qr);if(F&&F!==Pi(A))throw new c.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ii{constructor(b,y,A){this.segmentGroup=b,this.processChildren=y,this.index=A}}function it(w,b,y){if(w||(w=new we([],{})),0===w.segments.length&&w.hasChildren())return Mt(w,b,y);const A=function Vt(w,b,y){let A=0,F=b;const X={match:!1,pathIndex:0,commandIndex:0};for(;F<w.segments.length;){if(A>=y.length)return X;const Ee=w.segments[F],Ie=y[A];if(qr(Ie))break;const At=`${Ie}`,an=A<y.length-1?y[A+1]:null;if(F>0&&void 0===At)break;if(At&&an&&"object"==typeof an&&void 0===an.outlets){if(!Mr(At,an,Ee))return X;A+=2}else{if(!Mr(At,{},Ee))return X;A++}F++}return{match:!0,pathIndex:F,commandIndex:A}}(w,b,y),F=y.slice(A.commandIndex);if(A.match&&A.pathIndex<w.segments.length){const X=new we(w.segments.slice(0,A.pathIndex),{});return X.children[cn]=new we(w.segments.slice(A.pathIndex),w.children),Mt(X,0,F)}return A.match&&0===F.length?new we(w.segments,{}):A.match&&!w.hasChildren()?dn(w,b,y):A.match?Mt(w,0,F):dn(w,b,y)}function Mt(w,b,y){if(0===y.length)return new we(w.segments,{});{const A=function Ke(w){return qr(w[0])?w[0].outlets:{[cn]:w}}(y),F={};return Hn(A,(X,Ee)=>{"string"==typeof X&&(X=[X]),null!==X&&(F[Ee]=it(w.children[Ee],b,X))}),Hn(w.children,(X,Ee)=>{void 0===A[Ee]&&(F[Ee]=X)}),new we(w.segments,F)}}function dn(w,b,y){const A=w.segments.slice(0,b);let F=0;for(;F<y.length;){const X=y[F];if(qr(X)){const At=lr(X.outlets);return new we(A,At)}if(0===F&&ti(y[0])){A.push(new lt(w.segments[b].path,Fr(y[0]))),F++;continue}const Ee=qr(X)?X.outlets[cn]:`${X}`,Ie=F<y.length-1?y[F+1]:null;Ee&&Ie&&ti(Ie)?(A.push(new lt(Ee,Fr(Ie))),F+=2):(A.push(new lt(Ee,{})),F++)}return new we(A,{})}function lr(w){const b={};return Hn(w,(y,A)=>{"string"==typeof y&&(y=[y]),null!==y&&(b[A]=dn(new we([],{}),0,y))}),b}function Fr(w){const b={};return Hn(w,(y,A)=>b[A]=`${y}`),b}function Mr(w,b,y){return w==y.path&&Ln(b,y.parameters)}class Vr{constructor(b,y){this.id=b,this.url=y}}class Ni extends Vr{constructor(b,y,A="imperative",F=null){super(b,y),this.type=0,this.navigationTrigger=A,this.restoredState=F}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ji extends Vr{constructor(b,y,A){super(b,y),this.urlAfterRedirects=A,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class os extends Vr{constructor(b,y,A,F){super(b,y),this.reason=A,this.code=F,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Xi extends Vr{constructor(b,y,A,F){super(b,y),this.error=A,this.target=F,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ts extends Vr{constructor(b,y,A,F){super(b,y),this.urlAfterRedirects=A,this.state=F,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Li extends Vr{constructor(b,y,A,F){super(b,y),this.urlAfterRedirects=A,this.state=F,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ei extends Vr{constructor(b,y,A,F,X){super(b,y),this.urlAfterRedirects=A,this.state=F,this.shouldActivate=X,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class as extends Vr{constructor(b,y,A,F){super(b,y),this.urlAfterRedirects=A,this.state=F,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oo extends Vr{constructor(b,y,A,F){super(b,y),this.urlAfterRedirects=A,this.state=F,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ys{constructor(b){this.route=b,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ao{constructor(b){this.route=b,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class $s{constructor(b){this.snapshot=b,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ss{constructor(b){this.snapshot=b,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ro{constructor(b){this.snapshot=b,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mo{constructor(b){this.snapshot=b,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yo{constructor(b,y,A){this.routerEvent=b,this.position=y,this.anchor=A,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class us{constructor(b){this._root=b}get root(){return this._root.value}parent(b){const y=this.pathFromRoot(b);return y.length>1?y[y.length-2]:null}children(b){const y=ls(b,this._root);return y?y.children.map(A=>A.value):[]}firstChild(b){const y=ls(b,this._root);return y&&y.children.length>0?y.children[0].value:null}siblings(b){const y=cs(b,this._root);return y.length<2?[]:y[y.length-2].children.map(F=>F.value).filter(F=>F!==b)}pathFromRoot(b){return cs(b,this._root).map(y=>y.value)}}function ls(w,b){if(w===b.value)return b;for(const y of b.children){const A=ls(w,y);if(A)return A}return null}function cs(w,b){if(w===b.value)return[b];for(const y of b.children){const A=cs(w,y);if(A.length)return A.unshift(b),A}return[]}class wi{constructor(b,y){this.value=b,this.children=y}toString(){return`TreeNode(${this.value})`}}function Qs(w){const b={};return w&&w.children.forEach(y=>b[y.value.outlet]=y),b}class Gs extends us{constructor(b,y){super(b),this.snapshot=y,vs(this,b)}toString(){return this.snapshot.toString()}}function di(w,b){const y=function ys(w,b){const Ee=new zs([],{},{},"",{},cn,b,null,w.root,-1,{});return new _s("",new wi(Ee,[]))}(w,b),A=new m([new lt("",{})]),F=new m({}),X=new m({}),Ee=new m({}),Ie=new m(""),At=new Ui(A,F,Ee,Ie,X,cn,b,y.root);return At.snapshot=y.root,new Gs(new wi(At,[]),y)}class Ui{constructor(b,y,A,F,X,Ee,Ie,At){this.url=b,this.params=y,this.queryParams=A,this.fragment=F,this.data=X,this.outlet=Ee,this.component=Ie,this.title=this.data?.pipe((0,xe.U)(an=>an[rr]))??(0,j.of)(void 0),this._futureSnapshot=At}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,xe.U)(b=>dr(b)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,xe.U)(b=>dr(b)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function lo(w,b="emptyOnly"){const y=w.pathFromRoot;let A=0;if("always"!==b)for(A=y.length-1;A>=1;){const F=y[A],X=y[A-1];if(F.routeConfig&&""===F.routeConfig.path)A--;else{if(X.component)break;A--}}return function Js(w){return w.reduce((b,y)=>({params:{...b.params,...y.params},data:{...b.data,...y.data},resolve:{...y.data,...b.resolve,...y.routeConfig?.data,...y._resolvedData}}),{params:{},data:{},resolve:{}})}(y.slice(A))}class zs{constructor(b,y,A,F,X,Ee,Ie,At,an,Un,Tn,Or){this.url=b,this.params=y,this.queryParams=A,this.fragment=F,this.data=X,this.outlet=Ee,this.component=Ie,this.title=this.data?.[rr],this.routeConfig=At,this._urlSegment=an,this._lastPathIndex=Un,this._correctedLastPathIndex=Or??Un,this._resolve=Tn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=dr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=dr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(A=>A.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class _s extends us{constructor(b,y){super(y),this.url=b,vs(this,y)}toString(){return As(this._root)}}function vs(w,b){b.value._routerState=w,b.children.forEach(y=>vs(w,y))}function As(w){const b=w.children.length>0?` { ${w.children.map(As).join(", ")} } `:"";return`${w.value}${b}`}function ki(w){if(w.snapshot){const b=w.snapshot,y=w._futureSnapshot;w.snapshot=y,Ln(b.queryParams,y.queryParams)||w.queryParams.next(y.queryParams),b.fragment!==y.fragment&&w.fragment.next(y.fragment),Ln(b.params,y.params)||w.params.next(y.params),function or(w,b){if(w.length!==b.length)return!1;for(let y=0;y<w.length;++y)if(!Ln(w[y],b[y]))return!1;return!0}(b.url,y.url)||w.url.next(y.url),Ln(b.data,y.data)||w.data.next(y.data)}else w.snapshot=w._futureSnapshot,w.data.next(w._futureSnapshot.data)}function bi(w,b){const y=Ln(w.params,b.params)&&function le(w,b){return ve(w,b)&&w.every((y,A)=>Ln(y.parameters,b[A].parameters))}(w.url,b.url);return y&&!(!w.parent!=!b.parent)&&(!w.parent||bi(w.parent,b.parent))}function es(w,b,y){if(y&&w.shouldReuseRoute(b.value,y.value.snapshot)){const A=y.value;A._futureSnapshot=b.value;const F=function Y(w,b,y){return b.children.map(A=>{for(const F of y.children)if(w.shouldReuseRoute(A.value,F.value.snapshot))return es(w,A,F);return es(w,A)})}(w,b,y);return new wi(A,F)}{if(w.shouldAttach(b.value)){const X=w.retrieve(b.value);if(null!==X){const Ee=X.route;return Ee.value._futureSnapshot=b.value,Ee.children=b.children.map(Ie=>es(w,Ie)),Ee}}const A=function W(w){return new Ui(new m(w.url),new m(w.params),new m(w.queryParams),new m(w.fragment),new m(w.data),w.outlet,w.component,w)}(b.value),F=b.children.map(X=>es(w,X));return new wi(A,F)}}const be="ngNavigationCancelingError";function Fe(w,b){const{redirectTo:y,navigationBehaviorOptions:A}=yi(b)?{redirectTo:b,navigationBehaviorOptions:void 0}:b,F=Ze(!1,0,b);return F.url=y,F.navigationBehaviorOptions=A,F}function Ze(w,b,y){const A=new Error("NavigationCancelingError: "+(w||""));return A[be]=!0,A.cancellationCode=b,y&&(A.url=y),A}function Ct(w){return en(w)&&yi(w.url)}function en(w){return w&&w[be]}class In{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new hn,this.attachRef=null}}let hn=(()=>{class w{constructor(){this.contexts=new Map}onChildOutletCreated(y,A){const F=this.getOrCreateContext(y);F.outlet=A,this.contexts.set(y,F)}onChildOutletDestroyed(y){const A=this.getContext(y);A&&(A.outlet=null,A.attachRef=null)}onOutletDeactivated(){const y=this.contexts;return this.contexts=new Map,y}onOutletReAttached(y){this.contexts=y}getOrCreateContext(y){let A=this.getContext(y);return A||(A=new In,this.contexts.set(y,A)),A}getContext(y){return this.contexts.get(y)||null}}return w.\u0275fac=function(y){return new(y||w)},w.\u0275prov=c.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();const _n=!1;let cr=(()=>{class w{constructor(y,A,F,X,Ee){this.parentContexts=y,this.location=A,this.changeDetector=X,this.environmentInjector=Ee,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=F||cn,y.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const y=this.parentContexts.getContext(this.name);y&&y.route&&(y.attachRef?this.attach(y.attachRef,y.route):this.activateWith(y.route,y.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,_n);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,_n);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,_n);this.location.detach();const y=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(y.instance),y}attach(y,A){this.activated=y,this._activatedRoute=A,this.location.insert(y.hostView),this.attachEvents.emit(y.instance)}deactivate(){if(this.activated){const y=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(y)}}activateWith(y,A){if(this.isActivated)throw new c.vHH(4013,_n);this._activatedRoute=y;const F=this.location,Ee=y._futureSnapshot.component,Ie=this.parentContexts.getOrCreateContext(this.name).children,At=new Dr(y,Ie,F.injector);if(A&&function $n(w){return!!w.resolveComponentFactory}(A)){const an=A.resolveComponentFactory(Ee);this.activated=F.createComponent(an,F.length,At)}else this.activated=F.createComponent(Ee,{index:F.length,injector:At,environmentInjector:A??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return w.\u0275fac=function(y){return new(y||w)(c.Y36(hn),c.Y36(c.s_b),c.$8M("name"),c.Y36(c.sBO),c.Y36(c.lqb))},w.\u0275dir=c.lG2({type:w,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),w})();class Dr{constructor(b,y,A){this.route=b,this.childContexts=y,this.parent=A}get(b,y){return b===Ui?this.route:b===hn?this.childContexts:this.parent.get(b,y)}}let si=(()=>{class w{}return w.\u0275fac=function(y){return new(y||w)},w.\u0275cmp=c.Xpm({type:w,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(y,A){1&y&&c._UZ(0,"router-outlet")},dependencies:[cr],encapsulation:2}),w})();function $r(w,b){return w.providers&&!w._injector&&(w._injector=(0,c.MMx)(w.providers,b,`Route: ${w.path}`)),w._injector??b}function Ls(w){const b=w.children&&w.children.map(Ls),y=b?{...w,children:b}:{...w};return!y.component&&!y.loadComponent&&(b||y.loadChildren)&&y.outlet&&y.outlet!==cn&&(y.component=si),y}function Kr(w){return w.outlet||cn}function ws(w,b){const y=w.filter(A=>Kr(A)===b);return y.push(...w.filter(A=>Kr(A)!==b)),y}function Fi(w){if(!w)return null;if(w.routeConfig?._injector)return w.routeConfig._injector;for(let b=w.parent;b;b=b.parent){const y=b.routeConfig;if(y?._loadedInjector)return y._loadedInjector;if(y?._injector)return y._injector}return null}class Gt{constructor(b,y,A,F){this.routeReuseStrategy=b,this.futureState=y,this.currState=A,this.forwardEvent=F}activate(b){const y=this.futureState._root,A=this.currState?this.currState._root:null;this.deactivateChildRoutes(y,A,b),ki(this.futureState.root),this.activateChildRoutes(y,A,b)}deactivateChildRoutes(b,y,A){const F=Qs(y);b.children.forEach(X=>{const Ee=X.value.outlet;this.deactivateRoutes(X,F[Ee],A),delete F[Ee]}),Hn(F,(X,Ee)=>{this.deactivateRouteAndItsChildren(X,A)})}deactivateRoutes(b,y,A){const F=b.value,X=y?y.value:null;if(F===X)if(F.component){const Ee=A.getContext(F.outlet);Ee&&this.deactivateChildRoutes(b,y,Ee.children)}else this.deactivateChildRoutes(b,y,A);else X&&this.deactivateRouteAndItsChildren(y,A)}deactivateRouteAndItsChildren(b,y){b.value.component&&this.routeReuseStrategy.shouldDetach(b.value.snapshot)?this.detachAndStoreRouteSubtree(b,y):this.deactivateRouteAndOutlet(b,y)}detachAndStoreRouteSubtree(b,y){const A=y.getContext(b.value.outlet),F=A&&b.value.component?A.children:y,X=Qs(b);for(const Ee of Object.keys(X))this.deactivateRouteAndItsChildren(X[Ee],F);if(A&&A.outlet){const Ee=A.outlet.detach(),Ie=A.children.onOutletDeactivated();this.routeReuseStrategy.store(b.value.snapshot,{componentRef:Ee,route:b,contexts:Ie})}}deactivateRouteAndOutlet(b,y){const A=y.getContext(b.value.outlet),F=A&&b.value.component?A.children:y,X=Qs(b);for(const Ee of Object.keys(X))this.deactivateRouteAndItsChildren(X[Ee],F);A&&A.outlet&&(A.outlet.deactivate(),A.children.onOutletDeactivated(),A.attachRef=null,A.resolver=null,A.route=null)}activateChildRoutes(b,y,A){const F=Qs(y);b.children.forEach(X=>{this.activateRoutes(X,F[X.value.outlet],A),this.forwardEvent(new mo(X.value.snapshot))}),b.children.length&&this.forwardEvent(new Ss(b.value.snapshot))}activateRoutes(b,y,A){const F=b.value,X=y?y.value:null;if(ki(F),F===X)if(F.component){const Ee=A.getOrCreateContext(F.outlet);this.activateChildRoutes(b,y,Ee.children)}else this.activateChildRoutes(b,y,A);else if(F.component){const Ee=A.getOrCreateContext(F.outlet);if(this.routeReuseStrategy.shouldAttach(F.snapshot)){const Ie=this.routeReuseStrategy.retrieve(F.snapshot);this.routeReuseStrategy.store(F.snapshot,null),Ee.children.onOutletReAttached(Ie.contexts),Ee.attachRef=Ie.componentRef,Ee.route=Ie.route.value,Ee.outlet&&Ee.outlet.attach(Ie.componentRef,Ie.route.value),ki(Ie.route.value),this.activateChildRoutes(b,null,Ee.children)}else{const Ie=Fi(F.snapshot),At=Ie?.get(c._Vd)??null;Ee.attachRef=null,Ee.route=F,Ee.resolver=At,Ee.injector=Ie,Ee.outlet&&Ee.outlet.activateWith(F,Ee.injector),this.activateChildRoutes(b,null,Ee.children)}}else this.activateChildRoutes(b,null,A)}}class hr{constructor(b){this.path=b,this.route=this.path[this.path.length-1]}}class Po{constructor(b,y){this.component=b,this.route=y}}function eo(w,b,y){const A=w._root;return ho(A,b?b._root:null,y,[A.value])}function Us(w,b){const y=Symbol(),A=b.get(w,y);return A===y?"function"!=typeof w||(0,c.Z0I)(w)?b.get(w):w:A}function ho(w,b,y,A,F={canDeactivateChecks:[],canActivateChecks:[]}){const X=Qs(b);return w.children.forEach(Ee=>{(function Ii(w,b,y,A,F={canDeactivateChecks:[],canActivateChecks:[]}){const X=w.value,Ee=b?b.value:null,Ie=y?y.getContext(w.value.outlet):null;if(Ee&&X.routeConfig===Ee.routeConfig){const At=function Ho(w,b,y){if("function"==typeof y)return y(w,b);switch(y){case"pathParamsChange":return!ve(w.url,b.url);case"pathParamsOrQueryParamsChange":return!ve(w.url,b.url)||!Ln(w.queryParams,b.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!bi(w,b)||!Ln(w.queryParams,b.queryParams);default:return!bi(w,b)}}(Ee,X,X.routeConfig.runGuardsAndResolvers);At?F.canActivateChecks.push(new hr(A)):(X.data=Ee.data,X._resolvedData=Ee._resolvedData),ho(w,b,X.component?Ie?Ie.children:null:y,A,F),At&&Ie&&Ie.outlet&&Ie.outlet.isActivated&&F.canDeactivateChecks.push(new Po(Ie.outlet.component,Ee))}else Ee&&Zs(b,Ie,F),F.canActivateChecks.push(new hr(A)),ho(w,null,X.component?Ie?Ie.children:null:y,A,F)})(Ee,X[Ee.value.outlet],y,A.concat([Ee.value]),F),delete X[Ee.value.outlet]}),Hn(X,(Ee,Ie)=>Zs(Ee,y.getContext(Ie),F)),F}function Zs(w,b,y){const A=Qs(w),F=w.value;Hn(A,(X,Ee)=>{Zs(X,F.component?b?b.children.getContext(Ee):null:b,y)}),y.canDeactivateChecks.push(new Po(F.component&&b&&b.outlet&&b.outlet.isActivated?b.outlet.component:null,F))}function Oo(w){return"function"==typeof w}function vr(w){return w instanceof Te.K||"EmptyError"===w?.name}const bs=Symbol("INITIAL_VALUE");function Ms(){return(0,$e.w)(w=>ze(w.map(b=>b.pipe((0,Ft.q)(1),(0,jt.O)(bs)))).pipe((0,xe.U)(b=>{for(const y of b)if(!0!==y){if(y===bs)return bs;if(!1===y||y instanceof Sn)return y}return!0}),(0,Kt.h)(b=>b!==bs),(0,Ft.q)(1)))}function Co(w){return(0,ge.z)((0,vn.b)(b=>{if(yi(b))throw Fe(0,b)}),(0,xe.U)(b=>!0===b))}const S={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function G(w,b,y,A,F){const X=O(w,b,y);return X.matched?function ga(w,b,y,A){const F=b.canMatch;if(!F||0===F.length)return(0,j.of)(!0);const X=F.map(Ee=>{const Ie=Us(Ee,w);return qn(function gt(w){return w&&Oo(w.canMatch)}(Ie)?Ie.canMatch(b,y):w.runInContext(()=>Ie(b,y)))});return(0,j.of)(X).pipe(Ms(),Co())}(A=$r(b,A),b,y).pipe((0,xe.U)(Ee=>!0===Ee?X:{...S})):(0,j.of)(X)}function O(w,b,y){if(""===b.path)return"full"===b.pathMatch&&(w.hasChildren()||y.length>0)?{...S}:{matched:!0,consumedSegments:[],remainingSegments:y,parameters:{},positionalParamSegments:{}};const F=(b.matcher||Ut)(y,w,b);if(!F)return{...S};const X={};Hn(F.posParams,(Ie,At)=>{X[At]=Ie.path});const Ee=F.consumed.length>0?{...X,...F.consumed[F.consumed.length-1].parameters}:X;return{matched:!0,consumedSegments:F.consumed,remainingSegments:y.slice(F.consumed.length),parameters:Ee,positionalParamSegments:F.posParams??{}}}function te(w,b,y,A,F="corrected"){if(y.length>0&&function Rt(w,b,y){return y.some(A=>_r(w,b,A)&&Kr(A)!==cn)}(w,y,A)){const Ee=new we(b,function vt(w,b,y,A){const F={};F[cn]=A,A._sourceSegment=w,A._segmentIndexShift=b.length;for(const X of y)if(""===X.path&&Kr(X)!==cn){const Ee=new we([],{});Ee._sourceSegment=w,Ee._segmentIndexShift=b.length,F[Kr(X)]=Ee}return F}(w,b,A,new we(y,w.children)));return Ee._sourceSegment=w,Ee._segmentIndexShift=b.length,{segmentGroup:Ee,slicedSegments:[]}}if(0===y.length&&function Nn(w,b,y){return y.some(A=>_r(w,b,A))}(w,y,A)){const Ee=new we(w.segments,function Me(w,b,y,A,F,X){const Ee={};for(const Ie of A)if(_r(w,y,Ie)&&!F[Kr(Ie)]){const At=new we([],{});At._sourceSegment=w,At._segmentIndexShift="legacy"===X?w.segments.length:b.length,Ee[Kr(Ie)]=At}return{...F,...Ee}}(w,b,y,A,w.children,F));return Ee._sourceSegment=w,Ee._segmentIndexShift=b.length,{segmentGroup:Ee,slicedSegments:y}}const X=new we(w.segments,w.children);return X._sourceSegment=w,X._segmentIndexShift=b.length,{segmentGroup:X,slicedSegments:y}}function _r(w,b,y){return(!(w.hasChildren()||b.length>0)||"full"!==y.pathMatch)&&""===y.path}function Br(w,b,y,A){return!!(Kr(w)===A||A!==cn&&_r(b,y,w))&&("**"===w.path||O(b,w,y).matched)}function jr(w,b,y){return 0===b.length&&!w.children[y]}const Tr=!1;class Ci{constructor(b){this.segmentGroup=b||null}}class Qr{constructor(b){this.urlTree=b}}function ni(w){return ot(new Ci(w))}function $(w){return ot(new Qr(w))}class K{constructor(b,y,A,F,X){this.injector=b,this.configLoader=y,this.urlSerializer=A,this.urlTree=F,this.config=X,this.allowRedirects=!0}apply(){const b=te(this.urlTree.root,[],[],this.config).segmentGroup,y=new we(b.segments,b.children);return this.expandSegmentGroup(this.injector,this.config,y,cn).pipe((0,xe.U)(X=>this.createUrlTree(bn(X),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,fn.K)(X=>{if(X instanceof Qr)return this.allowRedirects=!1,this.match(X.urlTree);throw X instanceof Ci?this.noMatchError(X):X}))}match(b){return this.expandSegmentGroup(this.injector,this.config,b.root,cn).pipe((0,xe.U)(F=>this.createUrlTree(bn(F),b.queryParams,b.fragment))).pipe((0,fn.K)(F=>{throw F instanceof Ci?this.noMatchError(F):F}))}noMatchError(b){return new c.vHH(4002,Tr)}createUrlTree(b,y,A){const F=Yr(b);return new Sn(F,y,A)}expandSegmentGroup(b,y,A,F){return 0===A.segments.length&&A.hasChildren()?this.expandChildren(b,y,A).pipe((0,xe.U)(X=>new we([],X))):this.expandSegment(b,A,y,A.segments,F,!0)}expandChildren(b,y,A){const F=[];for(const X of Object.keys(A.children))"primary"===X?F.unshift(X):F.push(X);return(0,U.D)(F).pipe((0,Ot.b)(X=>{const Ee=A.children[X],Ie=ws(y,X);return this.expandSegmentGroup(b,Ie,Ee,X).pipe((0,xe.U)(At=>({segment:At,outlet:X})))}),(0,Dt.R)((X,Ee)=>(X[Ee.outlet]=Ee.segment,X),{}),Fn())}expandSegment(b,y,A,F,X,Ee){return(0,U.D)(A).pipe((0,Ot.b)(Ie=>this.expandSegmentAgainstRoute(b,y,A,Ie,F,X,Ee).pipe((0,fn.K)(an=>{if(an instanceof Ci)return(0,j.of)(null);throw an}))),(0,un.P)(Ie=>!!Ie),(0,fn.K)((Ie,At)=>{if(vr(Ie))return jr(y,F,X)?(0,j.of)(new we([],{})):ni(y);throw Ie}))}expandSegmentAgainstRoute(b,y,A,F,X,Ee,Ie){return Br(F,y,X,Ee)?void 0===F.redirectTo?this.matchSegmentAgainstRoute(b,y,F,X,Ee):Ie&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(b,y,A,F,X,Ee):ni(y):ni(y)}expandSegmentAgainstRouteUsingRedirect(b,y,A,F,X,Ee){return"**"===F.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(b,A,F,Ee):this.expandRegularSegmentAgainstRouteUsingRedirect(b,y,A,F,X,Ee)}expandWildCardWithParamsAgainstRouteUsingRedirect(b,y,A,F){const X=this.applyRedirectCommands([],A.redirectTo,{});return A.redirectTo.startsWith("/")?$(X):this.lineralizeSegments(A,X).pipe((0,nn.z)(Ee=>{const Ie=new we(Ee,{});return this.expandSegment(b,Ie,y,Ee,F,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(b,y,A,F,X,Ee){const{matched:Ie,consumedSegments:At,remainingSegments:an,positionalParamSegments:Un}=O(y,F,X);if(!Ie)return ni(y);const Tn=this.applyRedirectCommands(At,F.redirectTo,Un);return F.redirectTo.startsWith("/")?$(Tn):this.lineralizeSegments(F,Tn).pipe((0,nn.z)(Or=>this.expandSegment(b,y,A,Or.concat(an),Ee,!1)))}matchSegmentAgainstRoute(b,y,A,F,X){return"**"===A.path?(b=$r(A,b),A.loadChildren?(A._loadedRoutes?(0,j.of)({routes:A._loadedRoutes,injector:A._loadedInjector}):this.configLoader.loadChildren(b,A)).pipe((0,xe.U)(Ie=>(A._loadedRoutes=Ie.routes,A._loadedInjector=Ie.injector,new we(F,{})))):(0,j.of)(new we(F,{}))):G(y,A,F,b).pipe((0,$e.w)(({matched:Ee,consumedSegments:Ie,remainingSegments:At})=>Ee?this.getChildConfig(b=A._injector??b,A,F).pipe((0,nn.z)(Un=>{const Tn=Un.injector??b,Or=Un.routes,{segmentGroup:Ps,slicedSegments:Os}=te(y,Ie,At,Or),Xo=new we(Ps.segments,Ps.children);if(0===Os.length&&Xo.hasChildren())return this.expandChildren(Tn,Or,Xo).pipe((0,xe.U)(ya=>new we(Ie,ya)));if(0===Or.length&&0===Os.length)return(0,j.of)(new we(Ie,{}));const Ai=Kr(A)===X;return this.expandSegment(Tn,Xo,Or,Os,Ai?cn:X,!0).pipe((0,xe.U)(Bs=>new we(Ie.concat(Bs.segments),Bs.children)))})):ni(y)))}getChildConfig(b,y,A){return y.children?(0,j.of)({routes:y.children,injector:b}):y.loadChildren?void 0!==y._loadedRoutes?(0,j.of)({routes:y._loadedRoutes,injector:y._loadedInjector}):function Yo(w,b,y,A){const F=b.canLoad;if(void 0===F||0===F.length)return(0,j.of)(!0);const X=F.map(Ee=>{const Ie=Us(Ee,w);return qn(function L(w){return w&&Oo(w.canLoad)}(Ie)?Ie.canLoad(b,y):w.runInContext(()=>Ie(b,y)))});return(0,j.of)(X).pipe(Ms(),Co())}(b,y,A).pipe((0,nn.z)(F=>F?this.configLoader.loadChildren(b,y).pipe((0,vn.b)(X=>{y._loadedRoutes=X.routes,y._loadedInjector=X.injector})):function E(w){return ot(Ze(Tr,3))}())):(0,j.of)({routes:[],injector:b})}lineralizeSegments(b,y){let A=[],F=y.root;for(;;){if(A=A.concat(F.segments),0===F.numberOfChildren)return(0,j.of)(A);if(F.numberOfChildren>1||!F.children[cn])return ot(new c.vHH(4e3,Tr));F=F.children[cn]}}applyRedirectCommands(b,y,A){return this.applyRedirectCreateUrlTree(y,this.urlSerializer.parse(y),b,A)}applyRedirectCreateUrlTree(b,y,A,F){const X=this.createSegmentGroup(b,y.root,A,F);return new Sn(X,this.createQueryParams(y.queryParams,this.urlTree.queryParams),y.fragment)}createQueryParams(b,y){const A={};return Hn(b,(F,X)=>{if("string"==typeof F&&F.startsWith(":")){const Ie=F.substring(1);A[X]=y[Ie]}else A[X]=F}),A}createSegmentGroup(b,y,A,F){const X=this.createSegments(b,y.segments,A,F);let Ee={};return Hn(y.children,(Ie,At)=>{Ee[At]=this.createSegmentGroup(b,Ie,A,F)}),new we(X,Ee)}createSegments(b,y,A,F){return y.map(X=>X.path.startsWith(":")?this.findPosParam(b,X,F):this.findOrReturn(X,A))}findPosParam(b,y,A){const F=A[y.path.substring(1)];if(!F)throw new c.vHH(4001,Tr);return F}findOrReturn(b,y){let A=0;for(const F of y){if(F.path===b.path)return y.splice(A),F;A++}return b}}class je{}class Mn{constructor(b,y,A,F,X,Ee,Ie,At){this.injector=b,this.rootComponentType=y,this.config=A,this.urlTree=F,this.url=X,this.paramsInheritanceStrategy=Ee,this.relativeLinkResolution=Ie,this.urlSerializer=At}recognize(){const b=te(this.urlTree.root,[],[],this.config.filter(y=>void 0===y.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,b,cn).pipe((0,xe.U)(y=>{if(null===y)return null;const A=new zs([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},cn,this.rootComponentType,null,this.urlTree.root,-1,{}),F=new wi(A,y),X=new _s(this.url,F);return this.inheritParamsAndData(X._root),X}))}inheritParamsAndData(b){const y=b.value,A=lo(y,this.paramsInheritanceStrategy);y.params=Object.freeze(A.params),y.data=Object.freeze(A.data),b.children.forEach(F=>this.inheritParamsAndData(F))}processSegmentGroup(b,y,A,F){return 0===A.segments.length&&A.hasChildren()?this.processChildren(b,y,A):this.processSegment(b,y,A,A.segments,F)}processChildren(b,y,A){return(0,U.D)(Object.keys(A.children)).pipe((0,Ot.b)(F=>{const X=A.children[F],Ee=ws(y,F);return this.processSegmentGroup(b,Ee,X,F)}),(0,Dt.R)((F,X)=>F&&X?(F.push(...X),F):null),function sr(w,b=!1){return(0,Ye.e)((y,A)=>{let F=0;y.subscribe((0,tt.x)(A,X=>{const Ee=w(X,F++);(Ee||b)&&A.next(X),!Ee&&A.complete()}))})}(F=>null!==F),(0,Xt.d)(null),Fn(),(0,xe.U)(F=>{if(null===F)return null;const X=Zn(F);return function Pn(w){w.sort((b,y)=>b.value.outlet===cn?-1:y.value.outlet===cn?1:b.value.outlet.localeCompare(y.value.outlet))}(X),X}))}processSegment(b,y,A,F,X){return(0,U.D)(y).pipe((0,Ot.b)(Ee=>this.processSegmentAgainstRoute(Ee._injector??b,Ee,A,F,X)),(0,un.P)(Ee=>!!Ee),(0,fn.K)(Ee=>{if(vr(Ee))return jr(A,F,X)?(0,j.of)([]):(0,j.of)(null);throw Ee}))}processSegmentAgainstRoute(b,y,A,F,X){if(y.redirectTo||!Br(y,A,F,X))return(0,j.of)(null);let Ee;if("**"===y.path){const Ie=F.length>0?Pi(F).parameters:{},At=Xr(A)+F.length,an=new zs(F,Ie,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ns(y),Kr(y),y.component??y._loadedComponent??null,y,Jr(A),At,Ur(y),At);Ee=(0,j.of)({snapshot:an,consumedSegments:[],remainingSegments:[]})}else Ee=G(A,y,F,b).pipe((0,xe.U)(({matched:Ie,consumedSegments:At,remainingSegments:an,parameters:Un})=>{if(!Ie)return null;const Tn=Xr(A)+At.length;return{snapshot:new zs(At,Un,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ns(y),Kr(y),y.component??y._loadedComponent??null,y,Jr(A),Tn,Ur(y),Tn),consumedSegments:At,remainingSegments:an}}));return Ee.pipe((0,$e.w)(Ie=>{if(null===Ie)return(0,j.of)(null);const{snapshot:At,consumedSegments:an,remainingSegments:Un}=Ie;b=y._injector??b;const Tn=y._loadedInjector??b,Or=function Rr(w){return w.children?w.children:w.loadChildren?w._loadedRoutes:[]}(y),{segmentGroup:Ps,slicedSegments:Os}=te(A,an,Un,Or.filter(Ai=>void 0===Ai.redirectTo),this.relativeLinkResolution);if(0===Os.length&&Ps.hasChildren())return this.processChildren(Tn,Or,Ps).pipe((0,xe.U)(Ai=>null===Ai?null:[new wi(At,Ai)]));if(0===Or.length&&0===Os.length)return(0,j.of)([new wi(At,[])]);const Xo=Kr(y)===X;return this.processSegment(Tn,Or,Ps,Os,Xo?cn:X).pipe((0,xe.U)(Ai=>null===Ai?null:[new wi(At,Ai)]))}))}}function Cr(w){const b=w.value.routeConfig;return b&&""===b.path&&void 0===b.redirectTo}function Zn(w){const b=[],y=new Set;for(const A of w){if(!Cr(A)){b.push(A);continue}const F=b.find(X=>A.value.routeConfig===X.value.routeConfig);void 0!==F?(F.children.push(...A.children),y.add(F)):b.push(A)}for(const A of y){const F=Zn(A.children);b.push(new wi(A.value,F))}return b.filter(A=>!y.has(A))}function Jr(w){let b=w;for(;b._sourceSegment;)b=b._sourceSegment;return b}function Xr(w){let b=w,y=b._segmentIndexShift??0;for(;b._sourceSegment;)b=b._sourceSegment,y+=b._segmentIndexShift??0;return y-1}function ns(w){return w.data||{}}function Ur(w){return w.resolve||{}}function Ht(w){return"string"==typeof w.title||null===w.title}function ui(w){return(0,$e.w)(b=>{const y=w(b);return y?(0,U.D)(y).pipe((0,xe.U)(()=>b)):(0,j.of)(b)})}let li=(()=>{class w{buildTitle(y){let A,F=y.root;for(;void 0!==F;)A=this.getResolvedTitleForRoute(F)??A,F=F.children.find(X=>X.outlet===cn);return A}getResolvedTitleForRoute(y){return y.data[rr]}}return w.\u0275fac=function(y){return new(y||w)},w.\u0275prov=c.Yz7({token:w,factory:function(){return(0,c.f3M)(oa)},providedIn:"root"}),w})(),oa=(()=>{class w extends li{constructor(y){super(),this.title=y}updateTitle(y){const A=this.buildTitle(y);void 0!==A&&this.title.setTitle(A)}}return w.\u0275fac=function(y){return new(y||w)(c.LFG(fr.Dx))},w.\u0275prov=c.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();class Wt{}class Nt extends class Yn{shouldDetach(b){return!1}store(b,y){}shouldAttach(b){return!1}retrieve(b){return null}shouldReuseRoute(b,y){return b.routeConfig===y.routeConfig}}{}const kt=new c.OlP("",{providedIn:"root",factory:()=>({})}),$i=new c.OlP("ROUTES");let xs=(()=>{class w{constructor(y,A){this.injector=y,this.compiler=A,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(y){if(this.componentLoaders.get(y))return this.componentLoaders.get(y);if(y._loadedComponent)return(0,j.of)(y._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(y);const A=qn(y.loadComponent()).pipe((0,vn.b)(X=>{this.onLoadEndListener&&this.onLoadEndListener(y),y._loadedComponent=X}),nr(()=>{this.componentLoaders.delete(y)})),F=new _e(A,()=>new pe.x).pipe(rt());return this.componentLoaders.set(y,F),F}loadChildren(y,A){if(this.childrenLoaders.get(A))return this.childrenLoaders.get(A);if(A._loadedRoutes)return(0,j.of)({routes:A._loadedRoutes,injector:A._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(A);const X=this.loadModuleFactoryOrRoutes(A.loadChildren).pipe((0,xe.U)(Ie=>{this.onLoadEndListener&&this.onLoadEndListener(A);let At,an,Un=!1;Array.isArray(Ie)?an=Ie:(At=Ie.create(y).injector,an=pr(At.get($i,[],c.XFs.Self|c.XFs.Optional)));return{routes:an.map(Ls),injector:At}}),nr(()=>{this.childrenLoaders.delete(A)})),Ee=new _e(X,()=>new pe.x).pipe(rt());return this.childrenLoaders.set(A,Ee),Ee}loadModuleFactoryOrRoutes(y){return qn(y()).pipe((0,nn.z)(A=>A instanceof c.YKP||Array.isArray(A)?(0,j.of)(A):(0,U.D)(this.compiler.compileModuleAsync(A))))}}return w.\u0275fac=function(y){return new(y||w)(c.LFG(c.zs3),c.LFG(c.Sil))},w.\u0275prov=c.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();class Di{}class aa{shouldProcessUrl(b){return!0}extract(b){return b}merge(b,y){return b}}function Ti(w){throw w}function zo(w,b,y){return b.parse("/")}const Cs={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Qo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function ja(){const w=(0,c.f3M)(It),b=(0,c.f3M)(hn),y=(0,c.f3M)(Ve.Ye),A=(0,c.f3M)(c.zs3),F=(0,c.f3M)(c.Sil),X=(0,c.f3M)($i,{optional:!0})??[],Ee=(0,c.f3M)(kt,{optional:!0})??{},Ie=(0,c.f3M)(oa),At=(0,c.f3M)(li,{optional:!0}),an=(0,c.f3M)(Di,{optional:!0}),Un=(0,c.f3M)(Wt,{optional:!0}),Tn=new Gn(null,w,b,y,A,F,pr(X));return an&&(Tn.urlHandlingStrategy=an),Un&&(Tn.routeReuseStrategy=Un),Tn.titleStrategy=At??Ie,function ko(w,b){w.errorHandler&&(b.errorHandler=w.errorHandler),w.malformedUriErrorHandler&&(b.malformedUriErrorHandler=w.malformedUriErrorHandler),w.onSameUrlNavigation&&(b.onSameUrlNavigation=w.onSameUrlNavigation),w.paramsInheritanceStrategy&&(b.paramsInheritanceStrategy=w.paramsInheritanceStrategy),w.relativeLinkResolution&&(b.relativeLinkResolution=w.relativeLinkResolution),w.urlUpdateStrategy&&(b.urlUpdateStrategy=w.urlUpdateStrategy),w.canceledNavigationResolution&&(b.canceledNavigationResolution=w.canceledNavigationResolution)}(Ee,Tn),Tn}let Gn=(()=>{class w{constructor(y,A,F,X,Ee,Ie,At){this.rootComponentType=y,this.urlSerializer=A,this.rootContexts=F,this.location=X,this.config=At,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new pe.x,this.errorHandler=Ti,this.malformedUriErrorHandler=zo,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,j.of)(void 0),this.urlHandlingStrategy=new aa,this.routeReuseStrategy=new Nt,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=Ee.get(xs),this.configLoader.onLoadEndListener=Or=>this.triggerEvent(new ao(Or)),this.configLoader.onLoadStartListener=Or=>this.triggerEvent(new Ys(Or)),this.ngModule=Ee.get(c.h0i),this.console=Ee.get(c.c2e);const Tn=Ee.get(c.R0b);this.isNgZoneEnabled=Tn instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(At),this.currentUrlTree=function mn(){return new Sn(new we([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=di(this.currentUrlTree,this.rootComponentType),this.transitions=new m({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(y){const A=this.events;return y.pipe((0,Kt.h)(F=>0!==F.id),(0,xe.U)(F=>({...F,extractedUrl:this.urlHandlingStrategy.extract(F.rawUrl)})),(0,$e.w)(F=>{let X=!1,Ee=!1;return(0,j.of)(F).pipe((0,vn.b)(Ie=>{this.currentNavigation={id:Ie.id,initialUrl:Ie.rawUrl,extractedUrl:Ie.extractedUrl,trigger:Ie.source,extras:Ie.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,$e.w)(Ie=>{const At=this.browserUrlTree.toString(),an=!this.navigated||Ie.extractedUrl.toString()!==At||At!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||an)&&this.urlHandlingStrategy.shouldProcessUrl(Ie.rawUrl))return iu(Ie.source)&&(this.browserUrlTree=Ie.extractedUrl),(0,j.of)(Ie).pipe((0,$e.w)(Tn=>{const Or=this.transitions.getValue();return A.next(new Ni(Tn.id,this.serializeUrl(Tn.extractedUrl),Tn.source,Tn.restoredState)),Or!==this.transitions.getValue()?_t.E:Promise.resolve(Tn)}),function se(w,b,y,A){return(0,$e.w)(F=>function N(w,b,y,A,F){return new K(w,b,y,A,F).apply()}(w,b,y,F.extractedUrl,A).pipe((0,xe.U)(X=>({...F,urlAfterRedirects:X}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,vn.b)(Tn=>{this.currentNavigation={...this.currentNavigation,finalUrl:Tn.urlAfterRedirects},F.urlAfterRedirects=Tn.urlAfterRedirects}),function sa(w,b,y,A,F,X){return(0,nn.z)(Ee=>function Lt(w,b,y,A,F,X,Ee="emptyOnly",Ie="legacy"){return new Mn(w,b,y,A,F,Ee,Ie,X).recognize().pipe((0,$e.w)(At=>null===At?function Xe(w){return new ke.y(b=>b.error(w))}(new je):(0,j.of)(At)))}(w,b,y,Ee.urlAfterRedirects,A.serialize(Ee.urlAfterRedirects),A,F,X).pipe((0,xe.U)(Ie=>({...Ee,targetSnapshot:Ie}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,vn.b)(Tn=>{if(F.targetSnapshot=Tn.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!Tn.extras.skipLocationChange){const Ps=this.urlHandlingStrategy.merge(Tn.urlAfterRedirects,Tn.rawUrl);this.setBrowserUrl(Ps,Tn)}this.browserUrlTree=Tn.urlAfterRedirects}const Or=new Ts(Tn.id,this.serializeUrl(Tn.extractedUrl),this.serializeUrl(Tn.urlAfterRedirects),Tn.targetSnapshot);A.next(Or)}));if(an&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Or,extractedUrl:Ps,source:Os,restoredState:Xo,extras:Ai}=Ie,Sa=new Ni(Or,this.serializeUrl(Ps),Os,Xo);A.next(Sa);const Bs=di(Ps,this.rootComponentType).snapshot;return F={...Ie,targetSnapshot:Bs,urlAfterRedirects:Ps,extras:{...Ai,skipLocationChange:!1,replaceUrl:!1}},(0,j.of)(F)}return this.rawUrlTree=Ie.rawUrl,Ie.resolve(null),_t.E}),(0,vn.b)(Ie=>{const At=new Li(Ie.id,this.serializeUrl(Ie.extractedUrl),this.serializeUrl(Ie.urlAfterRedirects),Ie.targetSnapshot);this.triggerEvent(At)}),(0,xe.U)(Ie=>F={...Ie,guards:eo(Ie.targetSnapshot,Ie.currentSnapshot,this.rootContexts)}),function bo(w,b){return(0,nn.z)(y=>{const{targetSnapshot:A,currentSnapshot:F,guards:{canActivateChecks:X,canDeactivateChecks:Ee}}=y;return 0===Ee.length&&0===X.length?(0,j.of)({...y,guardsResult:!0}):function po(w,b,y,A){return(0,U.D)(w).pipe((0,nn.z)(F=>function Is(w,b,y,A,F){const X=b&&b.routeConfig?b.routeConfig.canDeactivate:null;if(!X||0===X.length)return(0,j.of)(!0);const Ee=X.map(Ie=>{const At=Fi(b)??F,an=Us(Ie,At);return qn(function ne(w){return w&&Oo(w.canDeactivate)}(an)?an.canDeactivate(w,b,y,A):At.runInContext(()=>an(w,b,y,A))).pipe((0,un.P)())});return(0,j.of)(Ee).pipe(Ms())}(F.component,F.route,y,b,A)),(0,un.P)(F=>!0!==F,!0))}(Ee,A,F,w).pipe((0,nn.z)(Ie=>Ie&&function fo(w){return"boolean"==typeof w}(Ie)?function No(w,b,y,A){return(0,U.D)(b).pipe((0,Ot.b)(F=>(0,Ge.z)(function ia(w,b){return null!==w&&b&&b(new $s(w)),(0,j.of)(!0)}(F.route.parent,A),function $o(w,b){return null!==w&&b&&b(new Ro(w)),(0,j.of)(!0)}(F.route,A),function pa(w,b,y){const A=b[b.length-1],X=b.slice(0,b.length-1).reverse().map(Ee=>function oi(w){const b=w.routeConfig?w.routeConfig.canActivateChild:null;return b&&0!==b.length?{node:w,guards:b}:null}(Ee)).filter(Ee=>null!==Ee).map(Ee=>Bt(()=>{const Ie=Ee.guards.map(At=>{const an=Fi(Ee.node)??y,Un=Us(At,an);return qn(function M(w){return w&&Oo(w.canActivateChild)}(Un)?Un.canActivateChild(A,w):an.runInContext(()=>Un(A,w))).pipe((0,un.P)())});return(0,j.of)(Ie).pipe(Ms())}));return(0,j.of)(X).pipe(Ms())}(w,F.path,y),function Io(w,b,y){const A=b.routeConfig?b.routeConfig.canActivate:null;if(!A||0===A.length)return(0,j.of)(!0);const F=A.map(X=>Bt(()=>{const Ee=Fi(b)??y,Ie=Us(X,Ee);return qn(function k(w){return w&&Oo(w.canActivate)}(Ie)?Ie.canActivate(b,w):Ee.runInContext(()=>Ie(b,w))).pipe((0,un.P)())}));return(0,j.of)(F).pipe(Ms())}(w,F.route,y))),(0,un.P)(F=>!0!==F,!0))}(A,X,w,b):(0,j.of)(Ie)),(0,xe.U)(Ie=>({...y,guardsResult:Ie})))})}(this.ngModule.injector,Ie=>this.triggerEvent(Ie)),(0,vn.b)(Ie=>{if(F.guardsResult=Ie.guardsResult,yi(Ie.guardsResult))throw Fe(0,Ie.guardsResult);const At=new Ei(Ie.id,this.serializeUrl(Ie.extractedUrl),this.serializeUrl(Ie.urlAfterRedirects),Ie.targetSnapshot,!!Ie.guardsResult);this.triggerEvent(At)}),(0,Kt.h)(Ie=>!!Ie.guardsResult||(this.restoreHistory(Ie),this.cancelNavigationTransition(Ie,"",3),!1)),ui(Ie=>{if(Ie.guards.canActivateChecks.length)return(0,j.of)(Ie).pipe((0,vn.b)(At=>{const an=new as(At.id,this.serializeUrl(At.extractedUrl),this.serializeUrl(At.urlAfterRedirects),At.targetSnapshot);this.triggerEvent(an)}),(0,$e.w)(At=>{let an=!1;return(0,j.of)(At).pipe(function Zr(w,b){return(0,nn.z)(y=>{const{targetSnapshot:A,guards:{canActivateChecks:F}}=y;if(!F.length)return(0,j.of)(y);let X=0;return(0,U.D)(F).pipe((0,Ot.b)(Ee=>function Vi(w,b,y,A){const F=w.routeConfig,X=w._resolve;return void 0!==F?.title&&!Ht(F)&&(X[rr]=F.title),function Yi(w,b,y,A){const F=function Ws(w){return[...Object.keys(w),...Object.getOwnPropertySymbols(w)]}(w);if(0===F.length)return(0,j.of)({});const X={};return(0,U.D)(F).pipe((0,nn.z)(Ee=>function Do(w,b,y,A){const F=Fi(b)??A,X=Us(w,F);return qn(X.resolve?X.resolve(b,y):F.runInContext(()=>X(b,y)))}(w[Ee],b,y,A).pipe((0,un.P)(),(0,vn.b)(Ie=>{X[Ee]=Ie}))),ht(1),function Wn(w){return(0,xe.U)(()=>w)}(X),(0,fn.K)(Ee=>vr(Ee)?_t.E:ot(Ee)))}(X,w,b,A).pipe((0,xe.U)(Ee=>(w._resolvedData=Ee,w.data=lo(w,y).resolve,F&&Ht(F)&&(w.data[rr]=F.title),null)))}(Ee.route,A,w,b)),(0,vn.b)(()=>X++),ht(1),(0,nn.z)(Ee=>X===F.length?(0,j.of)(y):_t.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,vn.b)({next:()=>an=!0,complete:()=>{an||(this.restoreHistory(At),this.cancelNavigationTransition(At,"",2))}}))}),(0,vn.b)(At=>{const an=new oo(At.id,this.serializeUrl(At.extractedUrl),this.serializeUrl(At.urlAfterRedirects),At.targetSnapshot);this.triggerEvent(an)}))}),ui(Ie=>{const At=an=>{const Un=[];an.routeConfig?.loadComponent&&!an.routeConfig._loadedComponent&&Un.push(this.configLoader.loadComponent(an.routeConfig).pipe((0,vn.b)(Tn=>{an.component=Tn}),(0,xe.U)(()=>{})));for(const Tn of an.children)Un.push(...At(Tn));return Un};return ze(At(Ie.targetSnapshot.root)).pipe((0,Xt.d)(),(0,Ft.q)(1))}),ui(()=>this.afterPreactivation()),(0,xe.U)(Ie=>{const At=function Hi(w,b,y){const A=es(w,b._root,y?y._root:void 0);return new Gs(A,b)}(this.routeReuseStrategy,Ie.targetSnapshot,Ie.currentRouterState);return F={...Ie,targetRouterState:At}}),(0,vn.b)(Ie=>{this.currentUrlTree=Ie.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Ie.urlAfterRedirects,Ie.rawUrl),this.routerState=Ie.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Ie.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Ie),this.browserUrlTree=Ie.urlAfterRedirects)}),((w,b,y)=>(0,xe.U)(A=>(new Gt(b,A.targetRouterState,A.currentRouterState,y).activate(w),A)))(this.rootContexts,this.routeReuseStrategy,Ie=>this.triggerEvent(Ie)),(0,vn.b)({next(){X=!0},complete(){X=!0}}),nr(()=>{X||Ee||this.cancelNavigationTransition(F,"",1),this.currentNavigation?.id===F.id&&(this.currentNavigation=null)}),(0,fn.K)(Ie=>{if(Ee=!0,en(Ie)){Ct(Ie)||(this.navigated=!0,this.restoreHistory(F,!0));const At=new os(F.id,this.serializeUrl(F.extractedUrl),Ie.message,Ie.cancellationCode);if(A.next(At),Ct(Ie)){const an=this.urlHandlingStrategy.merge(Ie.url,this.rawUrlTree),Un={skipLocationChange:F.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||iu(F.source)};this.scheduleNavigation(an,"imperative",null,Un,{resolve:F.resolve,reject:F.reject,promise:F.promise})}else F.resolve(!1)}else{this.restoreHistory(F,!0);const At=new Xi(F.id,this.serializeUrl(F.extractedUrl),Ie,F.targetSnapshot??void 0);A.next(At);try{F.resolve(this.errorHandler(Ie))}catch(an){F.reject(an)}}return _t.E}))}))}resetRootComponentType(y){this.rootComponentType=y,this.routerState.root.component=this.rootComponentType}setTransition(y){this.transitions.next({...this.transitions.value,...y})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(y=>{const A="popstate"===y.type?"popstate":"hashchange";"popstate"===A&&setTimeout(()=>{const F={replaceUrl:!0},X=y.state?.navigationId?y.state:null;if(X){const Ie={...X};delete Ie.navigationId,delete Ie.\u0275routerPageId,0!==Object.keys(Ie).length&&(F.state=Ie)}const Ee=this.parseUrl(y.url);this.scheduleNavigation(Ee,A,X,F)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(y){this.events.next(y)}resetConfig(y){this.config=y.map(Ls),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(y,A={}){const{relativeTo:F,queryParams:X,fragment:Ee,queryParamsHandling:Ie,preserveFragment:At}=A,an=F||this.routerState.root,Un=At?this.currentUrlTree.fragment:Ee;let Tn=null;switch(Ie){case"merge":Tn={...this.currentUrlTree.queryParams,...X};break;case"preserve":Tn=this.currentUrlTree.queryParams;break;default:Tn=X||null}return null!==Tn&&(Tn=this.removeEmptyProps(Tn)),gr(an,this.currentUrlTree,y,Tn,Un??null)}navigateByUrl(y,A={skipLocationChange:!1}){const F=yi(y)?y:this.parseUrl(y),X=this.urlHandlingStrategy.merge(F,this.rawUrlTree);return this.scheduleNavigation(X,"imperative",null,A)}navigate(y,A={skipLocationChange:!1}){return function Fo(w){for(let b=0;b<w.length;b++){if(null==w[b])throw new c.vHH(4008,false)}}(y),this.navigateByUrl(this.createUrlTree(y,A),A)}serializeUrl(y){return this.urlSerializer.serialize(y)}parseUrl(y){let A;try{A=this.urlSerializer.parse(y)}catch(F){A=this.malformedUriErrorHandler(F,this.urlSerializer,y)}return A}isActive(y,A){let F;if(F=!0===A?{...Cs}:!1===A?{...Qo}:A,yi(y))return Se(this.currentUrlTree,y,F);const X=this.parseUrl(y);return Se(this.currentUrlTree,X,F)}removeEmptyProps(y){return Object.keys(y).reduce((A,F)=>{const X=y[F];return null!=X&&(A[F]=X),A},{})}processNavigations(){this.navigations.subscribe(y=>{this.navigated=!0,this.lastSuccessfulId=y.id,this.currentPageId=y.targetPageId,this.events.next(new Ji(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),y.resolve(!0)},y=>{this.console.warn(`Unhandled Navigation Error: ${y}`)})}scheduleNavigation(y,A,F,X,Ee){if(this.disposed)return Promise.resolve(!1);let Ie,At,an;Ee?(Ie=Ee.resolve,At=Ee.reject,an=Ee.promise):an=new Promise((Or,Ps)=>{Ie=Or,At=Ps});const Un=++this.navigationId;let Tn;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(F=this.location.getState()),Tn=F&&F.\u0275routerPageId?F.\u0275routerPageId:X.replaceUrl||X.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):Tn=0,this.setTransition({id:Un,targetPageId:Tn,source:A,restoredState:F,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:y,extras:X,resolve:Ie,reject:At,promise:an,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),an.catch(Or=>Promise.reject(Or))}setBrowserUrl(y,A){const F=this.urlSerializer.serialize(y),X={...A.extras.state,...this.generateNgRouterState(A.id,A.targetPageId)};this.location.isCurrentPathEqualTo(F)||A.extras.replaceUrl?this.location.replaceState(F,"",X):this.location.go(F,"",X)}restoreHistory(y,A=!1){if("computed"===this.canceledNavigationResolution){const F=this.currentPageId-y.targetPageId;"popstate"!==y.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===F?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===F&&(this.resetState(y),this.browserUrlTree=y.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(F)}else"replace"===this.canceledNavigationResolution&&(A&&this.resetState(y),this.resetUrlToCurrentUrlTree())}resetState(y){this.routerState=y.currentRouterState,this.currentUrlTree=y.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,y.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(y,A,F){const X=new os(y.id,this.serializeUrl(y.extractedUrl),A,F);this.triggerEvent(X),y.resolve(!1)}generateNgRouterState(y,A){return"computed"===this.canceledNavigationResolution?{navigationId:y,\u0275routerPageId:A}:{navigationId:y}}}return w.\u0275fac=function(y){c.$Z()},w.\u0275prov=c.Yz7({token:w,factory:function(){return ja()},providedIn:"root"}),w})();function iu(w){return"imperative"!==w}let ai=(()=>{class w{constructor(y,A,F,X,Ee){this.router=y,this.route=A,this.tabIndexAttribute=F,this.renderer=X,this.el=Ee,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new pe.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(y){this._preserveFragment=(0,c.D6c)(y)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(y){this._skipLocationChange=(0,c.D6c)(y)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(y){this._replaceUrl=(0,c.D6c)(y)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(y){if(null!=this.tabIndexAttribute)return;const A=this.renderer,F=this.el.nativeElement;null!==y?A.setAttribute(F,"tabindex",y):A.removeAttribute(F,"tabindex")}ngOnChanges(y){this.onChanges.next(this)}set routerLink(y){null!=y?(this.commands=Array.isArray(y)?y:[y],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return w.\u0275fac=function(y){return new(y||w)(c.Y36(Gn),c.Y36(Ui),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq))},w.\u0275dir=c.lG2({type:w,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(y,A){1&y&&c.NdJ("click",function(){return A.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[c.TTD]}),w})();class Jo{}let Zo=(()=>{class w{constructor(y,A,F,X,Ee){this.router=y,this.injector=F,this.preloadingStrategy=X,this.loader=Ee}setUpPreloading(){this.subscription=this.router.events.pipe((0,Kt.h)(y=>y instanceof Ji),(0,Ot.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(y,A){const F=[];for(const X of A){X.providers&&!X._injector&&(X._injector=(0,c.MMx)(X.providers,y,`Route: ${X.path}`));const Ee=X._injector??y,Ie=X._loadedInjector??Ee;X.loadChildren&&!X._loadedRoutes&&void 0===X.canLoad||X.loadComponent&&!X._loadedComponent?F.push(this.preloadConfig(Ee,X)):(X.children||X._loadedRoutes)&&F.push(this.processRoutes(Ie,X.children??X._loadedRoutes))}return(0,U.D)(F).pipe((0,Kn.J)())}preloadConfig(y,A){return this.preloadingStrategy.preload(A,()=>{let F;F=A.loadChildren&&void 0===A.canLoad?this.loader.loadChildren(y,A):(0,j.of)(null);const X=F.pipe((0,nn.z)(Ee=>null===Ee?(0,j.of)(void 0):(A._loadedRoutes=Ee.routes,A._loadedInjector=Ee.injector,this.processRoutes(Ee.injector??y,Ee.routes))));if(A.loadComponent&&!A._loadedComponent){const Ee=this.loader.loadComponent(A);return(0,U.D)([X,Ee]).pipe((0,Kn.J)())}return X})}}return w.\u0275fac=function(y){return new(y||w)(c.LFG(Gn),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(Jo),c.LFG(xs))},w.\u0275prov=c.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();const to=new c.OlP("");let Wo=(()=>{class w{constructor(y,A,F={}){this.router=y,this.viewportScroller=A,this.options=F,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},F.scrollPositionRestoration=F.scrollPositionRestoration||"disabled",F.anchorScrolling=F.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(y=>{y instanceof Ni?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=y.navigationTrigger,this.restoredId=y.restoredState?y.restoredState.navigationId:0):y instanceof Ji&&(this.lastId=y.id,this.scheduleScrollEvent(y,this.router.parseUrl(y.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(y=>{y instanceof yo&&(y.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(y.position):y.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(y.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(y,A){this.router.triggerEvent(new yo(y,"popstate"===this.lastSource?this.store[this.restoredId]:null,A))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return w.\u0275fac=function(y){c.$Z()},w.\u0275prov=c.Yz7({token:w,factory:w.\u0275fac}),w})();function ua(w,b){return{\u0275kind:w,\u0275providers:b}}function ou(w){return[{provide:$i,multi:!0,useValue:w}]}function no(){const w=(0,c.f3M)(c.zs3);return b=>{const y=w.get(c.z2F);if(b!==y.components[0])return;const A=w.get(Gn),F=w.get(bu);1===w.get(la)&&A.initialNavigation(),w.get(mt,null,c.XFs.Optional)?.setUpPreloading(),w.get(to,null,c.XFs.Optional)?.init(),A.resetRootComponentType(y.componentTypes[0]),F.next(),F.complete()}}const bu=new c.OlP("",{factory:()=>new pe.x}),la=new c.OlP("",{providedIn:"root",factory:()=>1});const mt=new c.OlP("");function ma(w){return ua(0,[{provide:mt,useExisting:Zo},{provide:Jo,useExisting:w}])}const Vs=new c.OlP("ROUTER_FORROOT_GUARD"),Ha=[Ve.Ye,{provide:It,useClass:pn},{provide:Gn,useFactory:ja},hn,{provide:Ui,useFactory:function su(w){return w.routerState.root},deps:[Gn]},xs];function _o(){return new c.PXZ("Router",Gn)}let ca=(()=>{class w{constructor(y){}static forRoot(y,A){return{ngModule:w,providers:[Ha,[],ou(y),{provide:Vs,useFactory:fs,deps:[[Gn,new c.FiY,new c.tp0]]},{provide:kt,useValue:A||{}},A?.useHash?{provide:Ve.S$,useClass:Ve.Do}:{provide:Ve.S$,useClass:Ve.b0},{provide:to,useFactory:()=>{const w=(0,c.f3M)(Gn),b=(0,c.f3M)(Ve.EM),y=(0,c.f3M)(kt);return y.scrollOffset&&b.setOffset(y.scrollOffset),new Wo(w,b,y)}},A?.preloadingStrategy?ma(A.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:_o},A?.initialNavigation?au(A):[],[{provide:Lo,useFactory:no},{provide:c.tb,multi:!0,useExisting:Lo}]]}}static forChild(y){return{ngModule:w,providers:[ou(y)]}}}return w.\u0275fac=function(y){return new(y||w)(c.LFG(Vs,8))},w.\u0275mod=c.oAB({type:w}),w.\u0275inj=c.cJS({imports:[si]}),w})();function fs(w){return"guarded"}function au(w){return["disabled"===w.initialNavigation?ua(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const b=(0,c.f3M)(Gn);return()=>{b.setUpLocationChangeListener()}}},{provide:la,useValue:2}]).\u0275providers:[],"enabledBlocking"===w.initialNavigation?ua(2,[{provide:la,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:b=>{const y=b.get(Ve.V_,Promise.resolve());let A=!1;return()=>y.then(()=>new Promise(X=>{const Ee=b.get(Gn),Ie=b.get(bu);(function F(X){b.get(Gn).events.pipe((0,Kt.h)(Ie=>Ie instanceof Ji||Ie instanceof os||Ie instanceof Xi),(0,xe.U)(Ie=>Ie instanceof Ji||Ie instanceof os&&(0===Ie.code||1===Ie.code)&&null),(0,Kt.h)(Ie=>null!==Ie),(0,Ft.q)(1)).subscribe(()=>{X()})})(()=>{X(!0),A=!0}),Ee.afterPreactivation=()=>(X(!0),A||Ie.closed?(0,j.of)(void 0):Ie),Ee.initialNavigation()}))}}]).\u0275providers:[]]}const Lo=new c.OlP("")},3942:(tn,et,P)=>{P.d(et,{Z:()=>ze});var c=P(2090),U=P(4859),j=P(9681),pe=P(1877);class m{constructor(We,Ge){this._delegate=We,this.firebase=Ge,(0,j._addComponent)(We,new U.wA("app-compat",()=>this,"PUBLIC")),this.container=We.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(We){this._delegate.automaticDataCollectionEnabled=We}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(We=>{this._delegate.checkDestroyed(),We()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,j.deleteApp)(this._delegate)))}_getService(We,Ge=j._DEFAULT_ENTRY_NAME){var Tt;this._delegate.checkDestroyed();const Bt=this._delegate.container.getProvider(We);return!Bt.isInitialized()&&"EXPLICIT"===(null===(Tt=Bt.getComponent())||void 0===Tt?void 0:Tt.instantiationMode)&&Bt.initialize(),Bt.getImmediate({identifier:Ge})}_removeServiceInstance(We,Ge=j._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(We).clearInstance(Ge)}_addComponent(We){(0,j._addComponent)(this._delegate,We)}_addOrOverwriteComponent(We){(0,j._addOrOverwriteComponent)(this._delegate,We)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ke=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),q=function Ae(){const Pt=function Pe(Pt){const We={},Ge={__esModule:!0,initializeApp:function ge(Re,Ye={}){const rt=j.initializeApp(Re,Ye);if((0,c.r3)(We,rt.name))return We[rt.name];const _e=new Pt(rt,Ge);return We[rt.name]=_e,_e},app:Bt,registerVersion:j.registerVersion,setLogLevel:j.setLogLevel,onLog:j.onLog,apps:null,SDK_VERSION:j.SDK_VERSION,INTERNAL:{registerComponent:function ot(Re){const Ye=Re.name,rt=Ye.replace("-compat","");if(j._registerComponent(Re)&&"PUBLIC"===Re.type){const _e=(Ve=Bt())=>{if("function"!=typeof Ve[rt])throw ke.create("invalid-app-argument",{appName:Ye});return Ve[rt]()};void 0!==Re.serviceProps&&(0,c.ZB)(_e,Re.serviceProps),Ge[rt]=_e,Pt.prototype[rt]=function(...Ve){return this._getService.bind(this,Ye).apply(this,Re.multipleInstances?Ve:[])}}return"PUBLIC"===Re.type?Ge[rt]:null},removeApp:function Tt(Re){delete We[Re]},useAsService:function _t(Re,Ye){return"serverAuth"===Ye?null:Ye},modularAPIs:j}};function Bt(Re){if(!(0,c.r3)(We,Re=Re||j._DEFAULT_ENTRY_NAME))throw ke.create("no-app",{appName:Re});return We[Re]}return Ge.default=Ge,Object.defineProperty(Ge,"apps",{get:function He(){return Object.keys(We).map(Re=>We[Re])}}),Bt.App=Pt,Ge}(m);return Pt.INTERNAL=Object.assign(Object.assign({},Pt.INTERNAL),{createFirebaseNamespace:Ae,extendNamespace:function We(Ge){(0,c.ZB)(Pt,Ge)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),Pt}(),Q=new pe.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){Q.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Pt=self.firebase.SDK_VERSION;Pt&&Pt.indexOf("LITE")>=0&&Q.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ze=q;!function Qe(Pt){(0,j.registerVersion)("@firebase/app-compat","0.1.37",Pt)}()},9681:(tn,et,P)=>{P.r(et),P.d(et,{FirebaseError:()=>pe.ZR,SDK_VERSION:()=>fr,_DEFAULT_ENTRY_NAME:()=>un,_addComponent:()=>Dt,_addOrOverwriteComponent:()=>ht,_apps:()=>vn,_clearComponents:()=>sr,_components:()=>fn,_getProvider:()=>Xt,_registerComponent:()=>wt,_removeServiceInstance:()=>Fn,deleteApp:()=>dr,getApp:()=>rr,getApps:()=>br,initializeApp:()=>cn,onLog:()=>Ln,registerVersion:()=>or,setLogLevel:()=>jn});var c=P(5861),U=P(4859),j=P(1877),pe=P(2090),m=P(8766);class Te{constructor(le){this.container=le}getPlatformInfoString(){return this.container.getProviders().map(ve=>{if(function ke(lt){return"VERSION"===lt.getComponent()?.type}(ve)){const ut=ve.getImmediate();return`${ut.library}/${ut.version}`}return null}).filter(ve=>ve).join(" ")}}const Pe="@firebase/app",q=new j.Yd("@firebase/app"),un="[DEFAULT]",Ot={[Pe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},vn=new Map,fn=new Map;function Dt(lt,le){try{lt.container.addComponent(le)}catch(ve){q.debug(`Component ${le.name} failed to register with FirebaseApp ${lt.name}`,ve)}}function ht(lt,le){lt.container.addOrOverwriteComponent(le)}function wt(lt){const le=lt.name;if(fn.has(le))return q.debug(`There were multiple attempts to register component ${le}.`),!1;fn.set(le,lt);for(const ve of vn.values())Dt(ve,lt);return!0}function Xt(lt,le){const ve=lt.container.getProvider("heartbeat").getImmediate({optional:!0});return ve&&ve.triggerHeartbeat(),lt.container.getProvider(le)}function Fn(lt,le,ve=un){Xt(lt,le).clearInstance(ve)}function sr(){fn.clear()}const nr=new pe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Kn{constructor(le,ve,ut){this._isDeleted=!1,this._options=Object.assign({},le),this._config=Object.assign({},ve),this._name=ve.name,this._automaticDataCollectionEnabled=ve.automaticDataCollectionEnabled,this._container=ut,this.container.addComponent(new U.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(le){this.checkDestroyed(),this._automaticDataCollectionEnabled=le}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(le){this._isDeleted=le}checkDestroyed(){if(this.isDeleted)throw nr.create("app-deleted",{appName:this._name})}}const fr="9.12.1";function cn(lt,le={}){let ve=lt;"object"!=typeof le&&(le={name:le});const ut=Object.assign({name:un,automaticDataCollectionEnabled:!1},le),It=ut.name;if("string"!=typeof It||!It)throw nr.create("bad-app-name",{appName:String(It)});if(ve||(ve=(0,pe.aH)()),!ve)throw nr.create("no-options");const pn=vn.get(It);if(pn){if((0,pe.vZ)(ve,pn.options)&&(0,pe.vZ)(ut,pn.config))return pn;throw nr.create("duplicate-app",{appName:It})}const De=new U.H0(It);for(const Oe of fn.values())De.addComponent(Oe);const ce=new Kn(ve,ut,De);return vn.set(It,ce),ce}function rr(lt=un){const le=vn.get(lt);if(!le&&lt===un)return cn();if(!le)throw nr.create("no-app",{appName:lt});return le}function br(){return Array.from(vn.values())}function dr(lt){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,c.Z)(function*(lt){const le=lt.name;vn.has(le)&&(vn.delete(le),yield Promise.all(lt.container.getProviders().map(ve=>ve.delete())),lt.isDeleted=!0)})).apply(this,arguments)}function or(lt,le,ve){var ut;let It=null!==(ut=Ot[lt])&&void 0!==ut?ut:lt;ve&&(It+=`-${ve}`);const pn=It.match(/\s|\//),De=le.match(/\s|\//);if(pn||De){const ce=[`Unable to register library "${It}" with version "${le}":`];return pn&&ce.push(`library name "${It}" contains illegal characters (whitespace or "/")`),pn&&De&&ce.push("and"),De&&ce.push(`version name "${le}" contains illegal characters (whitespace or "/")`),void q.warn(ce.join(" "))}wt(new U.wA(`${It}-version`,()=>({library:It,version:le}),"VERSION"))}function Ln(lt,le){if(null!==lt&&"function"!=typeof lt)throw nr.create("invalid-log-argument");(0,j.Am)(lt,le)}function jn(lt){(0,j.Ub)(lt)}const Ar="firebase-heartbeat-store";let Hn=null;function qn(){return Hn||(Hn=(0,m.X3)("firebase-heartbeat-database",1,{upgrade:(lt,le)=>{0===le&&lt.createObjectStore(Ar)}}).catch(lt=>{throw nr.create("idb-open",{originalErrorMessage:lt.message})})),Hn}function mn(){return(mn=(0,c.Z)(function*(lt){var le;try{return(yield qn()).transaction(Ar).objectStore(Ar).get(Se(lt))}catch(ve){if(ve instanceof pe.ZR)q.warn(ve.message);else{const ut=nr.create("idb-get",{originalErrorMessage:null===(le=ve)||void 0===le?void 0:le.message});q.warn(ut.message)}}})).apply(this,arguments)}function Rn(lt,le){return Et.apply(this,arguments)}function Et(){return(Et=(0,c.Z)(function*(lt,le){var ve;try{const It=(yield qn()).transaction(Ar,"readwrite");return yield It.objectStore(Ar).put(le,Se(lt)),It.done}catch(ut){if(ut instanceof pe.ZR)q.warn(ut.message);else{const It=nr.create("idb-set",{originalErrorMessage:null===(ve=ut)||void 0===ve?void 0:ve.message});q.warn(It.message)}}})).apply(this,arguments)}function Se(lt){return`${lt.name}!${lt.options.appId}`}class St{constructor(le){this.container=le,this._heartbeatsCache=null;const ve=this.container.getProvider("app").getImmediate();this._storage=new ln(ve),this._heartbeatsCachePromise=this._storage.read().then(ut=>(this._heartbeatsCache=ut,ut))}triggerHeartbeat(){var le=this;return(0,c.Z)(function*(){const ut=le.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),It=Qt();if(null===le._heartbeatsCache&&(le._heartbeatsCache=yield le._heartbeatsCachePromise),le._heartbeatsCache.lastSentHeartbeatDate!==It&&!le._heartbeatsCache.heartbeats.some(pn=>pn.date===It))return le._heartbeatsCache.heartbeats.push({date:It,agent:ut}),le._heartbeatsCache.heartbeats=le._heartbeatsCache.heartbeats.filter(pn=>{const De=new Date(pn.date).valueOf();return Date.now()-De<=2592e6}),le._storage.overwrite(le._heartbeatsCache)})()}getHeartbeatsHeader(){var le=this;return(0,c.Z)(function*(){if(null===le._heartbeatsCache&&(yield le._heartbeatsCachePromise),null===le._heartbeatsCache||0===le._heartbeatsCache.heartbeats.length)return"";const ve=Qt(),{heartbeatsToSend:ut,unsentEntries:It}=function Xn(lt,le=1024){const ve=[];let ut=lt.slice();for(const It of lt){const pn=ve.find(De=>De.agent===It.agent);if(pn){if(pn.dates.push(It.date),Sn(ve)>le){pn.dates.pop();break}}else if(ve.push({agent:It.agent,dates:[It.date]}),Sn(ve)>le){ve.pop();break}ut=ut.slice(1)}return{heartbeatsToSend:ve,unsentEntries:ut}}(le._heartbeatsCache.heartbeats),pn=(0,pe.L)(JSON.stringify({version:2,heartbeats:ut}));return le._heartbeatsCache.lastSentHeartbeatDate=ve,It.length>0?(le._heartbeatsCache.heartbeats=It,yield le._storage.overwrite(le._heartbeatsCache)):(le._heartbeatsCache.heartbeats=[],le._storage.overwrite(le._heartbeatsCache)),pn})()}}function Qt(){return(new Date).toISOString().substring(0,10)}class ln{constructor(le){this.app=le,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,pe.hl)()&&(0,pe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var le=this;return(0,c.Z)(function*(){return(yield le._canUseIndexedDBPromise)&&(yield function yn(lt){return mn.apply(this,arguments)}(le.app))||{heartbeats:[]}})()}overwrite(le){var ve=this;return(0,c.Z)(function*(){var ut;if(yield ve._canUseIndexedDBPromise){const pn=yield ve.read();return Rn(ve.app,{lastSentHeartbeatDate:null!==(ut=le.lastSentHeartbeatDate)&&void 0!==ut?ut:pn.lastSentHeartbeatDate,heartbeats:le.heartbeats})}})()}add(le){var ve=this;return(0,c.Z)(function*(){var ut;if(yield ve._canUseIndexedDBPromise){const pn=yield ve.read();return Rn(ve.app,{lastSentHeartbeatDate:null!==(ut=le.lastSentHeartbeatDate)&&void 0!==ut?ut:pn.lastSentHeartbeatDate,heartbeats:[...pn.heartbeats,...le.heartbeats]})}})()}}function Sn(lt){return(0,pe.L)(JSON.stringify({version:2,heartbeats:lt})).length}!function we(lt){wt(new U.wA("platform-logger",le=>new Te(le),"PRIVATE")),wt(new U.wA("heartbeat",le=>new St(le),"PRIVATE")),or(Pe,"0.8.2",lt),or(Pe,"0.8.2","esm2017"),or("fire-js","")}("")},4859:(tn,et,P)=>{P.d(et,{H0:()=>Pe,wA:()=>j});var c=P(5861),U=P(2090);class j{constructor(q,Q,me){this.name=q,this.instanceFactory=Q,this.type=me,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(q){return this.instantiationMode=q,this}setMultipleInstances(q){return this.multipleInstances=q,this}setServiceProps(q){return this.serviceProps=q,this}setInstanceCreatedCallback(q){return this.onInstanceCreated=q,this}}const pe="[DEFAULT]";class m{constructor(q,Q){this.name=q,this.container=Q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(q){const Q=this.normalizeInstanceIdentifier(q);if(!this.instancesDeferred.has(Q)){const me=new U.BH;if(this.instancesDeferred.set(Q,me),this.isInitialized(Q)||this.shouldAutoInitialize())try{const tt=this.getOrInitializeService({instanceIdentifier:Q});tt&&me.resolve(tt)}catch{}}return this.instancesDeferred.get(Q).promise}getImmediate(q){var Q;const me=this.normalizeInstanceIdentifier(q?.identifier),tt=null!==(Q=q?.optional)&&void 0!==Q&&Q;if(!this.isInitialized(me)&&!this.shouldAutoInitialize()){if(tt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:me})}catch(Qe){if(tt)return null;throw Qe}}getComponent(){return this.component}setComponent(q){if(q.name!==this.name)throw Error(`Mismatching Component ${q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=q,this.shouldAutoInitialize()){if(function ke(Ae){return"EAGER"===Ae.instantiationMode}(q))try{this.getOrInitializeService({instanceIdentifier:pe})}catch{}for(const[Q,me]of this.instancesDeferred.entries()){const tt=this.normalizeInstanceIdentifier(Q);try{const Qe=this.getOrInitializeService({instanceIdentifier:tt});me.resolve(Qe)}catch{}}}}clearInstance(q=pe){this.instancesDeferred.delete(q),this.instancesOptions.delete(q),this.instances.delete(q)}delete(){var q=this;return(0,c.Z)(function*(){const Q=Array.from(q.instances.values());yield Promise.all([...Q.filter(me=>"INTERNAL"in me).map(me=>me.INTERNAL.delete()),...Q.filter(me=>"_delete"in me).map(me=>me._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(q=pe){return this.instances.has(q)}getOptions(q=pe){return this.instancesOptions.get(q)||{}}initialize(q={}){const{options:Q={}}=q,me=this.normalizeInstanceIdentifier(q.instanceIdentifier);if(this.isInitialized(me))throw Error(`${this.name}(${me}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const tt=this.getOrInitializeService({instanceIdentifier:me,options:Q});for(const[Qe,ze]of this.instancesDeferred.entries())me===this.normalizeInstanceIdentifier(Qe)&&ze.resolve(tt);return tt}onInit(q,Q){var me;const tt=this.normalizeInstanceIdentifier(Q),Qe=null!==(me=this.onInitCallbacks.get(tt))&&void 0!==me?me:new Set;Qe.add(q),this.onInitCallbacks.set(tt,Qe);const ze=this.instances.get(tt);return ze&&q(ze,tt),()=>{Qe.delete(q)}}invokeOnInitCallbacks(q,Q){const me=this.onInitCallbacks.get(Q);if(me)for(const tt of me)try{tt(q,Q)}catch{}}getOrInitializeService({instanceIdentifier:q,options:Q={}}){let me=this.instances.get(q);if(!me&&this.component&&(me=this.component.instanceFactory(this.container,{instanceIdentifier:(Ae=q,Ae===pe?void 0:Ae),options:Q}),this.instances.set(q,me),this.instancesOptions.set(q,Q),this.invokeOnInitCallbacks(me,q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,q,me)}catch{}var Ae;return me||null}normalizeInstanceIdentifier(q=pe){return this.component?this.component.multipleInstances?q:pe:q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Pe{constructor(q){this.name=q,this.providers=new Map}addComponent(q){const Q=this.getProvider(q.name);if(Q.isComponentSet())throw new Error(`Component ${q.name} has already been registered with ${this.name}`);Q.setComponent(q)}addOrOverwriteComponent(q){this.getProvider(q.name).isComponentSet()&&this.providers.delete(q.name),this.addComponent(q)}getProvider(q){if(this.providers.has(q))return this.providers.get(q);const Q=new m(q,this);return this.providers.set(q,Q),Q}getProviders(){return Array.from(this.providers.values())}}},1877:(tn,et,P)=>{P.d(et,{Am:()=>Ae,Ub:()=>Pe,Yd:()=>ke,in:()=>U});const c=[];var U=(()=>{return(q=U||(U={}))[q.DEBUG=0]="DEBUG",q[q.VERBOSE=1]="VERBOSE",q[q.INFO=2]="INFO",q[q.WARN=3]="WARN",q[q.ERROR=4]="ERROR",q[q.SILENT=5]="SILENT",U;var q})();const j={debug:U.DEBUG,verbose:U.VERBOSE,info:U.INFO,warn:U.WARN,error:U.ERROR,silent:U.SILENT},pe=U.INFO,m={[U.DEBUG]:"log",[U.VERBOSE]:"log",[U.INFO]:"info",[U.WARN]:"warn",[U.ERROR]:"error"},Te=(q,Q,...me)=>{if(Q<q.logLevel)return;const tt=(new Date).toISOString(),Qe=m[Q];if(!Qe)throw new Error(`Attempted to log a message with an invalid logType (value: ${Q})`);console[Qe](`[${tt}]  ${q.name}:`,...me)};class ke{constructor(Q){this.name=Q,this._logLevel=pe,this._logHandler=Te,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(Q){if(!(Q in U))throw new TypeError(`Invalid value "${Q}" assigned to \`logLevel\``);this._logLevel=Q}setLogLevel(Q){this._logLevel="string"==typeof Q?j[Q]:Q}get logHandler(){return this._logHandler}set logHandler(Q){if("function"!=typeof Q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Q}get userLogHandler(){return this._userLogHandler}set userLogHandler(Q){this._userLogHandler=Q}debug(...Q){this._userLogHandler&&this._userLogHandler(this,U.DEBUG,...Q),this._logHandler(this,U.DEBUG,...Q)}log(...Q){this._userLogHandler&&this._userLogHandler(this,U.VERBOSE,...Q),this._logHandler(this,U.VERBOSE,...Q)}info(...Q){this._userLogHandler&&this._userLogHandler(this,U.INFO,...Q),this._logHandler(this,U.INFO,...Q)}warn(...Q){this._userLogHandler&&this._userLogHandler(this,U.WARN,...Q),this._logHandler(this,U.WARN,...Q)}error(...Q){this._userLogHandler&&this._userLogHandler(this,U.ERROR,...Q),this._logHandler(this,U.ERROR,...Q)}}function Pe(q){c.forEach(Q=>{Q.setLogLevel(q)})}function Ae(q,Q){for(const me of c){let tt=null;Q&&Q.level&&(tt=j[Q.level]),me.userLogHandler=null===q?null:(Qe,ze,...Pt)=>{const We=Pt.map(Ge=>{if(null==Ge)return null;if("string"==typeof Ge)return Ge;if("number"==typeof Ge||"boolean"==typeof Ge)return Ge.toString();if(Ge instanceof Error)return Ge.message;try{return JSON.stringify(Ge)}catch{return null}}).filter(Ge=>Ge).join(" ");ze>=(tt??Qe.logLevel)&&q({level:U[ze].toLowerCase(),message:We,args:Pt,type:Qe.name})}}}},3673:(tn,et,P)=>{P.d(et,{l:()=>j,x:()=>U});var c=P(4650);let U=(()=>{class pe{constructor(Te,ke){this.el=Te,this._zone=ke,this.updateChange=new c.vpe(!0),this.chartInstance=new c.vpe}ngOnChanges(Te){const ke=Te.update&&Te.update.currentValue;(Te.options||ke)&&(this.wrappedUpdateOrCreateChart(),ke&&this.updateChange.emit(!1))}wrappedUpdateOrCreateChart(){this.runOutsideAngular?this._zone.runOutsideAngular(()=>{this.updateOrCreateChart()}):this.updateOrCreateChart()}updateOrCreateChart(){this.chart&&this.chart.update?this.chart.update(this.options,!0,this.oneToOne||!1):(this.chart=this.Highcharts[this.constructorType||"chart"](this.el.nativeElement,this.options,this.callbackFunction||null),this.chartInstance.emit(this.chart))}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.chart=null)}}return pe.\u0275fac=function(Te){return new(Te||pe)(c.Y36(c.SBq),c.Y36(c.R0b))},pe.\u0275cmp=c.Xpm({type:pe,selectors:[["highcharts-chart"]],inputs:{Highcharts:"Highcharts",constructorType:"constructorType",callbackFunction:"callbackFunction",oneToOne:"oneToOne",runOutsideAngular:"runOutsideAngular",options:"options",update:"update"},outputs:{updateChange:"updateChange",chartInstance:"chartInstance"},features:[c.TTD],decls:0,vars:0,template:function(Te,ke){},encapsulation:2}),pe})(),j=(()=>{class pe{}return pe.\u0275fac=function(Te){return new(Te||pe)},pe.\u0275mod=c.oAB({type:pe}),pe.\u0275inj=c.cJS({}),pe})()},8766:(tn,et,P)=>{P.d(et,{Lj:()=>ge,X3:()=>Bt});var c=P(5861);let j,pe;const ke=new WeakMap,Pe=new WeakMap,Ae=new WeakMap,q=new WeakMap,Q=new WeakMap;let Qe={get(Ye,rt,_e){if(Ye instanceof IDBTransaction){if("done"===rt)return Pe.get(Ye);if("objectStoreNames"===rt)return Ye.objectStoreNames||Ae.get(Ye);if("store"===rt)return _e.objectStoreNames[1]?void 0:_e.objectStore(_e.objectStoreNames[0])}return Ge(Ye[rt])},set:(Ye,rt,_e)=>(Ye[rt]=_e,!0),has:(Ye,rt)=>Ye instanceof IDBTransaction&&("done"===rt||"store"===rt)||rt in Ye};function We(Ye){return"function"==typeof Ye?function Pt(Ye){return Ye!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Te(){return pe||(pe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ye)?function(...rt){return Ye.apply(Tt(this),rt),Ge(ke.get(this))}:function(...rt){return Ge(Ye.apply(Tt(this),rt))}:function(rt,..._e){const Ve=Ye.call(Tt(this),rt,..._e);return Ae.set(Ve,rt.sort?rt.sort():[rt]),Ge(Ve)}}(Ye):(Ye instanceof IDBTransaction&&function tt(Ye){if(Pe.has(Ye))return;const rt=new Promise((_e,Ve)=>{const xe=()=>{Ye.removeEventListener("complete",$e),Ye.removeEventListener("error",Ft),Ye.removeEventListener("abort",Ft)},$e=()=>{_e(),xe()},Ft=()=>{Ve(Ye.error||new DOMException("AbortError","AbortError")),xe()};Ye.addEventListener("complete",$e),Ye.addEventListener("error",Ft),Ye.addEventListener("abort",Ft)});Pe.set(Ye,rt)}(Ye),((Ye,rt)=>rt.some(_e=>Ye instanceof _e))(Ye,function m(){return j||(j=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ye,Qe):Ye)}function Ge(Ye){if(Ye instanceof IDBRequest)return function me(Ye){const rt=new Promise((_e,Ve)=>{const xe=()=>{Ye.removeEventListener("success",$e),Ye.removeEventListener("error",Ft)},$e=()=>{_e(Ge(Ye.result)),xe()},Ft=()=>{Ve(Ye.error),xe()};Ye.addEventListener("success",$e),Ye.addEventListener("error",Ft)});return rt.then(_e=>{_e instanceof IDBCursor&&ke.set(_e,Ye)}).catch(()=>{}),Q.set(rt,Ye),rt}(Ye);if(q.has(Ye))return q.get(Ye);const rt=We(Ye);return rt!==Ye&&(q.set(Ye,rt),Q.set(rt,Ye)),rt}const Tt=Ye=>Q.get(Ye);function Bt(Ye,rt,{blocked:_e,upgrade:Ve,blocking:xe,terminated:$e}={}){const Ft=indexedDB.open(Ye,rt),jt=Ge(Ft);return Ve&&Ft.addEventListener("upgradeneeded",Kt=>{Ve(Ge(Ft.result),Kt.oldVersion,Kt.newVersion,Ge(Ft.transaction))}),_e&&Ft.addEventListener("blocked",()=>_e()),jt.then(Kt=>{$e&&Kt.addEventListener("close",()=>$e()),xe&&Kt.addEventListener("versionchange",()=>xe())}).catch(()=>{}),jt}function ge(Ye,{blocked:rt}={}){const _e=indexedDB.deleteDatabase(Ye);return rt&&_e.addEventListener("blocked",()=>rt()),Ge(_e).then(()=>{})}const He=["get","getKey","getAll","getAllKeys","count"],ot=["put","add","delete","clear"],_t=new Map;function Re(Ye,rt){if(!(Ye instanceof IDBDatabase)||rt in Ye||"string"!=typeof rt)return;if(_t.get(rt))return _t.get(rt);const _e=rt.replace(/FromIndex$/,""),Ve=rt!==_e,xe=ot.includes(_e);if(!(_e in(Ve?IDBIndex:IDBObjectStore).prototype)||!xe&&!He.includes(_e))return;const $e=function(){var Ft=(0,c.Z)(function*(jt,...Kt){const nn=this.transaction(jt,xe?"readwrite":"readonly");let un=nn.store;return Ve&&(un=un.index(Kt.shift())),(yield Promise.all([un[_e](...Kt),xe&&nn.done]))[0]});return function(Kt){return Ft.apply(this,arguments)}}();return _t.set(rt,$e),$e}!function ze(Ye){Qe=Ye(Qe)}(Ye=>({...Ye,get:(rt,_e,Ve)=>Re(rt,_e)||Ye.get(rt,_e,Ve),has:(rt,_e)=>!!Re(rt,_e)||Ye.has(rt,_e)}))},5861:(tn,et,P)=>{function c(j,pe,m,Te,ke,Pe,Ae){try{var q=j[Pe](Ae),Q=q.value}catch(me){return void m(me)}q.done?pe(Q):Promise.resolve(Q).then(Te,ke)}function U(j){return function(){var pe=this,m=arguments;return new Promise(function(Te,ke){var Pe=j.apply(pe,m);function Ae(Q){c(Pe,Te,ke,Ae,q,"next",Q)}function q(Q){c(Pe,Te,ke,Ae,q,"throw",Q)}Ae(void 0)})}}P.d(et,{Z:()=>U})}},tn=>{tn(tn.s=8030)}]);